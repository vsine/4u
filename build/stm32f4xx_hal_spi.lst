ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.syntax unified
  17              		.file	"stm32f4xx_hal_spi.c"
  18              		.text
  19              	.Ltext0:
  20              		.cfi_sections	.debug_frame
  21              		.section	.text.SPI_AbortRx_ISR,"ax",%progbits
  22              		.align	2
  23              		.thumb
  24              		.thumb_func
  26              	SPI_AbortRx_ISR:
  27              	.LFB183:
  28              		.file 1 "Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c"
   1:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
   2:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ******************************************************************************
   3:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @file    stm32f4xx_hal_spi.c
   4:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @author  MCD Application Team
   5:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief   SPI HAL module driver.
   6:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *          This file provides firmware functions to manage the following
   7:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *          functionalities of the Serial Peripheral Interface (SPI) peripheral:
   8:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           + Initialization and de-initialization functions
   9:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           + IO operation functions
  10:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           + Peripheral Control functions
  11:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           + Peripheral State functions
  12:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *
  13:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   @verbatim
  14:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ==============================================================================
  15:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                         ##### How to use this driver #####
  16:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ==============================================================================
  17:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     [..]
  18:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       The SPI HAL driver can be used as follows:
  19:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  20:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) Declare a SPI_HandleTypeDef handle structure, for example:
  21:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           SPI_HandleTypeDef  hspi;
  22:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  23:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#)Initialize the SPI low level resources by implementing the HAL_SPI_MspInit() API:
  24:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) Enable the SPIx interface clock
  25:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) SPI pins configuration
  26:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Enable the clock for the SPI GPIOs
  27:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Configure these SPI pins as alternate function push-pull
  28:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) NVIC configuration if you need to use interrupt process
  29:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Configure the SPIx interrupt priority
  30:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Enable the NVIC SPI IRQ handle
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 2


  31:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) DMA Configuration if you need to use DMA process
  32:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Declare a DMA_HandleTypeDef handle structure for the transmit or receive Stream
  33:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Enable the DMAx clock
  34:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Configure the DMA handle parameters
  35:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Configure the DMA Tx or Rx Stream/Channel
  36:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Associate the initialized hdma_tx(or _rx)  handle to the hspi DMA Tx or Rx hand
  37:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               (+++) Configure the priority and enable the NVIC for the transfer complete interrupt 
  38:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  39:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) Program the Mode, BidirectionalMode , Data size, Baudrate Prescaler, NSS
  40:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           management, Clock polarity and phase, FirstBit and CRC configuration in the hspi Init str
  41:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  42:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) Initialize the SPI registers by calling the HAL_SPI_Init() API:
  43:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (++) This API configures also the low level Hardware GPIO, CLOCK, CORTEX...etc)
  44:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               by calling the customized HAL_SPI_MspInit() API.
  45:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      [..]
  46:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        Circular mode restriction:
  47:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) The DMA circular mode cannot be used when the SPI is configured in these modes:
  48:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) Master 2Lines RxOnly
  49:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) Master 1Line Rx
  50:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) The CRC feature is not managed when the DMA circular mode is enabled
  51:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) When the SPI DMA Pause/Stop features are used, we must use the following APIs
  52:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           the HAL_SPI_DMAPause()/ HAL_SPI_DMAStop() only under the SPI callbacks
  53:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      [..]
  54:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        Master Receive mode restriction:
  55:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) In Master unidirectional receive-only mode (MSTR =1, BIDIMODE=0, RXONLY=1) or
  56:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           bidirectional receive mode (MSTR=1, BIDIMODE=1, BIDIOE=0), to ensure that the SPI
  57:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           does not initiate a new transfer the following procedure has to be respected:
  58:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) HAL_SPI_DeInit()
  59:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           (##) HAL_SPI_Init()
  60:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      [..]
  61:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        Callback registration:
  62:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  63:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) The compilation flag USE_HAL_SPI_REGISTER_CALLBACKS when set to 1U
  64:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           allows the user to configure dynamically the driver callbacks.
  65:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           Use Functions HAL_SPI_RegisterCallback() to register an interrupt callback.
  66:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  67:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           Function HAL_SPI_RegisterCallback() allows to register following callbacks:
  68:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) TxCpltCallback        : SPI Tx Completed callback
  69:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) RxCpltCallback        : SPI Rx Completed callback
  70:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) TxRxCpltCallback      : SPI TxRx Completed callback
  71:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) TxHalfCpltCallback    : SPI Tx Half Completed callback
  72:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) RxHalfCpltCallback    : SPI Rx Half Completed callback
  73:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) TxRxHalfCpltCallback  : SPI TxRx Half Completed callback
  74:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) ErrorCallback         : SPI Error callback
  75:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) AbortCpltCallback     : SPI Abort callback
  76:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) MspInitCallback       : SPI Msp Init callback
  77:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) MspDeInitCallback     : SPI Msp DeInit callback
  78:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           This function takes as parameters the HAL peripheral handle, the Callback ID
  79:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           and a pointer to the user callback function.
  80:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  81:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  82:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (#) Use function HAL_SPI_UnRegisterCallback to reset a callback to the default
  83:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           weak function.
  84:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           HAL_SPI_UnRegisterCallback takes as parameters the HAL peripheral handle,
  85:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           and the Callback ID.
  86:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           This function allows to reset following callbacks:
  87:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) TxCpltCallback        : SPI Tx Completed callback
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 3


  88:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) RxCpltCallback        : SPI Rx Completed callback
  89:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) TxRxCpltCallback      : SPI TxRx Completed callback
  90:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) TxHalfCpltCallback    : SPI Tx Half Completed callback
  91:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) RxHalfCpltCallback    : SPI Rx Half Completed callback
  92:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) TxRxHalfCpltCallback  : SPI TxRx Half Completed callback
  93:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) ErrorCallback         : SPI Error callback
  94:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) AbortCpltCallback     : SPI Abort callback
  95:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) MspInitCallback       : SPI Msp Init callback
  96:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (++) MspDeInitCallback     : SPI Msp DeInit callback
  97:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
  98:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        [..]
  99:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        By default, after the HAL_SPI_Init() and when the state is HAL_SPI_STATE_RESET
 100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        all callbacks are set to the corresponding weak functions:
 101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        examples HAL_SPI_MasterTxCpltCallback(), HAL_SPI_MasterRxCpltCallback().
 102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        Exception done for MspInit and MspDeInit functions that are
 103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        reset to the legacy weak functions in the HAL_SPI_Init()/ HAL_SPI_DeInit() only when
 104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        these callbacks are null (not registered beforehand).
 105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        If MspInit or MspDeInit are not null, the HAL_SPI_Init()/ HAL_SPI_DeInit()
 106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        keep and use the user MspInit/MspDeInit callbacks (registered beforehand) whatever the state
 107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        [..]
 109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        Callbacks can be registered/unregistered in HAL_SPI_STATE_READY state only.
 110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        Exception done MspInit/MspDeInit functions that can be registered/unregistered
 111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        in HAL_SPI_STATE_READY or HAL_SPI_STATE_RESET state,
 112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        thus registered (user) MspInit/DeInit callbacks can be used during the Init/DeInit.
 113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        Then, the user first registers the MspInit/MspDeInit user callbacks
 114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        using HAL_SPI_RegisterCallback() before calling HAL_SPI_DeInit()
 115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        or HAL_SPI_Init() function.
 116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        [..]
 118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        When the compilation define USE_HAL_PPP_REGISTER_CALLBACKS is set to 0 or
 119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        not defined, the callback registering feature is not available
 120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        and weak (surcharged) callbacks are used.
 121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      [..]
 123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        Using the HAL it is not possible to reach all supported SPI frequency with the different SPI
 124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        the following table resume the max SPI frequency reached with data size 8bits/16bits,
 125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****          according to frequency of the APBx Peripheral Clock (fPCLK) used by the SPI instance.
 126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   @endverbatim
 128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   Additional table :
 130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        DataSize = SPI_DATASIZE_8BIT:
 132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |         |                | 2Lines Fullduplex   |     2Lines RxOnly    |         1Line     
 134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        | Process | Transfer mode  |---------------------|----------------------|-------------------
 135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |         |                |  Master  |  Slave   |  Master   |  Slave   |  Master   |  Slave
 136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |===========================================================================================
 137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |    T    |     Polling    | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA  
 138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |    /    |     Interrupt  | Fpclk/4  | Fpclk/8  |    NA     |    NA    |    NA     |   NA  
 140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |    R    |----------------|----------|----------|-----------|----------|-----------|-------
 141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |    X    |       DMA      | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA  
 142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |         |     Polling    | Fpclk/2  | Fpclk/2  | Fpclk/64  | Fpclk/2  | Fpclk/64  | Fpclk/
 144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 4


 145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |    R    |     Interrupt  | Fpclk/8  | Fpclk/8  | Fpclk/64  | Fpclk/2  | Fpclk/64  | Fpclk/
 146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |         |       DMA      | Fpclk/2  | Fpclk/2  | Fpclk/64  | Fpclk/2  | Fpclk/128 | Fpclk/
 148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |         |     Polling    | Fpclk/2  | Fpclk/4  |     NA    |    NA    | Fpclk/2   | Fpclk/
 150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |    T    |     Interrupt  | Fpclk/2  | Fpclk/4  |     NA    |    NA    | Fpclk/2   | Fpclk/
 152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |         |       DMA      | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/2   | Fpclk/
 154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        DataSize = SPI_DATASIZE_16BIT:
 157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |         |                | 2Lines Fullduplex   |     2Lines RxOnly    |         1Line     
 159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        | Process | Transfer mode  |---------------------|----------------------|-------------------
 160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |         |                |  Master  |  Slave   |  Master   |  Slave   |  Master   |  Slave
 161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |===========================================================================================
 162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |    T    |     Polling    | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA  
 163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |    /    |     Interrupt  | Fpclk/4  | Fpclk/4  |    NA     |    NA    |    NA     |   NA  
 165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |    R    |----------------|----------|----------|-----------|----------|-----------|-------
 166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |    X    |       DMA      | Fpclk/2  | Fpclk/2  |    NA     |    NA    |    NA     |   NA  
 167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |         |     Polling    | Fpclk/2  | Fpclk/2  | Fpclk/64  | Fpclk/2  | Fpclk/32  | Fpclk/
 169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |    R    |     Interrupt  | Fpclk/4  | Fpclk/4  | Fpclk/64  | Fpclk/2  | Fpclk/64  | Fpclk/
 171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |         |       DMA      | Fpclk/2  | Fpclk/2  | Fpclk/64  | Fpclk/2  | Fpclk/128 | Fpclk/
 173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |=========|================|==========|==========|===========|==========|===========|=======
 174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |         |     Polling    | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/2   | Fpclk/
 175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |         |----------------|----------|----------|-----------|----------|-----------|-------
 176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |    T    |     Interrupt  | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/2   | Fpclk/
 177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |    X    |----------------|----------|----------|-----------|----------|-----------|-------
 178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        |         |       DMA      | Fpclk/2  | Fpclk/2  |     NA    |    NA    | Fpclk/2   | Fpclk/
 179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        +-------------------------------------------------------------------------------------------
 180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        @note The max SPI frequency depend on SPI data size (8bits, 16bits),
 181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****              SPI mode(2 Lines fullduplex, 2 lines RxOnly, 1 line TX/RX) and Process mode (Polling, 
 182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        @note
 183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (#) TX/RX processes are HAL_SPI_TransmitReceive(), HAL_SPI_TransmitReceive_IT() and HAL
 184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (#) RX processes are HAL_SPI_Receive(), HAL_SPI_Receive_IT() and HAL_SPI_Receive_DMA()
 185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             (#) TX processes are HAL_SPI_Transmit(), HAL_SPI_Transmit_IT() and HAL_SPI_Transmit_DMA
 186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ******************************************************************************
 188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @attention
 189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *
 190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * <h2><center>&copy; Copyright (c) 2016 STMicroelectronics.
 191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * All rights reserved.</center></h2>
 192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *
 193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * This software component is licensed by ST under BSD 3-Clause license,
 194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * the "License"; You may not use this file except in compliance with the
 195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * License. You may obtain a copy of the License at:
 196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                        opensource.org/licenses/BSD-3-Clause
 197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *
 198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ******************************************************************************
 199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Includes ------------------------------------------------------------------*/
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 5


 202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #include "stm32f4xx_hal.h"
 203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @addtogroup STM32F4xx_HAL_Driver
 205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
 206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @defgroup SPI SPI
 209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief SPI HAL module driver
 210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
 211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #ifdef HAL_SPI_MODULE_ENABLED
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Private typedef -----------------------------------------------------------*/
 215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Private defines -----------------------------------------------------------*/
 216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @defgroup SPI_Private_Constants SPI Private Constants
 217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
 218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #define SPI_DEFAULT_TIMEOUT 100U
 220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #define SPI_BSY_FLAG_WORKAROUND_TIMEOUT 1000U /*!< Timeout 1000 Âµs             */
 221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @}
 223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Private macros ------------------------------------------------------------*/
 226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Private variables ---------------------------------------------------------*/
 227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Private function prototypes -----------------------------------------------*/
 228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @defgroup SPI_Private_Functions SPI Private Functions
 229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
 230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMATransmitCplt(DMA_HandleTypeDef *hdma);
 232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAReceiveCplt(DMA_HandleTypeDef *hdma);
 233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMATransmitReceiveCplt(DMA_HandleTypeDef *hdma);
 234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAHalfTransmitCplt(DMA_HandleTypeDef *hdma);
 235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAHalfReceiveCplt(DMA_HandleTypeDef *hdma);
 236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAHalfTransmitReceiveCplt(DMA_HandleTypeDef *hdma);
 237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAError(DMA_HandleTypeDef *hdma);
 238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAAbortOnError(DMA_HandleTypeDef *hdma);
 239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMATxAbortCallback(DMA_HandleTypeDef *hdma);
 240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMARxAbortCallback(DMA_HandleTypeDef *hdma);
 241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFlagStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Flag, Flag
 242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                                        uint32_t Timeout, uint32_t Tickstart);
 243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_TxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_TxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesRxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesTxISR_8BIT(struct __SPI_HandleTypeDef *hspi);
 249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesTxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesRxISR_16BIT(struct __SPI_HandleTypeDef *hspi);
 251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi);
 253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi);
 254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesRxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi);
 255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesRxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi);
 256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_AbortRx_ISR(SPI_HandleTypeDef *hspi);
 258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_AbortTx_ISR(SPI_HandleTypeDef *hspi);
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 6


 259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_CloseRxTx_ISR(SPI_HandleTypeDef *hspi);
 260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_CloseRx_ISR(SPI_HandleTypeDef *hspi);
 261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_CloseTx_ISR(SPI_HandleTypeDef *hspi);
 262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTransaction(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t T
 263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTxTransaction(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t
 264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @}
 266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /* Exported functions --------------------------------------------------------*/
 269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions SPI Exported Functions
 270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
 271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group1 Initialization and de-initialization functions
 274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *  @brief    Initialization and Configuration functions
 275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *
 276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** @verbatim
 277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  ===============================================================================
 278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****               ##### Initialization and de-initialization functions #####
 279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  ===============================================================================
 280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     [..]  This subsection provides a set of functions allowing to initialize and
 281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           de-initialize the SPIx peripheral:
 282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (+) User must implement HAL_SPI_MspInit() function in which he configures
 284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           all related peripherals resources (CLOCK, GPIO, DMA, IT and NVIC ).
 285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (+) Call the function HAL_SPI_Init() to configure the selected device with
 287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           the selected configuration:
 288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) Mode
 289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) Direction
 290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) Data Size
 291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) Clock Polarity and Phase
 292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) NSS Management
 293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) BaudRate Prescaler
 294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) FirstBit
 295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) TIMode
 296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) CRC Calculation
 297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (++) CRC Polynomial if CRC enabled
 298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (+) Call the function HAL_SPI_DeInit() to restore the default configuration
 300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           of the selected SPIx peripheral.
 301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** @endverbatim
 303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
 304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Initialize the SPI according to the specified parameters
 308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         in the SPI_InitTypeDef and initialize the associated handle.
 309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
 311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
 312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Init(SPI_HandleTypeDef *hspi)
 314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the SPI handle allocation */
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 7


 316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi == NULL)
 317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_ERROR;
 319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the parameters */
 322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_ALL_INSTANCE(hspi->Instance));
 323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_MODE(hspi->Init.Mode));
 324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION(hspi->Init.Direction));
 325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DATASIZE(hspi->Init.DataSize));
 326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_NSS(hspi->Init.NSS));
 327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_FIRST_BIT(hspi->Init.FirstBit));
 329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_TIMODE(hspi->Init.TIMode));
 330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.TIMode == SPI_TIMODE_DISABLE)
 331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     assert_param(IS_SPI_CPOL(hspi->Init.CLKPolarity));
 333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     assert_param(IS_SPI_CPHA(hspi->Init.CLKPhase));
 334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->Init.Mode == SPI_MODE_MASTER)
 336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
 340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Baudrate prescaler not use in Motoraola Slave mode. force to default value */
 342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_2;
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
 346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     assert_param(IS_SPI_BAUDRATE_PRESCALER(hspi->Init.BaudRatePrescaler));
 348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Force polarity and phase to TI protocaol requirements */
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Init.CLKPolarity = SPI_POLARITY_LOW;
 351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Init.CLKPhase    = SPI_PHASE_1EDGE;
 352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_CRC_CALCULATION(hspi->Init.CRCCalculation));
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     assert_param(IS_SPI_CRC_POLYNOMIAL(hspi->Init.CRCPolynomial));
 358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
 360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->State == HAL_SPI_STATE_RESET)
 364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Allocate lock resource and initialize it */
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Lock = HAL_UNLOCKED;
 367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
 369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Init the SPI Callback settings */
 370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxCpltCallback       = HAL_SPI_TxCpltCallback;       /* Legacy weak TxCpltCallback       
 371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxCpltCallback       = HAL_SPI_RxCpltCallback;       /* Legacy weak RxCpltCallback       
 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxRxCpltCallback     = HAL_SPI_TxRxCpltCallback;     /* Legacy weak TxRxCpltCallback     
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 8


 373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxHalfCpltCallback   = HAL_SPI_TxHalfCpltCallback;   /* Legacy weak TxHalfCpltCallback   
 374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxHalfCpltCallback   = HAL_SPI_RxHalfCpltCallback;   /* Legacy weak RxHalfCpltCallback   
 375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxRxHalfCpltCallback = HAL_SPI_TxRxHalfCpltCallback; /* Legacy weak TxRxHalfCpltCallback 
 376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCallback        = HAL_SPI_ErrorCallback;        /* Legacy weak ErrorCallback        
 377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->AbortCpltCallback    = HAL_SPI_AbortCpltCallback;    /* Legacy weak AbortCpltCallback    
 378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->MspInitCallback == NULL)
 380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->MspInitCallback = HAL_SPI_MspInit; /* Legacy weak MspInit  */
 382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Init the low level hardware : GPIO, CLOCK, NVIC... */
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->MspInitCallback(hspi);
 386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Init the low level hardware : GPIO, CLOCK, NVIC... */
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_MspInit(hspi);
 389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_BUSY;
 393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the selected SPI peripheral */
 395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /*----------------------- SPIx CR1 & CR2 Configuration ---------------------*/
 398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure : SPI Mode, Communication Mode, Data size, Clock polarity and phase, NSS management,
 399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   Communication speed, First bit and CRC calculation state */
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   WRITE_REG(hspi->Instance->CR1, ((hspi->Init.Mode & (SPI_CR1_MSTR | SPI_CR1_SSI)) |
 401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                   (hspi->Init.Direction & (SPI_CR1_RXONLY | SPI_CR1_BIDIMODE)) |
 402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                   (hspi->Init.DataSize & SPI_CR1_DFF) |
 403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                   (hspi->Init.CLKPolarity & SPI_CR1_CPOL) |
 404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                   (hspi->Init.CLKPhase & SPI_CR1_CPHA) |
 405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                   (hspi->Init.NSS & SPI_CR1_SSM) |
 406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                   (hspi->Init.BaudRatePrescaler & SPI_CR1_BR_Msk) |
 407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                   (hspi->Init.FirstBit  & SPI_CR1_LSBFIRST) |
 408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                   (hspi->Init.CRCCalculation & SPI_CR1_CRCEN)));
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure : NSS management, TI Mode */
 411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   WRITE_REG(hspi->Instance->CR2, (((hspi->Init.NSS >> 16U) & SPI_CR2_SSOE) | (hspi->Init.TIMode & S
 412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /*---------------------------- SPIx CRCPOLY Configuration ------------------*/
 415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure : CRC Polynomial */
 416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     WRITE_REG(hspi->Instance->CRCPR, (hspi->Init.CRCPolynomial & SPI_CRCPR_CRCPOLY_Msk));
 419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if defined(SPI_I2SCFGR_I2SMOD)
 423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Activate the SPI mode (Make sure that I2SMOD bit in I2SCFGR register is reset) */
 424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->I2SCFGR, SPI_I2SCFGR_I2SMOD);
 425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* SPI_I2SCFGR_I2SMOD */
 426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State     = HAL_SPI_STATE_READY;
 429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 9


 430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
 431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  De-Initialize the SPI peripheral.
 435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
 437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
 438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DeInit(SPI_HandleTypeDef *hspi)
 440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the SPI handle allocation */
 442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi == NULL)
 443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_ERROR;
 445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check SPI Instance parameter */
 448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_ALL_INSTANCE(hspi->Instance));
 449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_BUSY;
 451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the SPI Peripheral Clock */
 453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
 456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->MspDeInitCallback == NULL)
 457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->MspDeInitCallback = HAL_SPI_MspDeInit; /* Legacy weak MspDeInit  */
 459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* DeInit the low level hardware: GPIO, CLOCK, NVIC... */
 462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->MspDeInitCallback(hspi);
 463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
 464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* DeInit the low level hardware: GPIO, CLOCK, NVIC... */
 465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_MspDeInit(hspi);
 466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode = HAL_SPI_ERROR_NONE;
 469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_RESET;
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Release Lock */
 472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
 475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Initialize the SPI MSP.
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
 481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_MspInit(SPI_HandleTypeDef *hspi)
 484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 10


 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_MspInit should be implemented in the user file
 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  De-Initialize the SPI MSP.
 495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
 497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
 498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_MspDeInit(SPI_HandleTypeDef *hspi)
 500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_MspDeInit should be implemented in the user file
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
 510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Register a User SPI Callback
 512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         To be used instead of the weak predefined callback
 513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi Pointer to a SPI_HandleTypeDef structure that contains
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for the specified SPI.
 515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  CallbackID ID of the callback to be registered
 516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pCallback pointer to the Callback function
 517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
 518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_RegisterCallback(SPI_HandleTypeDef *hspi, HAL_SPI_CallbackIDTypeDef Callb
 520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                            pSPI_CallbackTypeDef pCallback)
 521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef status = HAL_OK;
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (pCallback == NULL)
 525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Update the error code */
 527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode |= HAL_SPI_ERROR_INVALID_CALLBACK;
 528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_ERROR;
 530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process locked */
 532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (HAL_SPI_STATE_READY == hspi->State)
 535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     switch (CallbackID)
 537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_TX_COMPLETE_CB_ID :
 539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxCpltCallback = pCallback;
 540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_RX_COMPLETE_CB_ID :
 543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxCpltCallback = pCallback;
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 11


 544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_TX_RX_COMPLETE_CB_ID :
 547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxRxCpltCallback = pCallback;
 548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_TX_HALF_COMPLETE_CB_ID :
 551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxHalfCpltCallback = pCallback;
 552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_RX_HALF_COMPLETE_CB_ID :
 555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxHalfCpltCallback = pCallback;
 556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_TX_RX_HALF_COMPLETE_CB_ID :
 559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxRxHalfCpltCallback = pCallback;
 560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_ERROR_CB_ID :
 563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->ErrorCallback = pCallback;
 564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_ABORT_CB_ID :
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->AbortCpltCallback = pCallback;
 568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->MspInitCallback = pCallback;
 572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->MspDeInitCallback = pCallback;
 576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       default :
 579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Update the error code */
 580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Return error status */
 583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         status =  HAL_ERROR;
 584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else if (HAL_SPI_STATE_RESET == hspi->State)
 588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     switch (CallbackID)
 590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->MspInitCallback = pCallback;
 593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->MspDeInitCallback = pCallback;
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       default :
 600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Update the error code */
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 12


 601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Return error status */
 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         status =  HAL_ERROR;
 605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
 609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Update the error code */
 611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Return error status */
 614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     status =  HAL_ERROR;
 615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Release Lock */
 618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return status;
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Unregister an SPI Callback
 624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         SPI callback is redirected to the weak predefined callback
 625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi Pointer to a SPI_HandleTypeDef structure that contains
 626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *                the configuration information for the specified SPI.
 627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  CallbackID ID of the callback to be unregistered
 628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
 629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_UnRegisterCallback(SPI_HandleTypeDef *hspi, HAL_SPI_CallbackIDTypeDef Cal
 631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef status = HAL_OK;
 633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process locked */
 635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (HAL_SPI_STATE_READY == hspi->State)
 638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     switch (CallbackID)
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_TX_COMPLETE_CB_ID :
 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxCpltCallback = HAL_SPI_TxCpltCallback;             /* Legacy weak TxCpltCallback   
 643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_RX_COMPLETE_CB_ID :
 646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxCpltCallback = HAL_SPI_RxCpltCallback;             /* Legacy weak RxCpltCallback   
 647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_TX_RX_COMPLETE_CB_ID :
 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxRxCpltCallback = HAL_SPI_TxRxCpltCallback;         /* Legacy weak TxRxCpltCallback 
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_TX_HALF_COMPLETE_CB_ID :
 654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxHalfCpltCallback = HAL_SPI_TxHalfCpltCallback;     /* Legacy weak TxHalfCpltCallbac
 655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_RX_HALF_COMPLETE_CB_ID :
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 13


 658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxHalfCpltCallback = HAL_SPI_RxHalfCpltCallback;     /* Legacy weak RxHalfCpltCallbac
 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_TX_RX_HALF_COMPLETE_CB_ID :
 662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxRxHalfCpltCallback = HAL_SPI_TxRxHalfCpltCallback; /* Legacy weak TxRxHalfCpltCallb
 663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_ERROR_CB_ID :
 666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->ErrorCallback = HAL_SPI_ErrorCallback;               /* Legacy weak ErrorCallback    
 667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_ABORT_CB_ID :
 670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->AbortCpltCallback = HAL_SPI_AbortCpltCallback;       /* Legacy weak AbortCpltCallback
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->MspInitCallback = HAL_SPI_MspInit;                   /* Legacy weak MspInit          
 675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->MspDeInitCallback = HAL_SPI_MspDeInit;               /* Legacy weak MspDeInit        
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       default :
 682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Update the error code */
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Return error status */
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         status =  HAL_ERROR;
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else if (HAL_SPI_STATE_RESET == hspi->State)
 691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     switch (CallbackID)
 693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_MSPINIT_CB_ID :
 695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->MspInitCallback = HAL_SPI_MspInit;                   /* Legacy weak MspInit          
 696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       case HAL_SPI_MSPDEINIT_CB_ID :
 699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->MspDeInitCallback = HAL_SPI_MspDeInit;               /* Legacy weak MspDeInit        
 700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       default :
 703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Update the error code */
 704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Return error status */
 707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         status =  HAL_ERROR;
 708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
 712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Update the error code */
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_INVALID_CALLBACK);
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 14


 715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Return error status */
 717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     status =  HAL_ERROR;
 718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Release Lock */
 721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return status;
 723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @}
 727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group2 IO operation functions
 730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *  @brief   Data transfers functions
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** @verbatim
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ==============================================================================
 734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                       ##### IO operation functions #####
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  ===============================================================================
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  [..]
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     This subsection provides a set of functions allowing to manage the SPI
 738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     data transfers.
 739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     [..] The SPI supports master and slave mode :
 741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     (#) There are two modes of transfer:
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        (++) Blocking mode: The communication is performed in polling mode.
 744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             The HAL status of all data processing is returned by the same function
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             after finishing transfer.
 746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        (++) No-Blocking mode: The communication is performed using Interrupts
 747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             or DMA, These APIs return the HAL status.
 748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             The end of the data processing will be indicated through the
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             dedicated SPI IRQ when using Interrupt mode or the DMA IRQ when
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             using DMA mode.
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             The HAL_SPI_TxCpltCallback(), HAL_SPI_RxCpltCallback() and HAL_SPI_TxRxCpltCallback() u
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             will be executed respectively at the end of the transmit or Receive process
 753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             The HAL_SPI_ErrorCallback()user callback will be executed when a communication error is
 754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     (#) APIs provided for these 2 transfer modes (Blocking mode or Non blocking mode using either I
 756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         exist for 1Line (simplex) and 2Lines (full duplex) modes.
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** @endverbatim
 759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
 760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Transmit an amount of data in blocking mode.
 764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
 766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pData pointer to data buffer
 767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size amount of data to be sent
 768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Timeout Timeout duration
 769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
 770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size, uint32_t
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 15


 772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart;
 774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint16_t initial_TxXferCount;
 776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check Direction parameter */
 778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
 779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
 781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   initial_TxXferCount = Size;
 786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the transaction information */
 800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /*Init field not used in handle to zero */
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
 808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
 817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset CRC Calculation */
 823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
 826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 16


 829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
 831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable SPI peripheral */
 833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
 834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.DataSize == SPI_DATASIZE_16BIT)
 838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
 842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->TxXferCount--;
 844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Transmit data in 16 Bit mode */
 846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     while (hspi->TxXferCount > 0U)
 847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Wait until TXE flag is set to send data */
 849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE))
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
 856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Timeout management */
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
 859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
 861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           goto error;
 862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Transmit data in 8 Bit mode */
 867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
 868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       *((__IO uint8_t *)&hspi->Instance->DR) = (*hspi->pTxBuffPtr);
 872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->TxXferCount--;
 874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     while (hspi->TxXferCount > 0U)
 876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Wait until TXE flag is set to send data */
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE))
 879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         *((__IO uint8_t *)&hspi->Instance->DR) = (*hspi->pTxBuffPtr);
 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint8_t);
 882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
 885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 17


 886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Timeout management */
 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
 888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
 890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           goto error;
 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable CRC Transmission */
 897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
 900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the end of the transaction */
 904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, Timeout, tickstart) != HAL_OK)
 905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
 911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
 913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** error:
 921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Unlocked */
 923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
 928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Receive an amount of data in blocking mode.
 929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
 930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pData pointer to data buffer
 932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size amount of data to be received
 933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Timeout Timeout duration
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
 935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size, uint32_t 
 937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart;
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 18


 943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES))
 945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_RX;
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_SPI_TransmitReceive(hspi, pData, pData, Size, Timeout);
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
 953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
 955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tickstart = HAL_GetTick();
 956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
 958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_BUSY;
 960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the transaction information */
 970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
 971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /*Init field not used in handle to zero */
 977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)NULL;
 978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset CRC Calculation */
 985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
 986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
 988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* this is done to handle the CRCNEXT before the latest data */
 989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount--;
 990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure communication direction: 1Line */
 994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
 995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
 998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 19


1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable SPI peripheral */
1005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Receive data in 8 Bit mode */
1009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.DataSize == SPI_DATASIZE_8BIT)
1010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Transfer loop */
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     while (hspi->RxXferCount > 0U)
1013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Check the RXNE flag */
1015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE))
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* read the received data */
1018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (* (uint8_t *)hspi->pRxBuffPtr) = *(__IO uint8_t *)&hspi->Instance->DR;
1019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint8_t);
1020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxXferCount--;
1021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Timeout management */
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
1026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           goto error;
1029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
1030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
1034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Transfer loop */
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     while (hspi->RxXferCount > 0U)
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Check the RXNE flag */
1039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE))
1040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
1043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxXferCount--;
1044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
1046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Timeout management */
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if ((((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY)) || (Timeout =
1049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
1050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           errorcode = HAL_TIMEOUT;
1051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           goto error;
1052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
1053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 20


1057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Handle the CRC Transmission */
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* freeze the CRC before the latest data */
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Read the latest data */
1065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* the latest data has not been received */
1068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       errorcode = HAL_TIMEOUT;
1069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       goto error;
1070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Receive last data in 16 Bit mode */
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->Init.DataSize == SPI_DATASIZE_16BIT)
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Receive last data in 8 Bit mode */
1078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
1079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (*(uint8_t *)hspi->pRxBuffPtr) = *(__IO uint8_t *)&hspi->Instance->DR;
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait the CRC data */
1084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
1085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       errorcode = HAL_TIMEOUT;
1088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       goto error;
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Read CRC to Flush DR and RXNE flag */
1092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     tmpreg = READ_REG(hspi->Instance->DR);
1093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* To avoid GCC warning */
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     UNUSED(tmpreg);
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the end of the transaction */
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (SPI_EndRxTransaction(hspi, Timeout, tickstart) != HAL_OK)
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
1102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if CRC error occurred */
1106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
1107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 21


1114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** error :
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in blocking mode.
1126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer
1129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer
1130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size amount of data to be sent and received
1131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Timeout Timeout duration
1132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive(SPI_HandleTypeDef *hspi, uint8_t *pTxData, uint8_t *pRxDa
1135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                           uint32_t Timeout)
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint16_t             initial_TxXferCount;
1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t             tmp_mode;
1139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t             tickstart;
1141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
1143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Variable used to alternate Rx and Tx during transfer */
1146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t             txallowed = 1U;
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef    errorcode = HAL_OK;
1148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check Direction parameter */
1150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tickstart = HAL_GetTick();
1157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init temporary variables */
1159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp_state           = hspi->State;
1160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   initial_TxXferCount = Size;
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (!((tmp_state == HAL_SPI_STATE_READY) || \
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
1165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_BUSY;
1167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 22


1171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
1174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_BUSY_RX)
1178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
1180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the transaction information */
1183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
1185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = Size;
1186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
1188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = Size;
1189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /*Init field not used in handle to zero */
1192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxISR       = NULL;
1193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
1194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset CRC Calculation */
1197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable SPI peripheral */
1207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Transmit and Receive data in 16 Bit mode */
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.DataSize == SPI_DATASIZE_16BIT)
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
1216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
1217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->TxXferCount--;
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     while ((hspi->TxXferCount > 0U) || (hspi->RxXferCount > 0U))
1220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Check TXE flag */
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE)) && (hspi->TxXferCount > 0U) && (txallowed == 1U)
1223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
1225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
1226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
1227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 23


1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         txallowed = 0U;
1229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Enable CRC Transmission */
1232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
1234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
1236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Check RXNE flag */
1240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE)) && (hspi->RxXferCount > 0U))
1241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)hspi->Instance->DR;
1243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxXferCount--;
1245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
1246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         txallowed = 1U;
1247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (((HAL_GetTick() - tickstart) >=  Timeout) && (Timeout != HAL_MAX_DELAY))
1249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         errorcode = HAL_TIMEOUT;
1251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         goto error;
1252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Transmit and Receive data in 8 Bit mode */
1256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
1257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if ((hspi->Init.Mode == SPI_MODE_SLAVE) || (initial_TxXferCount == 0x01U))
1259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       *((__IO uint8_t *)&hspi->Instance->DR) = (*hspi->pTxBuffPtr);
1261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->TxXferCount--;
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     while ((hspi->TxXferCount > 0U) || (hspi->RxXferCount > 0U))
1265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Check TXE flag */
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_TXE)) && (hspi->TxXferCount > 0U) && (txallowed == 1U)
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr);
1270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pTxBuffPtr++;
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         txallowed = 0U;
1274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Enable CRC Transmission */
1277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if ((hspi->TxXferCount == 0U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
1278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
1279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
1280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
1281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Wait until RXNE flag is reset */
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 24


1285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if ((__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_RXNE)) && (hspi->RxXferCount > 0U))
1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         (*(uint8_t *)hspi->pRxBuffPtr) = hspi->Instance->DR;
1288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pRxBuffPtr++;
1289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxXferCount--;
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
1291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         txallowed = 1U;
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if ((((HAL_GetTick() - tickstart) >=  Timeout) && ((Timeout != HAL_MAX_DELAY))) || (Timeout =
1294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
1295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         errorcode = HAL_TIMEOUT;
1296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         goto error;
1297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
1298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Read CRC from DR to close CRC calculation process */
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait until TXE flag */
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, Timeout, tickstart) != HAL_OK)
1307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
1308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Error on the CRC reception */
1309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       errorcode = HAL_TIMEOUT;
1311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       goto error;
1312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
1313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Read CRC */
1314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     tmpreg = READ_REG(hspi->Instance->DR);
1315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* To avoid GCC warning */
1316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     UNUSED(tmpreg);
1317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if CRC error occurred */
1320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
1321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
1323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Clear CRC Flag */
1324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
1325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the end of the transaction */
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, Timeout, tickstart) != HAL_OK)
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
1335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
1339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
1340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 25


1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** error :
1345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
1348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Transmit an amount of data in non-blocking mode with Interrupt.
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
1354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pData pointer to data buffer
1355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size amount of data to be sent
1356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit_IT(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
1361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check Direction parameter */
1363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
1364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
1372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
1375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_BUSY;
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the transaction information */
1381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
1382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
1384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = Size;
1386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init field not used in handle to zero */
1388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
1390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxISR       = NULL;
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the function for IT treatment */
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
1395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = SPI_TxISR_16BIT;
1397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 26


1399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = SPI_TxISR_8BIT;
1401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
1405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
1409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset CRC Calculation */
1413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable TXE and ERR interrupt */
1420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_ERR));
1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable SPI peripheral */
1427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** error :
1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
1433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Receive an amount of data in non-blocking mode with Interrupt.
1437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
1439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pData pointer to data buffer
1440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size amount of data to be sent
1441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive_IT(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
1446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
1448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_RX;
1450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
1451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_SPI_TransmitReceive_IT(hspi, pData, pData, Size);
1452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 27


1456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
1458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_BUSY;
1460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
1461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
1464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
1467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the transaction information */
1470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
1471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = Size;
1475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init field not used in handle to zero */
1477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)NULL;
1478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
1479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
1480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
1481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the function for IT treatment */
1483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
1484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_16BIT;
1486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = SPI_RxISR_8BIT;
1490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
1494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
1497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
1498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset CRC Calculation */
1502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable TXE and ERR interrupt */
1509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
1510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Note : The SPI must be enabled after unlocking current process
1512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             to avoid the risk of SPI interrupt handle execution before current
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 28


1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             process unlock */
1514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable SPI peripheral */
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** error :
1523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Unlocked */
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
1526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in non-blocking mode with Interrupt.
1530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
1532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer
1533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer
1534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size amount of data to be sent and received
1535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive_IT(SPI_HandleTypeDef *hspi, uint8_t *pTxData, uint8_t *pR
1538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t             tmp_mode;
1540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
1541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef    errorcode = HAL_OK;
1542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check Direction parameter */
1544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process locked */
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
1548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init temporary variables */
1550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp_state           = hspi->State;
1551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
1552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (!((tmp_state == HAL_SPI_STATE_READY) || \
1554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
1555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_BUSY;
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
1558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))
1561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
1564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_BUSY_RX)
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 29


1570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the transaction information */
1573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
1575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = Size;
1577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
1578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = Size;
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the function for IT treatment */
1582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.DataSize > SPI_DATASIZE_8BIT)
1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR     = SPI_2linesRxISR_16BIT;
1585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_16BIT;
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR     = SPI_2linesRxISR_8BIT;
1590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_8BIT;
1591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset CRC Calculation */
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable TXE, RXNE and ERR interrupt */
1602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
1603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable SPI peripheral */
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** error :
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Unlocked */
1613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
1615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Transmit an amount of data in non-blocking mode with DMA.
1619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
1621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pData pointer to data buffer
1622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size amount of data to be sent
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Transmit_DMA(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 30


1627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check tx dma handle */
1630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
1631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check Direction parameter */
1633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES_OR_1LINE(hspi->Init.Direction));
1634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
1637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
1639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_BUSY;
1641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
1645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
1648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the transaction information */
1651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_TX;
1652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
1654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = Size;
1656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init field not used in handle to zero */
1658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)NULL;
1659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
1660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxISR       = NULL;
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
1663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
1670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset CRC Calculation */
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the SPI TxDMA Half transfer complete callback */
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferHalfCpltCallback = SPI_DMAHalfTransmitCplt;
1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the SPI TxDMA transfer complete callback */
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 31


1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback = SPI_DMATransmitCplt;
1685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the DMA error callback */
1687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback = SPI_DMAError;
1688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback = NULL;
1691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable the Tx DMA Stream/Channel */
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instanc
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                  hspi->TxXferCount))
1695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Update SPI error code */
1697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
1701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
1702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable SPI peripheral */
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
1712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_ERR));
1713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable Tx DMA Request */
1715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
1716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** error :
1718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Unlocked */
1719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Receive an amount of data in non-blocking mode with DMA.
1725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note   In case of MASTER mode and SPI_DIRECTION_2LINES direction, hdmatx shall be defined.
1726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
1728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pData pointer to data buffer
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note   When the CRC feature is enabled the pData Length must be Size + 1.
1730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size amount of data to be sent
1731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Receive_DMA(SPI_HandleTypeDef *hspi, uint8_t *pData, uint16_t Size)
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
1736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check rx dma handle */
1738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmarx));
1739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 32


1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_RX;
1743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check tx dma handle */
1745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
1748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return HAL_SPI_TransmitReceive_DMA(hspi, pData, pData, Size);
1749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
1752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
1753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_READY)
1755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_BUSY;
1757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
1758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((pData == NULL) || (Size == 0U))
1761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
1764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the transaction information */
1767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State       = HAL_SPI_STATE_BUSY_RX;
1768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = Size;
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /*Init field not used in handle to zero */
1774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxISR       = NULL;
1775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
1776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
1777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
1778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Configure communication direction : 1Line */
1780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_1LINE)
1781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable SPI Peripheral before set 1Line direction (BIDIOE bit) */
1783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
1784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
1785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset CRC Calculation */
1789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the SPI RxDMA Half transfer complete callback */
1796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
1797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 33


1798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the SPI Rx DMA transfer complete callback */
1799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmarx->XferCpltCallback = SPI_DMAReceiveCplt;
1800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the DMA error callback */
1802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmarx->XferErrorCallback = SPI_DMAError;
1803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
1805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
1806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable the Rx DMA Stream/Channel  */
1808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBu
1809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                  hspi->RxXferCount))
1810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Update SPI error code */
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
1813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
1816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
1817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable SPI peripheral */
1823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
1827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_ERR));
1828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable Rx DMA Request */
1830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
1831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** error:
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Unlocked */
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Transmit and Receive an amount of data in non-blocking mode with DMA.
1840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
1841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pTxData pointer to transmission data buffer
1843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  pRxData pointer to reception data buffer
1844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note   When the CRC feature is enabled the pRxData Length must be Size + 1
1845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Size amount of data to be sent
1846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_TransmitReceive_DMA(SPI_HandleTypeDef *hspi, uint8_t *pTxData, uint8_t *p
1849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                               uint16_t Size)
1850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t             tmp_mode;
1852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_StateTypeDef tmp_state;
1853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
1854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 34


1855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check rx & tx dma handles */
1856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmarx));
1857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DMA_HANDLE(hspi->hdmatx));
1858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check Direction parameter */
1860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   assert_param(IS_SPI_DIRECTION_2LINES(hspi->Init.Direction));
1861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process locked */
1863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
1864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init temporary variables */
1866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp_state           = hspi->State;
1867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
1868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (!((tmp_state == HAL_SPI_STATE_READY) ||
1870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
1871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_BUSY;
1873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
1874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((pTxData == NULL) || (pRxData == NULL) || (Size == 0U))
1877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
1880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Don't overwrite in case of HAL_SPI_STATE_BUSY_RX */
1883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->State != HAL_SPI_STATE_BUSY_RX)
1884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_BUSY_TX_RX;
1886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the transaction information */
1889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
1890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
1891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
1892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = Size;
1893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
1894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
1895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = Size;
1896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init field not used in handle to zero */
1898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxISR       = NULL;
1899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
1900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
1902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset CRC Calculation */
1903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
1904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_RESET_CRC(hspi);
1906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
1908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if we are in Rx only or in Rx/Tx Mode and configure the DMA transfer complete callback *
1910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->State == HAL_SPI_STATE_BUSY_RX)
1911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 35


1912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Set the SPI Rx DMA Half transfer complete callback */
1913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfReceiveCplt;
1914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
1915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
1917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Set the SPI Tx/Rx DMA Half transfer complete callback */
1919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmarx->XferHalfCpltCallback = SPI_DMAHalfTransmitReceiveCplt;
1920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
1921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the DMA error callback */
1924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmarx->XferErrorCallback = SPI_DMAError;
1925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the DMA AbortCpltCallback */
1927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
1928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable the Rx DMA Stream/Channel  */
1930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmarx, (uint32_t)&hspi->Instance->DR, (uint32_t)hspi->pRxBu
1931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                  hspi->RxXferCount))
1932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Update SPI error code */
1934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
1935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
1938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
1939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable Rx DMA Request */
1942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
1943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Set the SPI Tx DMA transfer complete callback as NULL because the communication closing
1945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   is performed in DMA reception complete callback  */
1946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferHalfCpltCallback = NULL;
1947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
1948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback    = NULL;
1949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback    = NULL;
1950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable the Tx DMA Stream/Channel  */
1952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (HAL_OK != HAL_DMA_Start_IT(hspi->hdmatx, (uint32_t)hspi->pTxBuffPtr, (uint32_t)&hspi->Instanc
1953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                  hspi->TxXferCount))
1954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Update SPI error code */
1956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
1957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
1958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
1960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
1961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
1962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if the SPI is already enabled */
1964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((hspi->Instance->CR1 & SPI_CR1_SPE) != SPI_CR1_SPE)
1965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
1966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Enable SPI peripheral */
1967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_ENABLE(hspi);
1968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 36


1969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable the SPI Error Interrupt Bit */
1970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_ENABLE_IT(hspi, (SPI_IT_ERR));
1971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable Tx DMA Request */
1973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
1974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** error :
1976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Unlocked */
1977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
1978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
1979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
1980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
1981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
1982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Abort ongoing transfer (blocking mode).
1983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi SPI handle.
1984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note   This procedure could be used for aborting any ongoing transfer (Tx and Rx),
1985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         started in Interrupt or DMA mode.
1986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         This procedure performs following operations :
1987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           - Disable SPI Interrupts (depending of transfer direction)
1988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           - Disable the DMA transfer in the peripheral register (if enabled)
1989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           - Abort DMA transfer by calling HAL_DMA_Abort (in case of transfer in DMA mode)
1990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           - Set handle State to READY
1991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note   This procedure is executed in blocking mode : when exiting function, Abort is considere
1992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
1993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
1994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Abort(SPI_HandleTypeDef *hspi)
1995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
1996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
1997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t count;
1998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t resetcount;
1999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Initialized local variable  */
2001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   errorcode = HAL_OK;
2002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
2003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   count = resetcount;
2004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear ERRIE interrupt to avoid error interrupts generation during Abort procedure */
2006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
2007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable TXEIE, RXNEIE and ERRIE(mode fault event, overrun error, TI frame error) interrupts */
2009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXEIE))
2010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = SPI_AbortTx_ISR;
2012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     do
2014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (count == 0U)
2016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
2019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       count--;
2021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
2022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset Timeout Counter */
2023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     count = resetcount;
2024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 37


2026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE))
2027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = SPI_AbortRx_ISR;
2029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     do
2031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (count == 0U)
2033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
2036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       count--;
2038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
2039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset Timeout Counter */
2040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     count = resetcount;
2041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the SPI DMA Tx request if enabled */
2044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
2045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Abort the SPI DMA Tx Stream/Channel : use blocking DMA Abort API (no callback) */
2047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->hdmatx != NULL)
2048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Set the SPI DMA Abort callback :
2050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       will lead to call HAL_SPI_AbortCpltCallback() at end of DMA abort procedure */
2051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = NULL;
2052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Abort DMA Tx Handle linked to SPI Peripheral */
2054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (HAL_DMA_Abort(hspi->hdmatx) != HAL_OK)
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Disable Tx DMA Request */
2060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXDMAEN));
2061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Wait until TXE flag is set */
2063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       do
2064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if (count == 0U)
2066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
2067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           break;
2069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
2070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         count--;
2071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
2072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the SPI DMA Rx request if enabled */
2076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
2077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Abort the SPI DMA Rx Stream/Channel : use blocking DMA Abort API (no callback) */
2079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->hdmarx != NULL)
2080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Set the SPI DMA Abort callback :
2082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       will lead to call HAL_SPI_AbortCpltCallback() at end of DMA abort procedure */
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 38


2083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = NULL;
2084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Abort DMA Rx Handle linked to SPI Peripheral */
2086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (HAL_DMA_Abort(hspi->hdmarx) != HAL_OK)
2087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Disable peripheral */
2092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_DISABLE(hspi);
2093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Disable Rx DMA Request */
2095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_RXDMAEN));
2096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Reset Tx and Rx transfer counters */
2099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
2100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
2101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check error during Abort procedure */
2103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->ErrorCode == HAL_SPI_ERROR_ABORT)
2104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* return HAL_Error in case of error during Abort procedure */
2106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
2107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
2109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset errorCode */
2111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
2112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
2115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
2116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
2117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Restore hspi->state to ready */
2119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
2120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
2122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Abort ongoing transfer (Interrupt mode).
2126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi SPI handle.
2127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note   This procedure could be used for aborting any ongoing transfer (Tx and Rx),
2128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         started in Interrupt or DMA mode.
2129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         This procedure performs following operations :
2130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           - Disable SPI Interrupts (depending of transfer direction)
2131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           - Disable the DMA transfer in the peripheral register (if enabled)
2132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           - Abort DMA transfer by calling HAL_DMA_Abort_IT (in case of transfer in DMA mode)
2133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           - Set handle State to READY
2134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *           - At abort completion, call user abort complete callback
2135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note   This procedure is executed in Interrupt mode, meaning that abort procedure could be
2136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         considered as completed only when user abort complete callback is executed (not when ex
2137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
2138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_Abort_IT(SPI_HandleTypeDef *hspi)
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 39


2140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
2142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t abortcplt ;
2143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t count;
2144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t resetcount;
2145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Initialized local variable  */
2147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   errorcode = HAL_OK;
2148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   abortcplt = 1U;
2149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
2150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   count = resetcount;
2151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear ERRIE interrupt to avoid error interrupts generation during Abort procedure */
2153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_ERRIE);
2154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Change Rx and Tx Irq Handler to Disable TXEIE, RXNEIE and ERRIE interrupts */
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXEIE))
2157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR = SPI_AbortTx_ISR;
2159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     do
2161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (count == 0U)
2163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
2166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       count--;
2168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
2169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset Timeout Counter */
2170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     count = resetcount;
2171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXNEIE))
2174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR = SPI_AbortRx_ISR;
2176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
2177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     do
2178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (count == 0U)
2180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
2183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       count--;
2185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
2186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset Timeout Counter */
2187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     count = resetcount;
2188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* If DMA Tx and/or DMA Rx Handles are associated to SPI Handle, DMA Abort complete callbacks sho
2191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      before any call to DMA Abort functions */
2192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* DMA Tx Handle is valid */
2193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->hdmatx != NULL)
2194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Set DMA Abort Complete callback if UART DMA Tx request if enabled.
2196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        Otherwise, set it to NULL */
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 40


2197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
2198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = SPI_DMATxAbortCallback;
2200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
2202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmatx->XferAbortCallback = NULL;
2204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* DMA Rx Handle is valid */
2207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->hdmarx != NULL)
2208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Set DMA Abort Complete callback if UART DMA Rx request if enabled.
2210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        Otherwise, set it to NULL */
2211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
2212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = SPI_DMARxAbortCallback;
2214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
2216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->hdmarx->XferAbortCallback = NULL;
2218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the SPI DMA Tx request if enabled */
2222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_TXDMAEN))
2223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Abort the SPI DMA Tx Stream/Channel */
2225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->hdmatx != NULL)
2226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Abort DMA Tx Handle linked to SPI Peripheral */
2228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (HAL_DMA_Abort_IT(hspi->hdmatx) != HAL_OK)
2229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->hdmatx->XferAbortCallback = NULL;
2231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
2234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         abortcplt = 0U;
2236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the SPI DMA Rx request if enabled */
2240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (HAL_IS_BIT_SET(hspi->Instance->CR2, SPI_CR2_RXDMAEN))
2241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Abort the SPI DMA Rx Stream/Channel */
2243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->hdmarx != NULL)
2244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Abort DMA Rx Handle linked to SPI Peripheral */
2246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (HAL_DMA_Abort_IT(hspi->hdmarx) !=  HAL_OK)
2247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->hdmarx->XferAbortCallback = NULL;
2249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
2250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
2252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         abortcplt = 0U;
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 41


2254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (abortcplt == 1U)
2259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset Tx and Rx transfer counters */
2261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount = 0U;
2262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount = 0U;
2263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check error during Abort procedure */
2265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->ErrorCode == HAL_SPI_ERROR_ABORT)
2266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* return HAL_Error in case of error during Abort procedure */
2268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       errorcode = HAL_ERROR;
2269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
2271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Reset errorCode */
2273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode = HAL_SPI_ERROR_NONE;
2274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Clear the Error flags in the SR register */
2277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
2278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_FREFLAG(hspi);
2279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Restore hspi->State to Ready */
2281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* As no DMA to be aborted, call directly user Abort complete callback */
2284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->AbortCpltCallback(hspi);
2286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
2287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_AbortCpltCallback(hspi);
2288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
2292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Pause the DMA Transfer.
2296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
2299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAPause(SPI_HandleTypeDef *hspi)
2301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
2303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
2304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the SPI DMA Tx & Rx requests */
2306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Unlocked */
2309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
2310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 42


2311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
2312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Resume the DMA Transfer.
2316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
2319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAResume(SPI_HandleTypeDef *hspi)
2321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
2323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_LOCK(hspi);
2324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable the SPI DMA Tx & Rx requests */
2326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SET_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Unlocked */
2329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
2330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
2332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Stop the DMA Transfer.
2336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
2339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_StatusTypeDef HAL_SPI_DMAStop(SPI_HandleTypeDef *hspi)
2341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
2343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* The Lock is not implemented on this API to allow the user application
2344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      to call the HAL SPI API under callbacks HAL_SPI_TxCpltCallback() or HAL_SPI_RxCpltCallback() o
2345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      when calling HAL_DMA_Abort() API the DMA TX/RX Transfer complete interrupt is generated
2346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      and the correspond call back is executed HAL_SPI_TxCpltCallback() or HAL_SPI_RxCpltCallback() 
2347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      */
2348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Abort the SPI DMA tx Stream/Channel  */
2350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->hdmatx != NULL)
2351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (HAL_OK != HAL_DMA_Abort(hspi->hdmatx))
2353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
2355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       errorcode = HAL_ERROR;
2356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Abort the SPI DMA rx Stream/Channel  */
2359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->hdmarx != NULL)
2360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (HAL_OK != HAL_DMA_Abort(hspi->hdmarx))
2362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
2364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       errorcode = HAL_ERROR;
2365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 43


2368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable the SPI DMA Tx & Rx requests */
2369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
2371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
2372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Handle SPI interrupt request.
2376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified SPI module.
2378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** void HAL_SPI_IRQHandler(SPI_HandleTypeDef *hspi)
2381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t itsource = hspi->Instance->CR2;
2383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
2384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* SPI in mode Receiver ----------------------------------------------------*/
2386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((SPI_CHECK_FLAG(itflag, SPI_FLAG_OVR) == RESET) &&
2387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
2388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxISR(hspi);
2390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return;
2391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* SPI in mode Transmitter -------------------------------------------------*/
2394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((SPI_CHECK_FLAG(itflag, SPI_FLAG_TXE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_TXE)
2395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR(hspi);
2397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return;
2398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* SPI in Error Treatment --------------------------------------------------*/
2401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (((SPI_CHECK_FLAG(itflag, SPI_FLAG_MODF) != RESET) || (SPI_CHECK_FLAG(itflag, SPI_FLAG_OVR) !=
2402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        || (SPI_CHECK_FLAG(itflag, SPI_FLAG_FRE) != RESET)) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT
2403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* SPI Overrun error interrupt occurred ----------------------------------*/
2405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (SPI_CHECK_FLAG(itflag, SPI_FLAG_OVR) != RESET)
2406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (hspi->State != HAL_SPI_STATE_BUSY_TX)
2408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_OVR);
2410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
2411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
2413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
2415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         return;
2416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* SPI Mode Fault error interrupt occurred -------------------------------*/
2420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (SPI_CHECK_FLAG(itflag, SPI_FLAG_MODF) != RESET)
2421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_MODF);
2423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_MODFFLAG(hspi);
2424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 44


2425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* SPI Frame error interrupt occurred ------------------------------------*/
2427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (SPI_CHECK_FLAG(itflag, SPI_FLAG_FRE) != RESET)
2428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FRE);
2430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_FREFLAG(hspi);
2431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
2434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Disable all interrupts */
2436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE | SPI_IT_TXE | SPI_IT_ERR);
2437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
2439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Disable the SPI DMA requests if enabled */
2440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if ((HAL_IS_BIT_SET(itsource, SPI_CR2_TXDMAEN)) || (HAL_IS_BIT_SET(itsource, SPI_CR2_RXDMAEN)
2441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN));
2443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Abort the SPI DMA Rx channel */
2445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if (hspi->hdmarx != NULL)
2446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
2447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Set the SPI DMA Abort callback :
2448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           will lead to call HAL_SPI_ErrorCallback() at end of DMA abort procedure */
2449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->hdmarx->XferAbortCallback = SPI_DMAAbortOnError;
2450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmarx))
2451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           {
2452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           }
2454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
2455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Abort the SPI DMA Tx channel */
2456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if (hspi->hdmatx != NULL)
2457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
2458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Set the SPI DMA Abort callback :
2459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           will lead to call HAL_SPI_ErrorCallback() at end of DMA abort procedure */
2460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           hspi->hdmatx->XferAbortCallback = SPI_DMAAbortOnError;
2461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmatx))
2462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           {
2463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
2464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           }
2465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
2466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
2468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Call user error callback */
2470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->ErrorCallback(hspi);
2472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
2473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         HAL_SPI_ErrorCallback(hspi);
2474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return;
2478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 45


2482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Tx Transfer completed callback.
2483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_TxCpltCallback(SPI_HandleTypeDef *hspi)
2488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
2491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_TxCpltCallback should be implemented in the user file
2494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
2495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Rx Transfer completed callback.
2499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_RxCpltCallback(SPI_HandleTypeDef *hspi)
2504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
2507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_RxCpltCallback should be implemented in the user file
2510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
2511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Tx and Rx Transfer completed callback.
2515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_TxRxCpltCallback(SPI_HandleTypeDef *hspi)
2520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
2523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_TxRxCpltCallback should be implemented in the user file
2526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
2527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Tx Half Transfer completed callback.
2531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_TxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 46


2539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_TxHalfCpltCallback should be implemented in the user file
2542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
2543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Rx Half Transfer completed callback.
2547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_RxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
2555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_RxHalfCpltCallback() should be implemented in the user file
2558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
2559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Tx and Rx Half Transfer callback.
2563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_TxRxHalfCpltCallback(SPI_HandleTypeDef *hspi)
2568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
2571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_TxRxHalfCpltCallback() should be implemented in the user file
2574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
2575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  SPI error callback.
2579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_ErrorCallback(SPI_HandleTypeDef *hspi)
2584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
2587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_ErrorCallback should be implemented in the user file
2590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
2591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : The ErrorCode parameter in the hspi handle is updated by the SPI processes
2592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             and user can use HAL_SPI_GetError() API to check the latest error occurred
2593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
2594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 47


2596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  SPI Abort Complete callback.
2598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi SPI handle.
2599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** __weak void HAL_SPI_AbortCpltCallback(SPI_HandleTypeDef *hspi)
2602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
2604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(hspi);
2605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* NOTE : This function should not be modified, when the callback is needed,
2607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****             the HAL_SPI_AbortCpltCallback can be implemented in the user file.
2608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****    */
2609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @}
2613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @defgroup SPI_Exported_Functions_Group3 Peripheral State and Errors functions
2616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief   SPI control functions
2617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *
2618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** @verbatim
2619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  ===============================================================================
2620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                       ##### Peripheral State and Errors functions #####
2621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****  ===============================================================================
2622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     [..]
2623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     This subsection provides a set of functions allowing to control the SPI.
2624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      (+) HAL_SPI_GetState() API can be helpful to check in run-time the state of the SPI peripheral
2625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****      (+) HAL_SPI_GetError() check in run-time Errors occurring during communication
2626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** @endverbatim
2627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
2628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Return the SPI handle state.
2632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval SPI state
2635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** HAL_SPI_StateTypeDef HAL_SPI_GetState(SPI_HandleTypeDef *hspi)
2637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Return SPI handle state */
2639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return hspi->State;
2640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Return the SPI error code.
2644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
2645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
2646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval SPI error code in bitmap format
2647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** uint32_t HAL_SPI_GetError(SPI_HandleTypeDef *hspi)
2649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Return SPI ErrorCode */
2651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return hspi->ErrorCode;
2652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 48


2653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @}
2656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @}
2660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /** @addtogroup SPI_Private_Functions
2663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief   Private functions
2664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @{
2665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  DMA SPI transmit process complete callback.
2669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMATransmitCplt(DMA_HandleTypeDef *hdma)
2674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
2676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart;
2677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
2679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tickstart = HAL_GetTick();
2680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* DMA Normal Mode */
2682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((hdma->Instance->CR & DMA_SxCR_CIRC) != DMA_SxCR_CIRC)
2683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable ERR interrupt */
2685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
2686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable Tx DMA Request */
2688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
2689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check the end of the transaction */
2691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
2692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
2694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Clear overrun flag in 2 Lines communication mode because received data is not read */
2697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
2698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_OVRFLAG(hspi);
2700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount = 0U;
2703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
2706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Call user error callback */
2708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 49


2710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
2711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
2712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
2714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Call user Tx complete callback */
2717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxCpltCallback(hspi);
2719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
2720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_TxCpltCallback(hspi);
2721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  DMA SPI receive process complete callback.
2726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAReceiveCplt(DMA_HandleTypeDef *hdma)
2731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
2733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart;
2734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
2736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
2739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tickstart = HAL_GetTick();
2740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* DMA Normal Mode */
2742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((hdma->Instance->CR & DMA_SxCR_CIRC) != DMA_SxCR_CIRC)
2743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable ERR interrupt */
2745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
2746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* CRC handling */
2749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Wait until RXNE flag */
2752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_DEFAULT_TIMEOUT, tickstart) !
2753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Error on the CRC reception */
2755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Read CRC */
2758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       tmpreg = READ_REG(hspi->Instance->DR);
2759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* To avoid GCC warning */
2760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       UNUSED(tmpreg);
2761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if we are in Master RX 2 line mode */
2765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if ((hspi->Init.Direction == SPI_DIRECTION_2LINES) && (hspi->Init.Mode == SPI_MODE_MASTER))
2766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 50


2767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Disable Rx/Tx DMA Request (done by default to handle the case master rx direction 2 lines)
2768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
2771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Normal case */
2773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
2774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check the end of the transaction */
2777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (SPI_EndRxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
2778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount = 0U;
2783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if CRC error occurred */
2787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
2791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
2795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Call user error callback */
2797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
2799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
2800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
2801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
2803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Call user Rx complete callback */
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxCpltCallback(hspi);
2808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
2809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_RxCpltCallback(hspi);
2810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  DMA SPI transmit receive process complete callback.
2815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMATransmitReceiveCplt(DMA_HandleTypeDef *hdma)
2820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
2822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart;
2823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 51


2824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
2825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
2828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tickstart = HAL_GetTick();
2829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* DMA Normal Mode */
2831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((hdma->Instance->CR & DMA_SxCR_CIRC) != DMA_SxCR_CIRC)
2832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
2833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable ERR interrupt */
2834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
2835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* CRC handling */
2838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
2839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Wait the CRC data */
2841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, SET, SPI_DEFAULT_TIMEOUT, tickstart) !
2842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
2843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
2845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Read CRC to Flush DR and RXNE flag */
2846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       tmpreg = READ_REG(hspi->Instance->DR);
2847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* To avoid GCC warning */
2848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       UNUSED(tmpreg);
2849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check the end of the transaction */
2853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
2854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
2856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable Rx/Tx DMA Request */
2859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount = 0U;
2862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount = 0U;
2863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
2864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
2866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Check if CRC error occurred */
2867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR))
2868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
2870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
2871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
2873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
2875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
2876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Call user error callback */
2877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
2879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
2880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 52


2881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
2883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
2884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
2885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Call user TxRx complete callback */
2886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxRxCpltCallback(hspi);
2888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
2889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_TxRxCpltCallback(hspi);
2890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  DMA SPI half transmit process complete callback.
2895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAHalfTransmitCplt(DMA_HandleTypeDef *hdma)
2900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
2902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Call user Tx half complete callback */
2904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxHalfCpltCallback(hspi);
2906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
2907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_TxHalfCpltCallback(hspi);
2908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  DMA SPI half receive process complete callback
2913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAHalfReceiveCplt(DMA_HandleTypeDef *hdma)
2918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
2920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Call user Rx half complete callback */
2922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxHalfCpltCallback(hspi);
2924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
2925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_RxHalfCpltCallback(hspi);
2926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  DMA SPI half transmit receive process complete callback.
2931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAHalfTransmitReceiveCplt(DMA_HandleTypeDef *hdma)
2936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 53


2938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Call user TxRx half complete callback */
2940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxRxHalfCpltCallback(hspi);
2942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
2943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_TxRxHalfCpltCallback(hspi);
2944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  DMA SPI communication error callback.
2949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma pointer to a DMA_HandleTypeDef structure that contains
2950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for the specified DMA module.
2951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAError(DMA_HandleTypeDef *hdma)
2954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
2956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Stop the disable DMA transfer on SPI side */
2958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN | SPI_CR2_RXDMAEN);
2959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_DMA);
2961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
2962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Call user error callback */
2963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCallback(hspi);
2965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
2966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
2967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  DMA SPI communication abort callback, when initiated by HAL services on Error
2972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         (To be called at end of DMA Abort procedure following error occurrence).
2973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma DMA handle.
2974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMAAbortOnError(DMA_HandleTypeDef *hdma)
2977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
2978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
2979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
2980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
2981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Call user error callback */
2983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
2984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCallback(hspi);
2985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
2986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_ErrorCallback(hspi);
2987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
2988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
2989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
2990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
2991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  DMA SPI Tx communication abort callback, when initiated by user
2992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         (To be called at end of DMA Tx Abort procedure following user abort request).
2993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note   When this callback is executed, User Abort complete call back is called only if no
2994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         Abort still ongoing for Rx DMA Handle.
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 54


2995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma DMA handle.
2996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
2997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
2998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMATxAbortCallback(DMA_HandleTypeDef *hdma)
2999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
3000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
3001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t count;
3002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback = NULL;
3004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
3005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable Tx DMA Request */
3007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_TXDMAEN);
3008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Wait until TXE flag is set */
3010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   do
3011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (count == 0U)
3013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
3015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       break;
3016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     count--;
3018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
3019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if an Abort process is still ongoing */
3021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->hdmarx != NULL)
3022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->hdmarx->XferAbortCallback != NULL)
3024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
3026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* No Abort process still ongoing : All DMA Stream/Channel are aborted, call user Abort Complete 
3030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
3031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
3032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check no error during Abort procedure */
3034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_ABORT)
3035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset errorCode */
3037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
3038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
3041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
3042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
3043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Restore hspi->State to Ready */
3045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State  = HAL_SPI_STATE_READY;
3046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Call user Abort complete callback */
3048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->AbortCpltCallback(hspi);
3050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
3051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_AbortCpltCallback(hspi);
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 55


3052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
3054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  DMA SPI Rx communication abort callback, when initiated by user
3057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         (To be called at end of DMA Rx Abort procedure following user abort request).
3058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @note   When this callback is executed, User Abort complete call back is called only if no
3059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *         Abort still ongoing for Tx DMA Handle.
3060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hdma DMA handle.
3061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_DMARxAbortCallback(DMA_HandleTypeDef *hdma)
3064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
3065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
3066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable SPI Peripheral */
3068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
3069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmarx->XferAbortCallback = NULL;
3071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable Rx DMA Request */
3073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, SPI_CR2_RXDMAEN);
3074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check Busy flag */
3076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) != HAL_OK)
3077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
3079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if an Abort process is still ongoing */
3082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->hdmatx != NULL)
3083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->hdmatx->XferAbortCallback != NULL)
3085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
3087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* No Abort process still ongoing : All DMA Stream/Channel are aborted, call user Abort Complete 
3091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
3092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
3093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check no error during Abort procedure */
3095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_ABORT)
3096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset errorCode */
3098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_NONE;
3099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear the Error flags in the SR register */
3102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_CLEAR_OVRFLAG(hspi);
3103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
3104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Restore hspi->State to Ready */
3106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State  = HAL_SPI_STATE_READY;
3107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Call user Abort complete callback */
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 56


3109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->AbortCpltCallback(hspi);
3111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
3112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_SPI_AbortCpltCallback(hspi);
3113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
3115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Rx 8-bit handler for Transmit and Receive in Interrupt mode.
3118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesRxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
3124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Receive data in 8bit mode */
3125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *hspi->pRxBuffPtr = *((__IO uint8_t *)&hspi->Instance->DR);
3126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr++;
3127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount--;
3128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check end of the reception */
3130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
3131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->RxISR =  SPI_2linesRxISR_8BITCRC;
3136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
3137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable RXNE  and ERR interrupt */
3141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
3142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->TxXferCount == 0U)
3144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
3146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
3149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Rx 8-bit handler for Transmit and Receive in Interrupt mode.
3153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesRxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi)
3158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
3159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint8_t  * ptmpreg8;
3160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
3161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Initialize the 8bit temporary pointer */
3163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
3164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Read 8bit CRC to flush Data Register */
3165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmpreg8 = *ptmpreg8;
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 57


3166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* To avoid GCC warning */
3167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(tmpreg8);
3168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
3170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
3171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
3173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_CloseRxTx_ISR(hspi);
3175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
3177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Tx 8-bit handler for Transmit and Receive in Interrupt mode.
3181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesTxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
3187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr);
3188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr++;
3189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount--;
3190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the end of the transmission */
3192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
3193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Set CRC Next Bit to send CRC */
3198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Disable TXE interrupt */
3200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
3201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
3202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable TXE interrupt */
3206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
3207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->RxXferCount == 0U)
3209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
3211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
3214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Rx 16-bit handler for Transmit and Receive in Interrupt mode.
3217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesRxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 58


3223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
3224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
3225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
3226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount--;
3227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
3229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->RxISR =  SPI_2linesRxISR_16BITCRC;
3234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
3235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable RXNE interrupt */
3239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE);
3240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->TxXferCount == 0U)
3242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
3244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
3247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Manage the CRC 16-bit receive for Transmit and Receive in Interrupt mode.
3251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesRxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi)
3256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
3257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
3258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Read 16bit CRC to flush Data Register */
3260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmpreg = READ_REG(hspi->Instance->DR);
3261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* To avoid GCC warning */
3262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(tmpreg);  
3263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable RXNE interrupt */
3265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, SPI_IT_RXNE);
3266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_CloseRxTx_ISR(hspi);
3268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
3269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Tx 16-bit handler for Transmit and Receive in Interrupt mode.
3273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_2linesTxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
3279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 59


3280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
3281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
3282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount--;
3283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable CRC Transmission */
3285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
3286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Set CRC Next Bit to send CRC */
3291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Disable TXE interrupt */
3293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
3294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
3295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable TXE interrupt */
3299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE_IT(hspi, SPI_IT_TXE);
3300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->RxXferCount == 0U)
3302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SPI_CloseRxTx_ISR(hspi);
3304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
3307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Manage the CRC 8-bit receive in Interrupt context.
3311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxISR_8BITCRC(struct __SPI_HandleTypeDef *hspi)
3316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
3317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint8_t  * ptmpreg8;
3318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint8_t  tmpreg8 = 0;
3319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Initialize the 8bit temporary pointer */
3321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   ptmpreg8 = (__IO uint8_t *)&hspi->Instance->DR;
3322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Read 8bit CRC to flush Data Register */
3323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmpreg8 = *ptmpreg8;
3324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* To avoid GCC warning */
3325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(tmpreg8);
3326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_CloseRx_ISR(hspi);
3328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
3329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Manage the receive 8-bit in Interrupt context.
3333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 60


3337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
3339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *hspi->pRxBuffPtr = (*(__IO uint8_t *)&hspi->Instance->DR);
3340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr++;
3341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount--;
3342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable CRC Transmission */
3345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((hspi->RxXferCount == 1U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
3346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
3352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->RxISR =  SPI_RxISR_8BITCRC;
3357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
3358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_CloseRx_ISR(hspi);
3361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
3363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Manage the CRC 16-bit receive in Interrupt context.
3367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxISR_16BITCRC(struct __SPI_HandleTypeDef *hspi)
3372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
3373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
3374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Read 16bit CRC to flush Data Register */
3376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmpreg = READ_REG(hspi->Instance->DR);
3377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* To avoid GCC warning */
3378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(tmpreg);
3379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
3381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
3382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_CloseRx_ISR(hspi);
3384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
3385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Manage the 16-bit receive in Interrupt context.
3389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_RxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 61


3394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
3395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
3396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
3397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount--;
3398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Enable CRC Transmission */
3401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((hspi->RxXferCount == 1U) && (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE))
3402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->RxXferCount == 0U)
3408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->RxISR = SPI_RxISR_16BITCRC;
3413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return;
3414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_CloseRx_ISR(hspi);
3417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
3419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Handle the data 8-bit transmit in Interrupt mode.
3422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_TxISR_8BIT(struct __SPI_HandleTypeDef *hspi)
3427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
3428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr);
3429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr++;
3430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount--;
3431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
3433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Enable CRC Transmission */
3438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_CloseTx_ISR(hspi);
3442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
3444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Handle the data 16-bit transmit in Interrupt mode.
3447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 62


3451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_TxISR_16BIT(struct __SPI_HandleTypeDef *hspi)
3452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
3453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
3454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->Instance->DR = *((uint16_t *)hspi->pTxBuffPtr);
3455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
3456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount--;
3457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->TxXferCount == 0U)
3459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Enable CRC Transmission */
3464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->Instance->CR1, SPI_CR1_CRCNEXT);
3465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_CloseTx_ISR(hspi);
3468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
3470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Handle SPI Communication Timeout.
3473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *              the configuration information for SPI module.
3475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Flag SPI flag to check
3476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  State flag state to check
3477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Timeout Timeout duration
3478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Tickstart tick start value
3479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
3480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_WaitFlagStateUntilTimeout(SPI_HandleTypeDef *hspi, uint32_t Flag, Flag
3482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                                        uint32_t Timeout, uint32_t Tickstart)
3483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
3484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t count;
3485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tmp_timeout;
3486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tmp_tickstart;
3487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Adjust Timeout value  in case of end of transfer */
3489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp_timeout   = Timeout - (HAL_GetTick() - Tickstart);
3490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp_tickstart = HAL_GetTick();
3491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Calculate Timeout based on a software loop to avoid blocking issue if Systick is disabled */
3493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   count = tmp_timeout * ((SystemCoreClock * 32U) >> 20U);
3494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   while ((__HAL_SPI_GET_FLAG(hspi, Flag) ? SET : RESET) != State)
3496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (Timeout != HAL_MAX_DELAY)
3498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (((HAL_GetTick() - tmp_tickstart) >= tmp_timeout) || (tmp_timeout == 0U))
3500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
3501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Disable the SPI and reset the CRC: the CRC value should be cleared
3502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****            on both master and slave sides in order to resynchronize the master
3503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****            and slave for their respective CRC calculation */
3504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Disable TXE, RXNE and ERR interrupts for the interrupt process */
3506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_RXNE | SPI_IT_ERR));
3507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 63


3508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
3509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
3510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
3511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           /* Disable SPI peripheral */
3512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           __HAL_SPI_DISABLE(hspi);
3513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
3514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Reset CRC Calculation */
3516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         if (hspi->Init.CRCCalculation == SPI_CRCCALCULATION_ENABLE)
3517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
3518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           SPI_RESET_CRC(hspi);
3519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
3520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
3522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Process Unlocked */
3524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         __HAL_UNLOCK(hspi);
3525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         return HAL_TIMEOUT;
3527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
3528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* If Systick is disabled or not incremented, deactivate timeout to go in disable loop proced
3529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if(count == 0U)
3530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
3531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         tmp_timeout = 0U;
3532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
3533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       count--;
3534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
3538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
3539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Handle the check of the RX transaction complete.
3542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Timeout Timeout duration
3545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Tickstart tick start value
3546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
3547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTransaction(SPI_HandleTypeDef *hspi,  uint32_t Timeout, uint32_t 
3549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
3550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
3551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
3552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Disable SPI peripheral */
3554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_DISABLE(hspi);
3555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Erratasheet: BSY bit may stay high at the end of a data transfer in Slave mode */
3558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.Mode == SPI_MODE_MASTER)
3559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->Init.Direction != SPI_DIRECTION_2LINES_RXONLY)
3561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Control the BSY flag */
3563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, Timeout, Tickstart) != HAL_OK)
3564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 64


3565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         return HAL_TIMEOUT;
3567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
3568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
3570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Wait the RXNE reset */
3572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout, Tickstart) != HAL_OK)
3573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
3574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         return HAL_TIMEOUT;
3576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
3577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
3580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait the RXNE reset */
3582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_RXNE, RESET, Timeout, Tickstart) != HAL_OK)
3583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return HAL_TIMEOUT;
3586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
3589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
3590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Handle the check of the RXTX or TX transaction complete.
3593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi SPI handle
3594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Timeout Timeout duration
3595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  Tickstart tick start value
3596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval HAL status
3597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static HAL_StatusTypeDef SPI_EndRxTxTransaction(SPI_HandleTypeDef *hspi, uint32_t Timeout, uint32_t
3599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
3600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Timeout in Âµs */
3601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t count = SPI_BSY_FLAG_WORKAROUND_TIMEOUT * (SystemCoreClock / 24U / 1000000U);
3602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Erratasheet: BSY bit may stay high at the end of a data transfer in Slave mode */
3603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.Mode == SPI_MODE_MASTER)
3604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Control the BSY flag */
3606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (SPI_WaitFlagStateUntilTimeout(hspi, SPI_FLAG_BSY, RESET, Timeout, Tickstart) != HAL_OK)
3607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return HAL_TIMEOUT;
3610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
3613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait BSY flag during 1 Byte time transfer in case of Full-Duplex and Tx transfer
3615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     * If Timeout is reached, the transfer is considered as finish.
3616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     * User have to calculate the timeout value to fit with the time of 1 byte transfer.
3617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     * This time is directly link with the SPI clock from Master device.
3618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     */
3619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     do
3620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (count == 0U)
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 65


3622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
3623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
3624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
3625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       count--;
3626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     } while (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_BSY) != RESET);
3627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return HAL_OK;
3630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
3631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Handle the end of the RXTX transaction.
3634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_CloseRxTx_ISR(SPI_HandleTypeDef *hspi)
3639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
3640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart;
3641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
3642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init tickstart for timeout management */
3644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tickstart = HAL_GetTick();
3645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable ERR interrupt */
3647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, SPI_IT_ERR);
3648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Wait until TXE flag is set */
3650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   do
3651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (count == 0U)
3653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       break;
3656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     count--;
3658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
3659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the end of the transaction */
3661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
3662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
3667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
3668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
3670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if CRC error occurred */
3674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
3675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
3677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 66


3679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Call user error callback */
3680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCallback(hspi);
3682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
3683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
3684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
3687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->ErrorCode == HAL_SPI_ERROR_NONE)
3690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       if (hspi->State == HAL_SPI_STATE_BUSY_RX)
3692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
3693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
3694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Call user Rx complete callback */
3695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxCpltCallback(hspi);
3697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
3698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         HAL_SPI_RxCpltCallback(hspi);
3699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
3701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       else
3702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
3703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->State = HAL_SPI_STATE_READY;
3704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Call user TxRx complete callback */
3705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxRxCpltCallback(hspi);
3707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
3708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         HAL_SPI_TxRxCpltCallback(hspi);
3709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
3711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
3713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->State = HAL_SPI_STATE_READY;
3715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Call user error callback */
3716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
3718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
3719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
3720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
3726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Handle the end of the RX transaction.
3729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_CloseRx_ISR(SPI_HandleTypeDef *hspi)
3734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
3735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 67


3736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_RXNE | SPI_IT_ERR));
3737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the end of the transaction */
3739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (SPI_EndRxTransaction(hspi, SPI_DEFAULT_TIMEOUT, HAL_GetTick()) != HAL_OK)
3740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
3745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
3746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
3748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
3750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check if CRC error occurred */
3753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_CRCERR) != RESET)
3754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_CRC);
3756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_CRCERRFLAG(hspi);
3757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Call user error callback */
3758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCallback(hspi);
3760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
3761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
3762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
3765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (hspi->ErrorCode == HAL_SPI_ERROR_NONE)
3768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Call user Rx complete callback */
3770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->RxCpltCallback(hspi);
3772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
3773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_RxCpltCallback(hspi);
3774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     else
3777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Call user error callback */
3779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->ErrorCallback(hspi);
3781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
3782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       HAL_SPI_ErrorCallback(hspi);
3783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
3786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
3788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
3789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Handle the end of the TX transaction.
3792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 68


3793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_CloseTx_ISR(SPI_HandleTypeDef *hspi)
3797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
3798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart;
3799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
3800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Init tickstart for timeout management*/
3802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tickstart = HAL_GetTick();
3803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Wait until TXE flag is set */
3805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   do
3806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (count == 0U)
3808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       break;
3811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     count--;
3813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
3814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable TXE and ERR interrupt */
3816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE_IT(hspi, (SPI_IT_TXE | SPI_IT_ERR));
3817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the end of the transaction */
3819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (SPI_EndRxTxTransaction(hspi, SPI_DEFAULT_TIMEOUT, tickstart) != HAL_OK)
3820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_FLAG);
3822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Clear overrun flag in 2 Lines communication mode because received is not read */
3825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->Init.Direction == SPI_DIRECTION_2LINES)
3826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_OVRFLAG(hspi);
3828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
3831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
3832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Call user error callback */
3834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCallback(hspi);
3836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
3837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_ErrorCallback(hspi);
3838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   else
3841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Call user Rx complete callback */
3843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_HAL_SPI_REGISTER_CALLBACKS == 1U)
3844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxCpltCallback(hspi);
3845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #else
3846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     HAL_SPI_TxCpltCallback(hspi);
3847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
3848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
3849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 69


3850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Handle abort a Rx transaction.
3853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_AbortRx_ISR(SPI_HandleTypeDef *hspi)
3858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
  29              		.loc 1 3858 0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 8
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34              	.LVL0:
  35 0000 82B0     		sub	sp, sp, #8
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
3859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t tmpreg = 0U;
  38              		.loc 1 3859 0
  39 0002 0023     		movs	r3, #0
  40 0004 0193     		str	r3, [sp, #4]
3860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
  41              		.loc 1 3860 0
  42 0006 164B     		ldr	r3, .L6
  43 0008 1B68     		ldr	r3, [r3]
  44 000a 164A     		ldr	r2, .L6+4
  45 000c A2FB0323 		umull	r2, r3, r2, r3
  46 0010 5B0A     		lsrs	r3, r3, #9
  47 0012 6422     		movs	r2, #100
  48 0014 02FB03F3 		mul	r3, r2, r3
  49 0018 0093     		str	r3, [sp]
  50              	.L4:
3861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Wait until TXE flag is set */
3863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   do
3864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
3865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     if (count == 0U)
  51              		.loc 1 3865 0
  52 001a 009B     		ldr	r3, [sp]
  53 001c 23B9     		cbnz	r3, .L2
3866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
3867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       SET_BIT(hspi->ErrorCode, HAL_SPI_ERROR_ABORT);
  54              		.loc 1 3867 0
  55 001e 436D     		ldr	r3, [r0, #84]
  56 0020 43F04003 		orr	r3, r3, #64
  57 0024 4365     		str	r3, [r0, #84]
3868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       break;
  58              		.loc 1 3868 0
  59 0026 07E0     		b	.L3
  60              	.L2:
3869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
3870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     count--;
  61              		.loc 1 3870 0
  62 0028 009B     		ldr	r3, [sp]
  63 002a 013B     		subs	r3, r3, #1
  64 002c 0093     		str	r3, [sp]
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 70


3871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
  65              		.loc 1 3871 0
  66 002e 0368     		ldr	r3, [r0]
  67 0030 9B68     		ldr	r3, [r3, #8]
  68 0032 13F0020F 		tst	r3, #2
  69 0036 F0D0     		beq	.L4
  70              	.L3:
3872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable SPI Peripheral */
3874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
  71              		.loc 1 3874 0
  72 0038 0268     		ldr	r2, [r0]
  73 003a 1368     		ldr	r3, [r2]
  74 003c 23F04003 		bic	r3, r3, #64
  75 0040 1360     		str	r3, [r2]
3875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable TXEIE, RXNEIE and ERRIE(mode fault event, overrun error, TI frame error) interrupts */
3877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXEIE | SPI_CR2_RXNEIE | SPI_CR2_ERRIE));
  76              		.loc 1 3877 0
  77 0042 0268     		ldr	r2, [r0]
  78 0044 5368     		ldr	r3, [r2, #4]
  79 0046 23F0E003 		bic	r3, r3, #224
  80 004a 5360     		str	r3, [r2, #4]
3878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Flush Data Register by a blank read */
3880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmpreg = READ_REG(hspi->Instance->DR);
  81              		.loc 1 3880 0
  82 004c 0368     		ldr	r3, [r0]
  83 004e DB68     		ldr	r3, [r3, #12]
  84 0050 0193     		str	r3, [sp, #4]
3881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* To avoid GCC warning */
3882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   UNUSED(tmpreg);
  85              		.loc 1 3882 0
  86 0052 019B     		ldr	r3, [sp, #4]
3883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_ABORT;
  87              		.loc 1 3884 0
  88 0054 0723     		movs	r3, #7
  89 0056 80F85130 		strb	r3, [r0, #81]
3885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
  90              		.loc 1 3885 0
  91 005a 02B0     		add	sp, sp, #8
  92              	.LCFI1:
  93              		.cfi_def_cfa_offset 0
  94              		@ sp needed
  95 005c 7047     		bx	lr
  96              	.L7:
  97 005e 00BF     		.align	2
  98              	.L6:
  99 0060 00000000 		.word	SystemCoreClock
 100 0064 F1197605 		.word	91625969
 101              		.cfi_endproc
 102              	.LFE183:
 104              		.section	.text.SPI_AbortTx_ISR,"ax",%progbits
 105              		.align	2
 106              		.thumb
 107              		.thumb_func
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 71


 109              	SPI_AbortTx_ISR:
 110              	.LFB184:
3886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** /**
3888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @brief  Handle abort a Tx or Rx/Tx transaction.
3889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @param  hspi pointer to a SPI_HandleTypeDef structure that contains
3890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *               the configuration information for SPI module.
3891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   * @retval None
3892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   */
3893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** static void SPI_AbortTx_ISR(SPI_HandleTypeDef *hspi)
3894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** {
 111              		.loc 1 3894 0
 112              		.cfi_startproc
 113              		@ args = 0, pretend = 0, frame = 0
 114              		@ frame_needed = 0, uses_anonymous_args = 0
 115              		@ link register save eliminated.
 116              	.LVL1:
3895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable TXEIE interrupt */
3896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   CLEAR_BIT(hspi->Instance->CR2, (SPI_CR2_TXEIE));
 117              		.loc 1 3896 0
 118 0000 0268     		ldr	r2, [r0]
 119 0002 5368     		ldr	r3, [r2, #4]
 120 0004 23F08003 		bic	r3, r3, #128
 121 0008 5360     		str	r3, [r2, #4]
3897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable SPI Peripheral */
3899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_DISABLE(hspi);
 122              		.loc 1 3899 0
 123 000a 0268     		ldr	r2, [r0]
 124 000c 1368     		ldr	r3, [r2]
 125 000e 23F04003 		bic	r3, r3, #64
 126 0012 1360     		str	r3, [r2]
3900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
3901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_ABORT;
 127              		.loc 1 3901 0
 128 0014 0723     		movs	r3, #7
 129 0016 80F85130 		strb	r3, [r0, #81]
 130 001a 7047     		bx	lr
 131              		.cfi_endproc
 132              	.LFE184:
 134              		.section	.text.SPI_WaitFlagStateUntilTimeout,"ax",%progbits
 135              		.align	2
 136              		.thumb
 137              		.thumb_func
 139              	SPI_WaitFlagStateUntilTimeout:
 140              	.LFB177:
3483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t count;
 141              		.loc 1 3483 0
 142              		.cfi_startproc
 143              		@ args = 4, pretend = 0, frame = 8
 144              		@ frame_needed = 0, uses_anonymous_args = 0
 145              	.LVL2:
 146 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 147              	.LCFI2:
 148              		.cfi_def_cfa_offset 28
 149              		.cfi_offset 4, -28
 150              		.cfi_offset 5, -24
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 72


 151              		.cfi_offset 6, -20
 152              		.cfi_offset 7, -16
 153              		.cfi_offset 8, -12
 154              		.cfi_offset 9, -8
 155              		.cfi_offset 14, -4
 156 0004 83B0     		sub	sp, sp, #12
 157              	.LCFI3:
 158              		.cfi_def_cfa_offset 40
 159 0006 0446     		mov	r4, r0
 160 0008 0F46     		mov	r7, r1
 161 000a 1646     		mov	r6, r2
 162 000c 1D46     		mov	r5, r3
3489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp_tickstart = HAL_GetTick();
 163              		.loc 1 3489 0
 164 000e FFF7FEFF 		bl	HAL_GetTick
 165              	.LVL3:
 166 0012 0A9B     		ldr	r3, [sp, #40]
 167 0014 181A     		subs	r0, r3, r0
 168 0016 00EB0508 		add	r8, r0, r5
 169              	.LVL4:
3490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 170              		.loc 1 3490 0
 171 001a FFF7FEFF 		bl	HAL_GetTick
 172              	.LVL5:
 173 001e 8146     		mov	r9, r0
 174              	.LVL6:
3493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 175              		.loc 1 3493 0
 176 0020 294B     		ldr	r3, .L22
 177 0022 1B68     		ldr	r3, [r3]
 178 0024 C3F3CB33 		ubfx	r3, r3, #15, #12
 179 0028 03FB08F3 		mul	r3, r3, r8
 180 002c 0193     		str	r3, [sp, #4]
3495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 181              		.loc 1 3495 0
 182 002e 3DE0     		b	.L11
 183              	.LVL7:
 184              	.L19:
3497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 185              		.loc 1 3497 0
 186 0030 B5F1FF3F 		cmp	r5, #-1
 187 0034 3AD0     		beq	.L11
3499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 188              		.loc 1 3499 0
 189 0036 FFF7FEFF 		bl	HAL_GetTick
 190              	.LVL8:
 191 003a C9EB0000 		rsb	r0, r9, r0
 192 003e 8045     		cmp	r8, r0
 193 0040 02D9     		bls	.L12
3499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 194              		.loc 1 3499 0 is_stmt 0 discriminator 1
 195 0042 B8F1000F 		cmp	r8, #0
 196 0046 2AD1     		bne	.L13
 197              	.L12:
3506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 198              		.loc 1 3506 0 is_stmt 1
 199 0048 2268     		ldr	r2, [r4]
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 73


 200 004a 5368     		ldr	r3, [r2, #4]
 201 004c 23F0E003 		bic	r3, r3, #224
 202 0050 5360     		str	r3, [r2, #4]
3508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 203              		.loc 1 3508 0
 204 0052 6368     		ldr	r3, [r4, #4]
 205 0054 B3F5827F 		cmp	r3, #260
 206 0058 0BD1     		bne	.L14
3508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                                      || (hspi->Init.Direction == SPI_DIRECTION_2LIN
 207              		.loc 1 3508 0 is_stmt 0 discriminator 1
 208 005a A368     		ldr	r3, [r4, #8]
 209 005c B3F5004F 		cmp	r3, #32768
 210 0060 02D0     		beq	.L15
3509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 211              		.loc 1 3509 0 is_stmt 1
 212 0062 B3F5806F 		cmp	r3, #1024
 213 0066 04D1     		bne	.L14
 214              	.L15:
3512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 215              		.loc 1 3512 0
 216 0068 2268     		ldr	r2, [r4]
 217 006a 1368     		ldr	r3, [r2]
 218 006c 23F04003 		bic	r3, r3, #64
 219 0070 1360     		str	r3, [r2]
 220              	.L14:
3516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 221              		.loc 1 3516 0
 222 0072 A36A     		ldr	r3, [r4, #40]
 223 0074 B3F5005F 		cmp	r3, #8192
 224 0078 09D1     		bne	.L16
3518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 225              		.loc 1 3518 0
 226 007a 2268     		ldr	r2, [r4]
 227 007c 1368     		ldr	r3, [r2]
 228 007e 23F40053 		bic	r3, r3, #8192
 229 0082 1360     		str	r3, [r2]
 230 0084 2268     		ldr	r2, [r4]
 231 0086 1368     		ldr	r3, [r2]
 232 0088 43F40053 		orr	r3, r3, #8192
 233 008c 1360     		str	r3, [r2]
 234              	.L16:
3521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 235              		.loc 1 3521 0
 236 008e 0123     		movs	r3, #1
 237 0090 84F85130 		strb	r3, [r4, #81]
3524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 238              		.loc 1 3524 0
 239 0094 0023     		movs	r3, #0
 240 0096 84F85030 		strb	r3, [r4, #80]
3526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 241              		.loc 1 3526 0
 242 009a 0320     		movs	r0, #3
 243 009c 10E0     		b	.L17
 244              	.L13:
3529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 245              		.loc 1 3529 0
 246 009e 019B     		ldr	r3, [sp, #4]
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 74


 247 00a0 0BB9     		cbnz	r3, .L18
3531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 248              		.loc 1 3531 0
 249 00a2 4FF00008 		mov	r8, #0
 250              	.LVL9:
 251              	.L18:
3533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 252              		.loc 1 3533 0
 253 00a6 019B     		ldr	r3, [sp, #4]
 254 00a8 013B     		subs	r3, r3, #1
 255 00aa 0193     		str	r3, [sp, #4]
 256              	.L11:
3495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 257              		.loc 1 3495 0
 258 00ac 2368     		ldr	r3, [r4]
 259 00ae 9B68     		ldr	r3, [r3, #8]
 260 00b0 37EA0303 		bics	r3, r7, r3
 261 00b4 0CBF     		ite	eq
 262 00b6 0123     		moveq	r3, #1
 263 00b8 0023     		movne	r3, #0
 264 00ba B342     		cmp	r3, r6
 265 00bc B8D1     		bne	.L19
3537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 266              		.loc 1 3537 0
 267 00be 0020     		movs	r0, #0
 268              	.L17:
3538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 269              		.loc 1 3538 0
 270 00c0 03B0     		add	sp, sp, #12
 271              	.LCFI4:
 272              		.cfi_def_cfa_offset 28
 273              		@ sp needed
 274 00c2 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 275              	.LVL10:
 276              	.L23:
 277 00c6 00BF     		.align	2
 278              	.L22:
 279 00c8 00000000 		.word	SystemCoreClock
 280              		.cfi_endproc
 281              	.LFE177:
 283              		.section	.text.SPI_EndRxTxTransaction,"ax",%progbits
 284              		.align	2
 285              		.thumb
 286              		.thumb_func
 288              	SPI_EndRxTxTransaction:
 289              	.LFB179:
3599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Timeout in Âµs */
 290              		.loc 1 3599 0
 291              		.cfi_startproc
 292              		@ args = 0, pretend = 0, frame = 8
 293              		@ frame_needed = 0, uses_anonymous_args = 0
 294              	.LVL11:
 295 0000 30B5     		push	{r4, r5, lr}
 296              	.LCFI5:
 297              		.cfi_def_cfa_offset 12
 298              		.cfi_offset 4, -12
 299              		.cfi_offset 5, -8
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 75


 300              		.cfi_offset 14, -4
 301 0002 85B0     		sub	sp, sp, #20
 302              	.LCFI6:
 303              		.cfi_def_cfa_offset 32
3601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Erratasheet: BSY bit may stay high at the end of a data transfer in Slave mode */
 304              		.loc 1 3601 0
 305 0004 164C     		ldr	r4, .L29
 306 0006 2468     		ldr	r4, [r4]
 307 0008 164D     		ldr	r5, .L29+4
 308 000a A5FB0434 		umull	r3, r4, r5, r4
 309 000e 640D     		lsrs	r4, r4, #21
 310 0010 4FF47A75 		mov	r5, #1000
 311 0014 05FB04F4 		mul	r4, r5, r4
 312 0018 0394     		str	r4, [sp, #12]
3603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 313              		.loc 1 3603 0
 314 001a 4468     		ldr	r4, [r0, #4]
 315 001c B4F5827F 		cmp	r4, #260
 316 0020 0ED1     		bne	.L25
 317 0022 0B46     		mov	r3, r1
 318 0024 0446     		mov	r4, r0
3606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 319              		.loc 1 3606 0
 320 0026 0092     		str	r2, [sp]
 321 0028 0022     		movs	r2, #0
 322              	.LVL12:
 323 002a 8021     		movs	r1, #128
 324              	.LVL13:
 325 002c FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 326              	.LVL14:
 327 0030 0346     		mov	r3, r0
 328 0032 90B1     		cbz	r0, .L26
3608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return HAL_TIMEOUT;
 329              		.loc 1 3608 0
 330 0034 636D     		ldr	r3, [r4, #84]
 331 0036 43F02003 		orr	r3, r3, #32
 332 003a 6365     		str	r3, [r4, #84]
3609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 333              		.loc 1 3609 0
 334 003c 0323     		movs	r3, #3
 335 003e 0CE0     		b	.L26
 336              	.LVL15:
 337              	.L25:
3621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 338              		.loc 1 3621 0
 339 0040 039B     		ldr	r3, [sp, #12]
 340 0042 4BB1     		cbz	r3, .L27
3625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     } while (__HAL_SPI_GET_FLAG(hspi, SPI_FLAG_BSY) != RESET);
 341              		.loc 1 3625 0
 342 0044 039B     		ldr	r3, [sp, #12]
 343 0046 013B     		subs	r3, r3, #1
 344 0048 0393     		str	r3, [sp, #12]
3626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 345              		.loc 1 3626 0
 346 004a 0368     		ldr	r3, [r0]
 347 004c 9B68     		ldr	r3, [r3, #8]
 348 004e 13F0800F 		tst	r3, #128
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 76


 349 0052 F5D1     		bne	.L25
3629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 350              		.loc 1 3629 0
 351 0054 0023     		movs	r3, #0
 352 0056 00E0     		b	.L26
 353              	.L27:
 354 0058 0023     		movs	r3, #0
 355              	.LVL16:
 356              	.L26:
3630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 357              		.loc 1 3630 0
 358 005a 1846     		mov	r0, r3
 359 005c 05B0     		add	sp, sp, #20
 360              	.LCFI7:
 361              		.cfi_def_cfa_offset 12
 362              		@ sp needed
 363 005e 30BD     		pop	{r4, r5, pc}
 364              	.L30:
 365              		.align	2
 366              	.L29:
 367 0060 00000000 		.word	SystemCoreClock
 368 0064 819F5E16 		.word	375299969
 369              		.cfi_endproc
 370              	.LFE179:
 372              		.section	.text.SPI_EndRxTransaction,"ax",%progbits
 373              		.align	2
 374              		.thumb
 375              		.thumb_func
 377              	SPI_EndRxTransaction:
 378              	.LFB178:
3549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if ((hspi->Init.Mode == SPI_MODE_MASTER) && ((hspi->Init.Direction == SPI_DIRECTION_1LINE)
 379              		.loc 1 3549 0
 380              		.cfi_startproc
 381              		@ args = 0, pretend = 0, frame = 0
 382              		@ frame_needed = 0, uses_anonymous_args = 0
 383              	.LVL17:
 384 0000 10B5     		push	{r4, lr}
 385              	.LCFI8:
 386              		.cfi_def_cfa_offset 8
 387              		.cfi_offset 4, -8
 388              		.cfi_offset 14, -4
 389 0002 82B0     		sub	sp, sp, #8
 390              	.LCFI9:
 391              		.cfi_def_cfa_offset 16
 392 0004 0446     		mov	r4, r0
3550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 393              		.loc 1 3550 0
 394 0006 4068     		ldr	r0, [r0, #4]
 395              	.LVL18:
 396 0008 B0F5827F 		cmp	r0, #260
 397 000c 0BD1     		bne	.L32
3550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                                || (hspi->Init.Direction == SPI_DIRECTION_2LINES_RXO
 398              		.loc 1 3550 0 is_stmt 0 discriminator 1
 399 000e A368     		ldr	r3, [r4, #8]
 400 0010 B3F5004F 		cmp	r3, #32768
 401 0014 02D0     		beq	.L33
3551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 77


 402              		.loc 1 3551 0 is_stmt 1
 403 0016 B3F5806F 		cmp	r3, #1024
 404 001a 04D1     		bne	.L32
 405              	.L33:
3554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 406              		.loc 1 3554 0
 407 001c 2068     		ldr	r0, [r4]
 408 001e 0368     		ldr	r3, [r0]
 409 0020 23F04003 		bic	r3, r3, #64
 410 0024 0360     		str	r3, [r0]
 411              	.L32:
3558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 412              		.loc 1 3558 0
 413 0026 6068     		ldr	r0, [r4, #4]
 414 0028 B0F5827F 		cmp	r0, #260
 415 002c 21D1     		bne	.L34
3560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 416              		.loc 1 3560 0
 417 002e A368     		ldr	r3, [r4, #8]
 418 0030 B3F5806F 		cmp	r3, #1024
 419 0034 0ED0     		beq	.L35
3563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 420              		.loc 1 3563 0
 421 0036 0092     		str	r2, [sp]
 422 0038 0B46     		mov	r3, r1
 423 003a 0022     		movs	r2, #0
 424              	.LVL19:
 425 003c 8021     		movs	r1, #128
 426              	.LVL20:
 427 003e 2046     		mov	r0, r4
 428 0040 FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 429              	.LVL21:
 430 0044 0346     		mov	r3, r0
 431 0046 10B3     		cbz	r0, .L36
3565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         return HAL_TIMEOUT;
 432              		.loc 1 3565 0
 433 0048 636D     		ldr	r3, [r4, #84]
 434 004a 43F02003 		orr	r3, r3, #32
 435 004e 6365     		str	r3, [r4, #84]
3566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 436              		.loc 1 3566 0
 437 0050 0323     		movs	r3, #3
 438 0052 1CE0     		b	.L36
 439              	.LVL22:
 440              	.L35:
3572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 441              		.loc 1 3572 0
 442 0054 0092     		str	r2, [sp]
 443 0056 0B46     		mov	r3, r1
 444 0058 0022     		movs	r2, #0
 445              	.LVL23:
 446 005a 0121     		movs	r1, #1
 447              	.LVL24:
 448 005c 2046     		mov	r0, r4
 449 005e FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 450              	.LVL25:
 451 0062 0346     		mov	r3, r0
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 78


 452 0064 98B1     		cbz	r0, .L36
3574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         return HAL_TIMEOUT;
 453              		.loc 1 3574 0
 454 0066 636D     		ldr	r3, [r4, #84]
 455 0068 43F02003 		orr	r3, r3, #32
 456 006c 6365     		str	r3, [r4, #84]
3575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 457              		.loc 1 3575 0
 458 006e 0323     		movs	r3, #3
 459 0070 0DE0     		b	.L36
 460              	.LVL26:
 461              	.L34:
3582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 462              		.loc 1 3582 0
 463 0072 0092     		str	r2, [sp]
 464 0074 0B46     		mov	r3, r1
 465 0076 0022     		movs	r2, #0
 466              	.LVL27:
 467 0078 0121     		movs	r1, #1
 468              	.LVL28:
 469 007a 2046     		mov	r0, r4
 470 007c FFF7FEFF 		bl	SPI_WaitFlagStateUntilTimeout
 471              	.LVL29:
 472 0080 0346     		mov	r3, r0
 473 0082 20B1     		cbz	r0, .L36
3584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       return HAL_TIMEOUT;
 474              		.loc 1 3584 0
 475 0084 636D     		ldr	r3, [r4, #84]
 476 0086 43F02003 		orr	r3, r3, #32
 477 008a 6365     		str	r3, [r4, #84]
3585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 478              		.loc 1 3585 0
 479 008c 0323     		movs	r3, #3
 480              	.L36:
3589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 481              		.loc 1 3589 0
 482 008e 1846     		mov	r0, r3
 483 0090 02B0     		add	sp, sp, #8
 484              	.LCFI10:
 485              		.cfi_def_cfa_offset 8
 486              		@ sp needed
 487 0092 10BD     		pop	{r4, pc}
 488              		.cfi_endproc
 489              	.LFE178:
 491              		.section	.text.HAL_SPI_MspInit,"ax",%progbits
 492              		.align	2
 493              		.weak	HAL_SPI_MspInit
 494              		.thumb
 495              		.thumb_func
 497              	HAL_SPI_MspInit:
 498              	.LFB132:
 484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 499              		.loc 1 484 0
 500              		.cfi_startproc
 501              		@ args = 0, pretend = 0, frame = 0
 502              		@ frame_needed = 0, uses_anonymous_args = 0
 503              		@ link register save eliminated.
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 79


 504              	.LVL30:
 505 0000 7047     		bx	lr
 506              		.cfi_endproc
 507              	.LFE132:
 509 0002 00BF     		.section	.text.HAL_SPI_Init,"ax",%progbits
 510              		.align	2
 511              		.global	HAL_SPI_Init
 512              		.thumb
 513              		.thumb_func
 515              	HAL_SPI_Init:
 516              	.LFB130:
 314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the SPI handle allocation */
 517              		.loc 1 314 0
 518              		.cfi_startproc
 519              		@ args = 0, pretend = 0, frame = 0
 520              		@ frame_needed = 0, uses_anonymous_args = 0
 521              	.LVL31:
 316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 522              		.loc 1 316 0
 523 0000 0028     		cmp	r0, #0
 524 0002 5CD0     		beq	.L44
 314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the SPI handle allocation */
 525              		.loc 1 314 0
 526 0004 70B5     		push	{r4, r5, r6, lr}
 527              	.LCFI11:
 528              		.cfi_def_cfa_offset 16
 529              		.cfi_offset 4, -16
 530              		.cfi_offset 5, -12
 531              		.cfi_offset 6, -8
 532              		.cfi_offset 14, -4
 533 0006 0446     		mov	r4, r0
 330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 534              		.loc 1 330 0
 535 0008 436A     		ldr	r3, [r0, #36]
 536 000a 33B9     		cbnz	r3, .L41
 335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 537              		.loc 1 335 0
 538 000c 4368     		ldr	r3, [r0, #4]
 539 000e B3F5827F 		cmp	r3, #260
 540 0012 05D0     		beq	.L42
 342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 541              		.loc 1 342 0
 542 0014 0023     		movs	r3, #0
 543 0016 C361     		str	r3, [r0, #28]
 544 0018 02E0     		b	.L42
 545              	.L41:
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->Init.CLKPhase    = SPI_PHASE_1EDGE;
 546              		.loc 1 350 0
 547 001a 0023     		movs	r3, #0
 548 001c 0361     		str	r3, [r0, #16]
 351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 549              		.loc 1 351 0
 550 001e 4361     		str	r3, [r0, #20]
 551              	.L42:
 360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_SPI_CRC */
 552              		.loc 1 360 0
 553 0020 0023     		movs	r3, #0
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 80


 554 0022 A362     		str	r3, [r4, #40]
 363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 555              		.loc 1 363 0
 556 0024 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 557 0028 13F0FF0F 		tst	r3, #255
 558 002c 05D1     		bne	.L43
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 559              		.loc 1 366 0
 560 002e 0023     		movs	r3, #0
 561 0030 84F85030 		strb	r3, [r4, #80]
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 562              		.loc 1 388 0
 563 0034 2046     		mov	r0, r4
 564              	.LVL32:
 565 0036 FFF7FEFF 		bl	HAL_SPI_MspInit
 566              	.LVL33:
 567              	.L43:
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 568              		.loc 1 392 0
 569 003a 0223     		movs	r3, #2
 570 003c 84F85130 		strb	r3, [r4, #81]
 395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 571              		.loc 1 395 0
 572 0040 2268     		ldr	r2, [r4]
 573 0042 1368     		ldr	r3, [r2]
 574 0044 23F04003 		bic	r3, r3, #64
 575 0048 1360     		str	r3, [r2]
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                   (hspi->Init.Direction & (SPI_CR1_RXONLY | SPI_CR1_BIDIMODE)) |
 576              		.loc 1 400 0
 577 004a 2168     		ldr	r1, [r4]
 578 004c 6268     		ldr	r2, [r4, #4]
 579 004e 02F48272 		and	r2, r2, #260
 580 0052 A568     		ldr	r5, [r4, #8]
 581 0054 05F40445 		and	r5, r5, #33792
 582 0058 2A43     		orrs	r2, r2, r5
 583 005a E368     		ldr	r3, [r4, #12]
 584 005c 03F40063 		and	r3, r3, #2048
 585 0060 1A43     		orrs	r2, r2, r3
 586 0062 2069     		ldr	r0, [r4, #16]
 587 0064 00F00200 		and	r0, r0, #2
 588 0068 0243     		orrs	r2, r2, r0
 589 006a 6669     		ldr	r6, [r4, #20]
 590 006c 06F00106 		and	r6, r6, #1
 591 0070 3243     		orrs	r2, r2, r6
 592 0072 A569     		ldr	r5, [r4, #24]
 593 0074 05F40075 		and	r5, r5, #512
 594 0078 2A43     		orrs	r2, r2, r5
 595 007a E069     		ldr	r0, [r4, #28]
 596 007c 00F03800 		and	r0, r0, #56
 597 0080 42EA0003 		orr	r3, r2, r0
 598 0084 226A     		ldr	r2, [r4, #32]
 599 0086 02F08002 		and	r2, r2, #128
 600 008a 1A43     		orrs	r2, r2, r3
 601 008c A36A     		ldr	r3, [r4, #40]
 602 008e 03F40053 		and	r3, r3, #8192
 603 0092 1343     		orrs	r3, r3, r2
 604 0094 0B60     		str	r3, [r1]
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 81


 411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 605              		.loc 1 411 0
 606 0096 2168     		ldr	r1, [r4]
 607 0098 638B     		ldrh	r3, [r4, #26]
 608 009a 03F00402 		and	r2, r3, #4
 609 009e 636A     		ldr	r3, [r4, #36]
 610 00a0 03F01003 		and	r3, r3, #16
 611 00a4 1343     		orrs	r3, r3, r2
 612 00a6 4B60     		str	r3, [r1, #4]
 424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* SPI_I2SCFGR_I2SMOD */
 613              		.loc 1 424 0
 614 00a8 2268     		ldr	r2, [r4]
 615 00aa D369     		ldr	r3, [r2, #28]
 616 00ac 23F40063 		bic	r3, r3, #2048
 617 00b0 D361     		str	r3, [r2, #28]
 427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State     = HAL_SPI_STATE_READY;
 618              		.loc 1 427 0
 619 00b2 0020     		movs	r0, #0
 620 00b4 6065     		str	r0, [r4, #84]
 428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 621              		.loc 1 428 0
 622 00b6 0123     		movs	r3, #1
 623 00b8 84F85130 		strb	r3, [r4, #81]
 430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 624              		.loc 1 430 0
 625 00bc 70BD     		pop	{r4, r5, r6, pc}
 626              	.LVL34:
 627              	.L44:
 628              	.LCFI12:
 629              		.cfi_def_cfa_offset 0
 630              		.cfi_restore 4
 631              		.cfi_restore 5
 632              		.cfi_restore 6
 633              		.cfi_restore 14
 318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 634              		.loc 1 318 0
 635 00be 0120     		movs	r0, #1
 636              	.LVL35:
 637 00c0 7047     		bx	lr
 638              		.cfi_endproc
 639              	.LFE130:
 641 00c2 00BF     		.section	.text.HAL_SPI_MspDeInit,"ax",%progbits
 642              		.align	2
 643              		.weak	HAL_SPI_MspDeInit
 644              		.thumb
 645              		.thumb_func
 647              	HAL_SPI_MspDeInit:
 648              	.LFB133:
 500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 649              		.loc 1 500 0
 650              		.cfi_startproc
 651              		@ args = 0, pretend = 0, frame = 0
 652              		@ frame_needed = 0, uses_anonymous_args = 0
 653              		@ link register save eliminated.
 654              	.LVL36:
 655 0000 7047     		bx	lr
 656              		.cfi_endproc
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 82


 657              	.LFE133:
 659 0002 00BF     		.section	.text.HAL_SPI_DeInit,"ax",%progbits
 660              		.align	2
 661              		.global	HAL_SPI_DeInit
 662              		.thumb
 663              		.thumb_func
 665              	HAL_SPI_DeInit:
 666              	.LFB131:
 440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the SPI handle allocation */
 667              		.loc 1 440 0
 668              		.cfi_startproc
 669              		@ args = 0, pretend = 0, frame = 0
 670              		@ frame_needed = 0, uses_anonymous_args = 0
 671              	.LVL37:
 442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 672              		.loc 1 442 0
 673 0000 90B1     		cbz	r0, .L50
 440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Check the SPI handle allocation */
 674              		.loc 1 440 0
 675 0002 10B5     		push	{r4, lr}
 676              	.LCFI13:
 677              		.cfi_def_cfa_offset 8
 678              		.cfi_offset 4, -8
 679              		.cfi_offset 14, -4
 680 0004 0446     		mov	r4, r0
 450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 681              		.loc 1 450 0
 682 0006 0223     		movs	r3, #2
 683 0008 80F85130 		strb	r3, [r0, #81]
 453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 684              		.loc 1 453 0
 685 000c 0268     		ldr	r2, [r0]
 686 000e 1368     		ldr	r3, [r2]
 687 0010 23F04003 		bic	r3, r3, #64
 688 0014 1360     		str	r3, [r2]
 465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 689              		.loc 1 465 0
 690 0016 FFF7FEFF 		bl	HAL_SPI_MspDeInit
 691              	.LVL38:
 468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_RESET;
 692              		.loc 1 468 0
 693 001a 0020     		movs	r0, #0
 694 001c 6065     		str	r0, [r4, #84]
 469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 695              		.loc 1 469 0
 696 001e 84F85100 		strb	r0, [r4, #81]
 472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 697              		.loc 1 472 0
 698 0022 84F85000 		strb	r0, [r4, #80]
 474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 699              		.loc 1 474 0
 700 0026 10BD     		pop	{r4, pc}
 701              	.LVL39:
 702              	.L50:
 703              	.LCFI14:
 704              		.cfi_def_cfa_offset 0
 705              		.cfi_restore 4
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 83


 706              		.cfi_restore 14
 444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 707              		.loc 1 444 0
 708 0028 0120     		movs	r0, #1
 709              	.LVL40:
 710 002a 7047     		bx	lr
 711              		.cfi_endproc
 712              	.LFE131:
 714              		.section	.text.HAL_SPI_Transmit,"ax",%progbits
 715              		.align	2
 716              		.global	HAL_SPI_Transmit
 717              		.thumb
 718              		.thumb_func
 720              	HAL_SPI_Transmit:
 721              	.LFB134:
 772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart;
 722              		.loc 1 772 0
 723              		.cfi_startproc
 724              		@ args = 0, pretend = 0, frame = 8
 725              		@ frame_needed = 0, uses_anonymous_args = 0
 726              	.LVL41:
 727 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 728              	.LCFI15:
 729              		.cfi_def_cfa_offset 24
 730              		.cfi_offset 4, -24
 731              		.cfi_offset 5, -20
 732              		.cfi_offset 6, -16
 733              		.cfi_offset 7, -12
 734              		.cfi_offset 8, -8
 735              		.cfi_offset 14, -4
 736 0004 82B0     		sub	sp, sp, #8
 737              	.LCFI16:
 738              		.cfi_def_cfa_offset 32
 739              	.LVL42:
 781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 740              		.loc 1 781 0
 741 0006 90F85040 		ldrb	r4, [r0, #80]	@ zero_extendqisi2
 742 000a 012C     		cmp	r4, #1
 743 000c 00F0CB80 		beq	.L76
 744 0010 1D46     		mov	r5, r3
 745 0012 1746     		mov	r7, r2
 746 0014 8846     		mov	r8, r1
 747 0016 0446     		mov	r4, r0
 781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 748              		.loc 1 781 0 is_stmt 0 discriminator 2
 749 0018 0123     		movs	r3, #1
 750              	.LVL43:
 751 001a 80F85030 		strb	r3, [r0, #80]
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   initial_TxXferCount = Size;
 752              		.loc 1 784 0 is_stmt 1 discriminator 2
 753 001e FFF7FEFF 		bl	HAL_GetTick
 754              	.LVL44:
 755 0022 0646     		mov	r6, r0
 756              	.LVL45:
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 757              		.loc 1 787 0 discriminator 2
 758 0024 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 84


 759 0028 DBB2     		uxtb	r3, r3
 760 002a 012B     		cmp	r3, #1
 761 002c 40F0A580 		bne	.L77
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 762              		.loc 1 793 0
 763 0030 B8F1000F 		cmp	r8, #0
 764 0034 00F0A380 		beq	.L78
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 765              		.loc 1 793 0 is_stmt 0 discriminator 1
 766 0038 002F     		cmp	r7, #0
 767 003a 00F0A280 		beq	.L79
 800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 768              		.loc 1 800 0 is_stmt 1
 769 003e 0323     		movs	r3, #3
 770 0040 84F85130 		strb	r3, [r4, #81]
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 771              		.loc 1 801 0
 772 0044 0023     		movs	r3, #0
 773 0046 6365     		str	r3, [r4, #84]
 802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 774              		.loc 1 802 0
 775 0048 C4F83080 		str	r8, [r4, #48]
 803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 776              		.loc 1 803 0
 777 004c A786     		strh	r7, [r4, #52]	@ movhi
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 778              		.loc 1 804 0
 779 004e E786     		strh	r7, [r4, #54]	@ movhi
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 780              		.loc 1 807 0
 781 0050 A363     		str	r3, [r4, #56]
 808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 782              		.loc 1 808 0
 783 0052 A387     		strh	r3, [r4, #60]	@ movhi
 809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 784              		.loc 1 809 0
 785 0054 E387     		strh	r3, [r4, #62]	@ movhi
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 786              		.loc 1 810 0
 787 0056 6364     		str	r3, [r4, #68]
 811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 788              		.loc 1 811 0
 789 0058 2364     		str	r3, [r4, #64]
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 790              		.loc 1 814 0
 791 005a A368     		ldr	r3, [r4, #8]
 792 005c B3F5004F 		cmp	r3, #32768
 793 0060 09D1     		bne	.L56
 817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 794              		.loc 1 817 0
 795 0062 2268     		ldr	r2, [r4]
 796 0064 1368     		ldr	r3, [r2]
 797 0066 23F04003 		bic	r3, r3, #64
 798 006a 1360     		str	r3, [r2]
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 799              		.loc 1 818 0
 800 006c 2268     		ldr	r2, [r4]
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 85


 801 006e 1368     		ldr	r3, [r2]
 802 0070 43F48043 		orr	r3, r3, #16384
 803 0074 1360     		str	r3, [r2]
 804              	.L56:
 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 805              		.loc 1 830 0
 806 0076 2368     		ldr	r3, [r4]
 807 0078 1A68     		ldr	r2, [r3]
 808 007a 12F0400F 		tst	r2, #64
 809 007e 03D1     		bne	.L57
 833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 810              		.loc 1 833 0
 811 0080 1A68     		ldr	r2, [r3]
 812 0082 42F04002 		orr	r2, r2, #64
 813 0086 1A60     		str	r2, [r3]
 814              	.L57:
 837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 815              		.loc 1 837 0
 816 0088 E368     		ldr	r3, [r4, #12]
 817 008a B3F5006F 		cmp	r3, #2048
 818 008e 30D1     		bne	.L58
 839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 819              		.loc 1 839 0
 820 0090 6368     		ldr	r3, [r4, #4]
 821 0092 0BB1     		cbz	r3, .L59
 839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 822              		.loc 1 839 0 is_stmt 0 discriminator 1
 823 0094 012F     		cmp	r7, #1
 824 0096 27D1     		bne	.L61
 825              	.L59:
 841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 826              		.loc 1 841 0 is_stmt 1
 827 0098 2368     		ldr	r3, [r4]
 828 009a 226B     		ldr	r2, [r4, #48]
 829 009c 1288     		ldrh	r2, [r2]
 830 009e DA60     		str	r2, [r3, #12]
 842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->TxXferCount--;
 831              		.loc 1 842 0
 832 00a0 236B     		ldr	r3, [r4, #48]
 833 00a2 0233     		adds	r3, r3, #2
 834 00a4 2363     		str	r3, [r4, #48]
 843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 835              		.loc 1 843 0
 836 00a6 E38E     		ldrh	r3, [r4, #54]
 837 00a8 9BB2     		uxth	r3, r3
 838 00aa 013B     		subs	r3, r3, #1
 839 00ac 9BB2     		uxth	r3, r3
 840 00ae E386     		strh	r3, [r4, #54]	@ movhi
 841 00b0 1AE0     		b	.L61
 842              	.LVL46:
 843              	.L65:
 849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 844              		.loc 1 849 0
 845 00b2 2368     		ldr	r3, [r4]
 846 00b4 9A68     		ldr	r2, [r3, #8]
 847 00b6 12F0020F 		tst	r2, #2
 848 00ba 0BD0     		beq	.L62
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 86


 851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 849              		.loc 1 851 0
 850 00bc 226B     		ldr	r2, [r4, #48]
 851 00be 1288     		ldrh	r2, [r2]
 852 00c0 DA60     		str	r2, [r3, #12]
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 853              		.loc 1 852 0
 854 00c2 236B     		ldr	r3, [r4, #48]
 855 00c4 0233     		adds	r3, r3, #2
 856 00c6 2363     		str	r3, [r4, #48]
 853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 857              		.loc 1 853 0
 858 00c8 E38E     		ldrh	r3, [r4, #54]
 859 00ca 9BB2     		uxth	r3, r3
 860 00cc 013B     		subs	r3, r3, #1
 861 00ce 9BB2     		uxth	r3, r3
 862 00d0 E386     		strh	r3, [r4, #54]	@ movhi
 863 00d2 09E0     		b	.L61
 864              	.L62:
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 865              		.loc 1 858 0
 866 00d4 FFF7FEFF 		bl	HAL_GetTick
 867              	.LVL47:
 868 00d8 801B     		subs	r0, r0, r6
 869 00da A842     		cmp	r0, r5
 870 00dc 02D3     		bcc	.L64
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 871              		.loc 1 858 0 is_stmt 0 discriminator 1
 872 00de B5F1FF3F 		cmp	r5, #-1
 873 00e2 50D1     		bne	.L80
 874              	.L64:
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 875              		.loc 1 858 0 discriminator 3
 876 00e4 002D     		cmp	r5, #0
 877 00e6 50D0     		beq	.L81
 878              	.L61:
 846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 879              		.loc 1 846 0 is_stmt 1
 880 00e8 E38E     		ldrh	r3, [r4, #54]
 881 00ea 9BB2     		uxth	r3, r3
 882 00ec 002B     		cmp	r3, #0
 883 00ee E0D1     		bne	.L65
 884 00f0 2EE0     		b	.L66
 885              	.LVL48:
 886              	.L58:
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 887              		.loc 1 869 0
 888 00f2 6368     		ldr	r3, [r4, #4]
 889 00f4 0BB1     		cbz	r3, .L67
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 890              		.loc 1 869 0 is_stmt 0 discriminator 1
 891 00f6 012F     		cmp	r7, #1
 892 00f8 26D1     		bne	.L69
 893              	.L67:
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 894              		.loc 1 871 0 is_stmt 1
 895 00fa 2368     		ldr	r3, [r4]
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 87


 896 00fc 226B     		ldr	r2, [r4, #48]
 897 00fe 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 898 0100 1A73     		strb	r2, [r3, #12]
 872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->TxXferCount--;
 899              		.loc 1 872 0
 900 0102 236B     		ldr	r3, [r4, #48]
 901 0104 0133     		adds	r3, r3, #1
 902 0106 2363     		str	r3, [r4, #48]
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 903              		.loc 1 873 0
 904 0108 E38E     		ldrh	r3, [r4, #54]
 905 010a 9BB2     		uxth	r3, r3
 906 010c 013B     		subs	r3, r3, #1
 907 010e 9BB2     		uxth	r3, r3
 908 0110 E386     		strh	r3, [r4, #54]	@ movhi
 909 0112 19E0     		b	.L69
 910              	.LVL49:
 911              	.L73:
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 912              		.loc 1 878 0
 913 0114 2368     		ldr	r3, [r4]
 914 0116 9A68     		ldr	r2, [r3, #8]
 915 0118 12F0020F 		tst	r2, #2
 916 011c 0BD0     		beq	.L70
 880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint8_t);
 917              		.loc 1 880 0
 918 011e 226B     		ldr	r2, [r4, #48]
 919 0120 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 920 0122 1A73     		strb	r2, [r3, #12]
 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 921              		.loc 1 881 0
 922 0124 236B     		ldr	r3, [r4, #48]
 923 0126 0133     		adds	r3, r3, #1
 924 0128 2363     		str	r3, [r4, #48]
 882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 925              		.loc 1 882 0
 926 012a E28E     		ldrh	r2, [r4, #54]
 927 012c 92B2     		uxth	r2, r2
 928 012e 013A     		subs	r2, r2, #1
 929 0130 92B2     		uxth	r2, r2
 930 0132 E286     		strh	r2, [r4, #54]	@ movhi
 931 0134 08E0     		b	.L69
 932              	.L70:
 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 933              		.loc 1 887 0
 934 0136 FFF7FEFF 		bl	HAL_GetTick
 935              	.LVL50:
 936 013a 801B     		subs	r0, r0, r6
 937 013c 8542     		cmp	r5, r0
 938 013e 02D8     		bhi	.L72
 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 939              		.loc 1 887 0 is_stmt 0 discriminator 1
 940 0140 B5F1FF3F 		cmp	r5, #-1
 941 0144 23D1     		bne	.L82
 942              	.L72:
 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 943              		.loc 1 887 0 discriminator 3
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 88


 944 0146 25B3     		cbz	r5, .L83
 945              	.L69:
 875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 946              		.loc 1 875 0 is_stmt 1
 947 0148 E28E     		ldrh	r2, [r4, #54]
 948 014a 92B2     		uxth	r2, r2
 949 014c 002A     		cmp	r2, #0
 950 014e E1D1     		bne	.L73
 951              	.L66:
 904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 952              		.loc 1 904 0
 953 0150 3246     		mov	r2, r6
 954 0152 2946     		mov	r1, r5
 955 0154 2046     		mov	r0, r4
 956 0156 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 957              	.LVL51:
 958 015a 08B1     		cbz	r0, .L74
 906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 959              		.loc 1 906 0
 960 015c 2023     		movs	r3, #32
 961 015e 6365     		str	r3, [r4, #84]
 962              	.L74:
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 963              		.loc 1 910 0
 964 0160 A368     		ldr	r3, [r4, #8]
 965 0162 33B9     		cbnz	r3, .L75
 966              	.LBB2:
 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 967              		.loc 1 912 0
 968 0164 0193     		str	r3, [sp, #4]
 969 0166 2368     		ldr	r3, [r4]
 970 0168 DA68     		ldr	r2, [r3, #12]
 971 016a 0192     		str	r2, [sp, #4]
 972 016c 9B68     		ldr	r3, [r3, #8]
 973 016e 0193     		str	r3, [sp, #4]
 974 0170 019B     		ldr	r3, [sp, #4]
 975              	.L75:
 976              	.LBE2:
 915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 977              		.loc 1 915 0
 978 0172 636D     		ldr	r3, [r4, #84]
 979 0174 7BB9     		cbnz	r3, .L84
 774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint16_t initial_TxXferCount;
 980              		.loc 1 774 0
 981 0176 0020     		movs	r0, #0
 982 0178 0EE0     		b	.L55
 983              	.LVL52:
 984              	.L77:
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 985              		.loc 1 789 0
 986 017a 0220     		movs	r0, #2
 987              	.LVL53:
 988 017c 0CE0     		b	.L55
 989              	.LVL54:
 990              	.L78:
 795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 991              		.loc 1 795 0
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 89


 992 017e 0120     		movs	r0, #1
 993              	.LVL55:
 994 0180 0AE0     		b	.L55
 995              	.LVL56:
 996              	.L79:
 997 0182 0120     		movs	r0, #1
 998              	.LVL57:
 999 0184 08E0     		b	.L55
 1000              	.L80:
 860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           goto error;
 1001              		.loc 1 860 0
 1002 0186 0320     		movs	r0, #3
 1003 0188 06E0     		b	.L55
 1004              	.L81:
 1005 018a 0320     		movs	r0, #3
 1006 018c 04E0     		b	.L55
 1007              	.L82:
 889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           goto error;
 1008              		.loc 1 889 0
 1009 018e 0320     		movs	r0, #3
 1010 0190 02E0     		b	.L55
 1011              	.L83:
 1012 0192 0320     		movs	r0, #3
 1013 0194 00E0     		b	.L55
 1014              	.L84:
 917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 1015              		.loc 1 917 0
 1016 0196 0120     		movs	r0, #1
 1017              	.L55:
 1018              	.LVL58:
 921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Unlocked */
 1019              		.loc 1 921 0
 1020 0198 0123     		movs	r3, #1
 1021 019a 84F85130 		strb	r3, [r4, #81]
 923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 1022              		.loc 1 923 0
 1023 019e 0023     		movs	r3, #0
 1024 01a0 84F85030 		strb	r3, [r4, #80]
 924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 1025              		.loc 1 924 0
 1026 01a4 00E0     		b	.L54
 1027              	.LVL59:
 1028              	.L76:
 781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1029              		.loc 1 781 0
 1030 01a6 0220     		movs	r0, #2
 1031              	.LVL60:
 1032              	.L54:
 925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1033              		.loc 1 925 0
 1034 01a8 02B0     		add	sp, sp, #8
 1035              	.LCFI17:
 1036              		.cfi_def_cfa_offset 24
 1037              		@ sp needed
 1038 01aa BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1039              		.cfi_endproc
 1040              	.LFE134:
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 90


 1042 01ae 00BF     		.section	.text.HAL_SPI_TransmitReceive,"ax",%progbits
 1043              		.align	2
 1044              		.global	HAL_SPI_TransmitReceive
 1045              		.thumb
 1046              		.thumb_func
 1048              	HAL_SPI_TransmitReceive:
 1049              	.LFB136:
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint16_t             initial_TxXferCount;
 1050              		.loc 1 1136 0
 1051              		.cfi_startproc
 1052              		@ args = 4, pretend = 0, frame = 8
 1053              		@ frame_needed = 0, uses_anonymous_args = 0
 1054              	.LVL61:
 1055 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1056              	.LCFI18:
 1057              		.cfi_def_cfa_offset 28
 1058              		.cfi_offset 4, -28
 1059              		.cfi_offset 5, -24
 1060              		.cfi_offset 6, -20
 1061              		.cfi_offset 7, -16
 1062              		.cfi_offset 8, -12
 1063              		.cfi_offset 9, -8
 1064              		.cfi_offset 14, -4
 1065 0004 83B0     		sub	sp, sp, #12
 1066              	.LCFI19:
 1067              		.cfi_def_cfa_offset 40
 1068 0006 0A9D     		ldr	r5, [sp, #40]
 1069              	.LVL62:
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1070              		.loc 1 1153 0
 1071 0008 90F85040 		ldrb	r4, [r0, #80]	@ zero_extendqisi2
 1072 000c 012C     		cmp	r4, #1
 1073 000e 00F00F81 		beq	.L108
 1074 0012 1E46     		mov	r6, r3
 1075 0014 9046     		mov	r8, r2
 1076 0016 0F46     		mov	r7, r1
 1077 0018 0446     		mov	r4, r0
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1078              		.loc 1 1153 0 is_stmt 0 discriminator 2
 1079 001a 0123     		movs	r3, #1
 1080              	.LVL63:
 1081 001c 80F85030 		strb	r3, [r0, #80]
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1082              		.loc 1 1156 0 is_stmt 1 discriminator 2
 1083 0020 FFF7FEFF 		bl	HAL_GetTick
 1084              	.LVL64:
 1085 0024 8146     		mov	r9, r0
 1086              	.LVL65:
1159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 1087              		.loc 1 1159 0 discriminator 2
 1088 0026 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 1089 002a DBB2     		uxtb	r3, r3
 1090              	.LVL66:
1160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   initial_TxXferCount = Size;
 1091              		.loc 1 1160 0 discriminator 2
 1092 002c 6268     		ldr	r2, [r4, #4]
 1093              	.LVL67:
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 91


1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
 1094              		.loc 1 1163 0 discriminator 2
 1095 002e 012B     		cmp	r3, #1
 1096 0030 0AD0     		beq	.L88
1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
 1097              		.loc 1 1163 0 is_stmt 0 discriminator 1
 1098 0032 B2F5827F 		cmp	r2, #260
 1099 0036 40F0E180 		bne	.L109
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1100              		.loc 1 1164 0 is_stmt 1
 1101 003a A268     		ldr	r2, [r4, #8]
 1102              	.LVL68:
 1103 003c 002A     		cmp	r2, #0
 1104 003e 40F0DF80 		bne	.L110
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1105              		.loc 1 1164 0 is_stmt 0 discriminator 1
 1106 0042 042B     		cmp	r3, #4
 1107 0044 40F0DE80 		bne	.L111
 1108              	.L88:
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1109              		.loc 1 1170 0 is_stmt 1
 1110 0048 002F     		cmp	r7, #0
 1111 004a 00F0DD80 		beq	.L112
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1112              		.loc 1 1170 0 is_stmt 0 discriminator 1
 1113 004e B8F1000F 		cmp	r8, #0
 1114 0052 00F0DB80 		beq	.L113
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1115              		.loc 1 1170 0 discriminator 2
 1116 0056 002E     		cmp	r6, #0
 1117 0058 00F0DA80 		beq	.L114
1177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1118              		.loc 1 1177 0 is_stmt 1
 1119 005c 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 1120              	.LVL69:
 1121 0060 DBB2     		uxtb	r3, r3
 1122 0062 042B     		cmp	r3, #4
 1123 0064 02D0     		beq	.L90
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 1124              		.loc 1 1179 0
 1125 0066 0523     		movs	r3, #5
 1126 0068 84F85130 		strb	r3, [r4, #81]
 1127              	.L90:
1183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 1128              		.loc 1 1183 0
 1129 006c 0023     		movs	r3, #0
 1130 006e 6365     		str	r3, [r4, #84]
1184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 1131              		.loc 1 1184 0
 1132 0070 C4F83880 		str	r8, [r4, #56]
1185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 1133              		.loc 1 1185 0
 1134 0074 E687     		strh	r6, [r4, #62]	@ movhi
1186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
 1135              		.loc 1 1186 0
 1136 0076 A687     		strh	r6, [r4, #60]	@ movhi
1187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = Size;
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 92


 1137              		.loc 1 1187 0
 1138 0078 2763     		str	r7, [r4, #48]
1188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 1139              		.loc 1 1188 0
 1140 007a E686     		strh	r6, [r4, #54]	@ movhi
1189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1141              		.loc 1 1189 0
 1142 007c A686     		strh	r6, [r4, #52]	@ movhi
1192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1143              		.loc 1 1192 0
 1144 007e 2364     		str	r3, [r4, #64]
1193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1145              		.loc 1 1193 0
 1146 0080 6364     		str	r3, [r4, #68]
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1147              		.loc 1 1204 0
 1148 0082 2368     		ldr	r3, [r4]
 1149 0084 1A68     		ldr	r2, [r3]
 1150 0086 12F0400F 		tst	r2, #64
 1151 008a 03D1     		bne	.L91
1207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 1152              		.loc 1 1207 0
 1153 008c 1A68     		ldr	r2, [r3]
 1154 008e 42F04002 		orr	r2, r2, #64
 1155 0092 1A60     		str	r2, [r3]
 1156              	.LVL70:
 1157              	.L91:
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1158              		.loc 1 1211 0
 1159 0094 E368     		ldr	r3, [r4, #12]
 1160 0096 B3F5006F 		cmp	r3, #2048
 1161 009a 4CD1     		bne	.L92
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 1162              		.loc 1 1213 0
 1163 009c 6368     		ldr	r3, [r4, #4]
 1164 009e 0BB1     		cbz	r3, .L93
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 1165              		.loc 1 1213 0 is_stmt 0 discriminator 1
 1166 00a0 012E     		cmp	r6, #1
 1167 00a2 0BD1     		bne	.L94
 1168              	.L93:
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint16_t);
 1169              		.loc 1 1215 0 is_stmt 1
 1170 00a4 2368     		ldr	r3, [r4]
 1171 00a6 226B     		ldr	r2, [r4, #48]
 1172 00a8 1288     		ldrh	r2, [r2]
 1173 00aa DA60     		str	r2, [r3, #12]
1216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->TxXferCount--;
 1174              		.loc 1 1216 0
 1175 00ac 236B     		ldr	r3, [r4, #48]
 1176 00ae 0233     		adds	r3, r3, #2
 1177 00b0 2363     		str	r3, [r4, #48]
1217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 1178              		.loc 1 1217 0
 1179 00b2 E38E     		ldrh	r3, [r4, #54]
 1180 00b4 9BB2     		uxth	r3, r3
 1181 00b6 013B     		subs	r3, r3, #1
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 93


 1182 00b8 9BB2     		uxth	r3, r3
 1183 00ba E386     		strh	r3, [r4, #54]	@ movhi
 1184              	.L94:
1246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 1185              		.loc 1 1246 0
 1186 00bc 0126     		movs	r6, #1
 1187              	.LVL71:
 1188 00be 31E0     		b	.L95
 1189              	.LVL72:
 1190              	.L98:
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 1191              		.loc 1 1222 0
 1192 00c0 2368     		ldr	r3, [r4]
 1193 00c2 9A68     		ldr	r2, [r3, #8]
 1194 00c4 12F0020F 		tst	r2, #2
 1195 00c8 0FD0     		beq	.L96
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 1196              		.loc 1 1222 0 is_stmt 0 discriminator 1
 1197 00ca E28E     		ldrh	r2, [r4, #54]
 1198 00cc 92B2     		uxth	r2, r2
 1199 00ce 62B1     		cbz	r2, .L96
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 1200              		.loc 1 1222 0 discriminator 2
 1201 00d0 5EB1     		cbz	r6, .L96
1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pTxBuffPtr += sizeof(uint16_t);
 1202              		.loc 1 1224 0 is_stmt 1
 1203 00d2 226B     		ldr	r2, [r4, #48]
 1204 00d4 1288     		ldrh	r2, [r2]
 1205 00d6 DA60     		str	r2, [r3, #12]
1225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 1206              		.loc 1 1225 0
 1207 00d8 236B     		ldr	r3, [r4, #48]
 1208 00da 0233     		adds	r3, r3, #2
 1209 00dc 2363     		str	r3, [r4, #48]
1226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
 1210              		.loc 1 1226 0
 1211 00de E38E     		ldrh	r3, [r4, #54]
 1212 00e0 9BB2     		uxth	r3, r3
 1213 00e2 013B     		subs	r3, r3, #1
 1214 00e4 9BB2     		uxth	r3, r3
 1215 00e6 E386     		strh	r3, [r4, #54]	@ movhi
 1216              	.LVL73:
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1217              		.loc 1 1228 0
 1218 00e8 0026     		movs	r6, #0
 1219              	.LVL74:
 1220              	.L96:
1240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 1221              		.loc 1 1240 0
 1222 00ea 2368     		ldr	r3, [r4]
 1223 00ec 9A68     		ldr	r2, [r3, #8]
 1224 00ee 12F0010F 		tst	r2, #1
 1225 00f2 0ED0     		beq	.L97
1240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 1226              		.loc 1 1240 0 is_stmt 0 discriminator 1
 1227 00f4 E28F     		ldrh	r2, [r4, #62]
 1228 00f6 92B2     		uxth	r2, r2
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 94


 1229 00f8 5AB1     		cbz	r2, .L97
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 1230              		.loc 1 1242 0 is_stmt 1
 1231 00fa A26B     		ldr	r2, [r4, #56]
 1232 00fc DB68     		ldr	r3, [r3, #12]
 1233 00fe 1380     		strh	r3, [r2]	@ movhi
1243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxXferCount--;
 1234              		.loc 1 1243 0
 1235 0100 A36B     		ldr	r3, [r4, #56]
 1236 0102 0233     		adds	r3, r3, #2
 1237 0104 A363     		str	r3, [r4, #56]
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
 1238              		.loc 1 1244 0
 1239 0106 E38F     		ldrh	r3, [r4, #62]
 1240 0108 9BB2     		uxth	r3, r3
 1241 010a 013B     		subs	r3, r3, #1
 1242 010c 9BB2     		uxth	r3, r3
 1243 010e E387     		strh	r3, [r4, #62]	@ movhi
 1244              	.LVL75:
1246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 1245              		.loc 1 1246 0
 1246 0110 0126     		movs	r6, #1
 1247              	.LVL76:
 1248              	.L97:
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 1249              		.loc 1 1248 0
 1250 0112 FFF7FEFF 		bl	HAL_GetTick
 1251              	.LVL77:
 1252 0116 C9EB0000 		rsb	r0, r9, r0
 1253 011a A842     		cmp	r0, r5
 1254 011c 02D3     		bcc	.L95
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 1255              		.loc 1 1248 0 is_stmt 0 discriminator 1
 1256 011e B5F1FF3F 		cmp	r5, #-1
 1257 0122 77D1     		bne	.L115
 1258              	.LVL78:
 1259              	.L95:
1219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 1260              		.loc 1 1219 0 is_stmt 1
 1261 0124 E38E     		ldrh	r3, [r4, #54]
 1262 0126 9BB2     		uxth	r3, r3
 1263 0128 002B     		cmp	r3, #0
 1264 012a C9D1     		bne	.L98
1219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 1265              		.loc 1 1219 0 is_stmt 0 discriminator 1
 1266 012c E38F     		ldrh	r3, [r4, #62]
 1267 012e 9BB2     		uxth	r3, r3
 1268 0130 002B     		cmp	r3, #0
 1269 0132 C5D1     		bne	.L98
 1270 0134 4DE0     		b	.L99
 1271              	.LVL79:
 1272              	.L92:
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 1273              		.loc 1 1258 0 is_stmt 1
 1274 0136 6368     		ldr	r3, [r4, #4]
 1275 0138 0BB1     		cbz	r3, .L100
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 95


 1276              		.loc 1 1258 0 is_stmt 0 discriminator 1
 1277 013a 012E     		cmp	r6, #1
 1278 013c 40D1     		bne	.L101
 1279              	.L100:
1260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->pTxBuffPtr += sizeof(uint8_t);
 1280              		.loc 1 1260 0 is_stmt 1
 1281 013e 2368     		ldr	r3, [r4]
 1282 0140 226B     		ldr	r2, [r4, #48]
 1283 0142 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 1284 0144 1A73     		strb	r2, [r3, #12]
1261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       hspi->TxXferCount--;
 1285              		.loc 1 1261 0
 1286 0146 236B     		ldr	r3, [r4, #48]
 1287 0148 0133     		adds	r3, r3, #1
 1288 014a 2363     		str	r3, [r4, #48]
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 1289              		.loc 1 1262 0
 1290 014c E38E     		ldrh	r3, [r4, #54]
 1291 014e 9BB2     		uxth	r3, r3
 1292 0150 013B     		subs	r3, r3, #1
 1293 0152 9BB2     		uxth	r3, r3
 1294 0154 E386     		strh	r3, [r4, #54]	@ movhi
 1295 0156 33E0     		b	.L101
 1296              	.LVL80:
 1297              	.L106:
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 1298              		.loc 1 1267 0
 1299 0158 2368     		ldr	r3, [r4]
 1300 015a 9A68     		ldr	r2, [r3, #8]
 1301 015c 12F0020F 		tst	r2, #2
 1302 0160 0FD0     		beq	.L102
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 1303              		.loc 1 1267 0 is_stmt 0 discriminator 1
 1304 0162 E28E     		ldrh	r2, [r4, #54]
 1305 0164 92B2     		uxth	r2, r2
 1306 0166 62B1     		cbz	r2, .L102
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 1307              		.loc 1 1267 0 discriminator 2
 1308 0168 5EB1     		cbz	r6, .L102
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pTxBuffPtr++;
 1309              		.loc 1 1269 0 is_stmt 1
 1310 016a 226B     		ldr	r2, [r4, #48]
 1311 016c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 1312 016e 1A73     		strb	r2, [r3, #12]
1270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->TxXferCount--;
 1313              		.loc 1 1270 0
 1314 0170 236B     		ldr	r3, [r4, #48]
 1315 0172 0133     		adds	r3, r3, #1
 1316 0174 2363     		str	r3, [r4, #48]
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Next Data is a reception (Rx). Tx not allowed */
 1317              		.loc 1 1271 0
 1318 0176 E38E     		ldrh	r3, [r4, #54]
 1319 0178 9BB2     		uxth	r3, r3
 1320 017a 013B     		subs	r3, r3, #1
 1321 017c 9BB2     		uxth	r3, r3
 1322 017e E386     		strh	r3, [r4, #54]	@ movhi
 1323              	.LVL81:
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 96


1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1324              		.loc 1 1273 0
 1325 0180 0026     		movs	r6, #0
 1326              	.LVL82:
 1327              	.L102:
1285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 1328              		.loc 1 1285 0
 1329 0182 2368     		ldr	r3, [r4]
 1330 0184 9A68     		ldr	r2, [r3, #8]
 1331 0186 12F0010F 		tst	r2, #1
 1332 018a 0ED0     		beq	.L103
1285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 1333              		.loc 1 1285 0 is_stmt 0 discriminator 1
 1334 018c E28F     		ldrh	r2, [r4, #62]
 1335 018e 92B2     		uxth	r2, r2
 1336 0190 5AB1     		cbz	r2, .L103
1287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pRxBuffPtr++;
 1337              		.loc 1 1287 0 is_stmt 1
 1338 0192 A26B     		ldr	r2, [r4, #56]
 1339 0194 DB68     		ldr	r3, [r3, #12]
 1340 0196 1370     		strb	r3, [r2]
1288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxXferCount--;
 1341              		.loc 1 1288 0
 1342 0198 A36B     		ldr	r3, [r4, #56]
 1343 019a 0133     		adds	r3, r3, #1
 1344 019c A363     		str	r3, [r4, #56]
1289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Next Data is a Transmission (Tx). Tx is allowed */
 1345              		.loc 1 1289 0
 1346 019e E38F     		ldrh	r3, [r4, #62]
 1347 01a0 9BB2     		uxth	r3, r3
 1348 01a2 013B     		subs	r3, r3, #1
 1349 01a4 9BB2     		uxth	r3, r3
 1350 01a6 E387     		strh	r3, [r4, #62]	@ movhi
 1351              	.LVL83:
1291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 1352              		.loc 1 1291 0
 1353 01a8 0126     		movs	r6, #1
 1354              	.LVL84:
 1355              	.L103:
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 1356              		.loc 1 1293 0
 1357 01aa FFF7FEFF 		bl	HAL_GetTick
 1358              	.LVL85:
 1359 01ae C9EB0000 		rsb	r0, r9, r0
 1360 01b2 8542     		cmp	r5, r0
 1361 01b4 02D8     		bhi	.L104
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 1362              		.loc 1 1293 0 is_stmt 0 discriminator 1
 1363 01b6 B5F1FF3F 		cmp	r5, #-1
 1364 01ba 2DD1     		bne	.L116
 1365              	.L104:
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 1366              		.loc 1 1293 0 discriminator 3
 1367 01bc 0DB9     		cbnz	r5, .L105
 1368 01be 2DE0     		b	.L117
 1369              	.LVL86:
 1370              	.L101:
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 97


1291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 1371              		.loc 1 1291 0 is_stmt 1
 1372 01c0 0126     		movs	r6, #1
 1373              	.LVL87:
 1374              	.L105:
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 1375              		.loc 1 1264 0
 1376 01c2 E38E     		ldrh	r3, [r4, #54]
 1377 01c4 9BB2     		uxth	r3, r3
 1378 01c6 002B     		cmp	r3, #0
 1379 01c8 C6D1     		bne	.L106
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 1380              		.loc 1 1264 0 is_stmt 0 discriminator 1
 1381 01ca E38F     		ldrh	r3, [r4, #62]
 1382 01cc 9BB2     		uxth	r3, r3
 1383 01ce 002B     		cmp	r3, #0
 1384 01d0 C2D1     		bne	.L106
 1385              	.L99:
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1386              		.loc 1 1331 0 is_stmt 1
 1387 01d2 4A46     		mov	r2, r9
 1388 01d4 2946     		mov	r1, r5
 1389 01d6 2046     		mov	r0, r4
 1390 01d8 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 1391              	.LVL88:
 1392 01dc 18B1     		cbz	r0, .L107
 1393              	.LVL89:
1334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 1394              		.loc 1 1334 0
 1395 01de 2023     		movs	r3, #32
 1396 01e0 6365     		str	r3, [r4, #84]
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->ErrorCode = HAL_SPI_ERROR_FLAG;
 1397              		.loc 1 1333 0
 1398 01e2 0120     		movs	r0, #1
1335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 1399              		.loc 1 1335 0
 1400 01e4 1DE0     		b	.L89
 1401              	.LVL90:
 1402              	.L107:
1339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1403              		.loc 1 1339 0
 1404 01e6 A368     		ldr	r3, [r4, #8]
 1405 01e8 D3B9     		cbnz	r3, .L118
 1406              	.LBB3:
1341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 1407              		.loc 1 1341 0
 1408 01ea 0020     		movs	r0, #0
 1409 01ec 0190     		str	r0, [sp, #4]
 1410 01ee 2368     		ldr	r3, [r4]
 1411 01f0 DA68     		ldr	r2, [r3, #12]
 1412 01f2 0192     		str	r2, [sp, #4]
 1413 01f4 9B68     		ldr	r3, [r3, #8]
 1414 01f6 0193     		str	r3, [sp, #4]
 1415 01f8 019B     		ldr	r3, [sp, #4]
 1416 01fa 12E0     		b	.L89
 1417              	.LVL91:
 1418              	.L109:
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 98


 1419              	.LBE3:
1166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 1420              		.loc 1 1166 0
 1421 01fc 0220     		movs	r0, #2
 1422              	.LVL92:
 1423 01fe 10E0     		b	.L89
 1424              	.LVL93:
 1425              	.L110:
 1426 0200 0220     		movs	r0, #2
 1427              	.LVL94:
 1428 0202 0EE0     		b	.L89
 1429              	.LVL95:
 1430              	.L111:
 1431 0204 0220     		movs	r0, #2
 1432              	.LVL96:
 1433 0206 0CE0     		b	.L89
 1434              	.LVL97:
 1435              	.L112:
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 1436              		.loc 1 1172 0
 1437 0208 0120     		movs	r0, #1
 1438              	.LVL98:
 1439 020a 0AE0     		b	.L89
 1440              	.LVL99:
 1441              	.L113:
 1442 020c 0120     		movs	r0, #1
 1443              	.LVL100:
 1444 020e 08E0     		b	.L89
 1445              	.LVL101:
 1446              	.L114:
 1447 0210 0120     		movs	r0, #1
 1448              	.LVL102:
 1449 0212 06E0     		b	.L89
 1450              	.LVL103:
 1451              	.L115:
1250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         goto error;
 1452              		.loc 1 1250 0
 1453 0214 0320     		movs	r0, #3
 1454 0216 04E0     		b	.L89
 1455              	.L116:
1295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         goto error;
 1456              		.loc 1 1295 0
 1457 0218 0320     		movs	r0, #3
 1458 021a 02E0     		b	.L89
 1459              	.L117:
 1460 021c 0320     		movs	r0, #3
 1461 021e 00E0     		b	.L89
 1462              	.L118:
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1463              		.loc 1 1147 0
 1464 0220 0020     		movs	r0, #0
 1465              	.LVL104:
 1466              	.L89:
1345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 1467              		.loc 1 1345 0
 1468 0222 0123     		movs	r3, #1
 1469 0224 84F85130 		strb	r3, [r4, #81]
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 99


1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 1470              		.loc 1 1346 0
 1471 0228 0023     		movs	r3, #0
 1472 022a 84F85030 		strb	r3, [r4, #80]
1347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 1473              		.loc 1 1347 0
 1474 022e 00E0     		b	.L87
 1475              	.LVL105:
 1476              	.L108:
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1477              		.loc 1 1153 0
 1478 0230 0220     		movs	r0, #2
 1479              	.LVL106:
 1480              	.L87:
1348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1481              		.loc 1 1348 0
 1482 0232 03B0     		add	sp, sp, #12
 1483              	.LCFI20:
 1484              		.cfi_def_cfa_offset 28
 1485              		@ sp needed
 1486 0234 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1487              		.cfi_endproc
 1488              	.LFE136:
 1490              		.section	.text.HAL_SPI_Receive,"ax",%progbits
 1491              		.align	2
 1492              		.global	HAL_SPI_Receive
 1493              		.thumb
 1494              		.thumb_func
 1496              	HAL_SPI_Receive:
 1497              	.LFB135:
 937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #if (USE_SPI_CRC != 0U)
 1498              		.loc 1 937 0
 1499              		.cfi_startproc
 1500              		@ args = 0, pretend = 0, frame = 0
 1501              		@ frame_needed = 0, uses_anonymous_args = 0
 1502              	.LVL107:
 1503 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1504              	.LCFI21:
 1505              		.cfi_def_cfa_offset 24
 1506              		.cfi_offset 4, -24
 1507              		.cfi_offset 5, -20
 1508              		.cfi_offset 6, -16
 1509              		.cfi_offset 7, -12
 1510              		.cfi_offset 8, -8
 1511              		.cfi_offset 14, -4
 1512 0004 82B0     		sub	sp, sp, #8
 1513              	.LCFI22:
 1514              		.cfi_def_cfa_offset 32
 1515 0006 0446     		mov	r4, r0
 1516 0008 0F46     		mov	r7, r1
 1517 000a 9046     		mov	r8, r2
 1518 000c 1D46     		mov	r5, r3
 1519              	.LVL108:
 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1520              		.loc 1 944 0
 1521 000e 4368     		ldr	r3, [r0, #4]
 1522              	.LVL109:
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 100


 1523 0010 B3F5827F 		cmp	r3, #260
 1524 0014 0AD1     		bne	.L121
 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1525              		.loc 1 944 0 is_stmt 0 discriminator 1
 1526 0016 8368     		ldr	r3, [r0, #8]
 1527 0018 43B9     		cbnz	r3, .L121
 946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
 1528              		.loc 1 946 0 is_stmt 1
 1529 001a 0423     		movs	r3, #4
 1530 001c 80F85130 		strb	r3, [r0, #81]
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 1531              		.loc 1 948 0
 1532 0020 0095     		str	r5, [sp]
 1533 0022 1346     		mov	r3, r2
 1534 0024 0A46     		mov	r2, r1
 1535              	.LVL110:
 1536 0026 FFF7FEFF 		bl	HAL_SPI_TransmitReceive
 1537              	.LVL111:
 1538 002a 9EE0     		b	.L122
 1539              	.LVL112:
 1540              	.L121:
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1541              		.loc 1 952 0
 1542 002c 94F85030 		ldrb	r3, [r4, #80]	@ zero_extendqisi2
 1543 0030 012B     		cmp	r3, #1
 1544 0032 00F09980 		beq	.L138
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1545              		.loc 1 952 0 is_stmt 0 discriminator 2
 1546 0036 0123     		movs	r3, #1
 1547 0038 84F85030 		strb	r3, [r4, #80]
 955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1548              		.loc 1 955 0 is_stmt 1 discriminator 2
 1549 003c FFF7FEFF 		bl	HAL_GetTick
 1550              	.LVL113:
 1551 0040 0646     		mov	r6, r0
 1552              	.LVL114:
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1553              		.loc 1 957 0 discriminator 2
 1554 0042 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 1555 0046 DBB2     		uxtb	r3, r3
 1556 0048 012B     		cmp	r3, #1
 1557 004a 77D1     		bne	.L139
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1558              		.loc 1 963 0
 1559 004c 002F     		cmp	r7, #0
 1560 004e 77D0     		beq	.L140
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1561              		.loc 1 963 0 is_stmt 0 discriminator 1
 1562 0050 B8F1000F 		cmp	r8, #0
 1563 0054 76D0     		beq	.L141
 970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1564              		.loc 1 970 0 is_stmt 1
 1565 0056 0423     		movs	r3, #4
 1566 0058 84F85130 		strb	r3, [r4, #81]
 971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 1567              		.loc 1 971 0
 1568 005c 0023     		movs	r3, #0
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 101


 1569 005e 6365     		str	r3, [r4, #84]
 972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 1570              		.loc 1 972 0
 1571 0060 A763     		str	r7, [r4, #56]
 973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 1572              		.loc 1 973 0
 1573 0062 A4F83C80 		strh	r8, [r4, #60]	@ movhi
 974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1574              		.loc 1 974 0
 1575 0066 A4F83E80 		strh	r8, [r4, #62]	@ movhi
 977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 1576              		.loc 1 977 0
 1577 006a 2363     		str	r3, [r4, #48]
 978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 1578              		.loc 1 978 0
 1579 006c A386     		strh	r3, [r4, #52]	@ movhi
 979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 1580              		.loc 1 979 0
 1581 006e E386     		strh	r3, [r4, #54]	@ movhi
 980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 1582              		.loc 1 980 0
 1583 0070 2364     		str	r3, [r4, #64]
 981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1584              		.loc 1 981 0
 1585 0072 6364     		str	r3, [r4, #68]
 994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1586              		.loc 1 994 0
 1587 0074 A368     		ldr	r3, [r4, #8]
 1588 0076 B3F5004F 		cmp	r3, #32768
 1589 007a 09D1     		bne	.L124
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 1590              		.loc 1 997 0
 1591 007c 2268     		ldr	r2, [r4]
 1592 007e 1368     		ldr	r3, [r2]
 1593 0080 23F04003 		bic	r3, r3, #64
 1594 0084 1360     		str	r3, [r2]
 998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 1595              		.loc 1 998 0
 1596 0086 2268     		ldr	r2, [r4]
 1597 0088 1368     		ldr	r3, [r2]
 1598 008a 23F48043 		bic	r3, r3, #16384
 1599 008e 1360     		str	r3, [r2]
 1600              	.L124:
1002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1601              		.loc 1 1002 0
 1602 0090 2368     		ldr	r3, [r4]
 1603 0092 1A68     		ldr	r2, [r3]
 1604 0094 12F0400F 		tst	r2, #64
 1605 0098 03D1     		bne	.L125
1005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 1606              		.loc 1 1005 0
 1607 009a 1A68     		ldr	r2, [r3]
 1608 009c 42F04002 		orr	r2, r2, #64
 1609 00a0 1A60     		str	r2, [r3]
 1610              	.L125:
1009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1611              		.loc 1 1009 0
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 102


 1612 00a2 E368     		ldr	r3, [r4, #12]
 1613 00a4 DBB1     		cbz	r3, .L126
 1614 00a6 39E0     		b	.L127
 1615              	.LVL115:
 1616              	.L131:
1015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 1617              		.loc 1 1015 0
 1618 00a8 2368     		ldr	r3, [r4]
 1619 00aa 9A68     		ldr	r2, [r3, #8]
 1620 00ac 12F0010F 		tst	r2, #1
 1621 00b0 0BD0     		beq	.L128
1018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint8_t);
 1622              		.loc 1 1018 0
 1623 00b2 A26B     		ldr	r2, [r4, #56]
 1624 00b4 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 1625 00b6 1370     		strb	r3, [r2]
1019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxXferCount--;
 1626              		.loc 1 1019 0
 1627 00b8 A36B     		ldr	r3, [r4, #56]
 1628 00ba 0133     		adds	r3, r3, #1
 1629 00bc A363     		str	r3, [r4, #56]
1020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 1630              		.loc 1 1020 0
 1631 00be E38F     		ldrh	r3, [r4, #62]
 1632 00c0 9BB2     		uxth	r3, r3
 1633 00c2 013B     		subs	r3, r3, #1
 1634 00c4 9BB2     		uxth	r3, r3
 1635 00c6 E387     		strh	r3, [r4, #62]	@ movhi
 1636 00c8 09E0     		b	.L126
 1637              	.L128:
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 1638              		.loc 1 1025 0
 1639 00ca FFF7FEFF 		bl	HAL_GetTick
 1640              	.LVL116:
 1641 00ce 801B     		subs	r0, r0, r6
 1642 00d0 8542     		cmp	r5, r0
 1643 00d2 02D8     		bhi	.L130
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 1644              		.loc 1 1025 0 is_stmt 0 discriminator 1
 1645 00d4 B5F1FF3F 		cmp	r5, #-1
 1646 00d8 36D1     		bne	.L142
 1647              	.L130:
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 1648              		.loc 1 1025 0 discriminator 3
 1649 00da 002D     		cmp	r5, #0
 1650 00dc 36D0     		beq	.L143
 1651              	.L126:
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 1652              		.loc 1 1012 0 is_stmt 1
 1653 00de E38F     		ldrh	r3, [r4, #62]
 1654 00e0 9BB2     		uxth	r3, r3
 1655 00e2 002B     		cmp	r3, #0
 1656 00e4 E0D1     		bne	.L131
 1657 00e6 1DE0     		b	.L132
 1658              	.L136:
1039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 1659              		.loc 1 1039 0
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 103


 1660 00e8 2368     		ldr	r3, [r4]
 1661 00ea 9A68     		ldr	r2, [r3, #8]
 1662 00ec 12F0010F 		tst	r2, #1
 1663 00f0 0BD0     		beq	.L133
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->pRxBuffPtr += sizeof(uint16_t);
 1664              		.loc 1 1041 0
 1665 00f2 A26B     		ldr	r2, [r4, #56]
 1666 00f4 DB68     		ldr	r3, [r3, #12]
 1667 00f6 1380     		strh	r3, [r2]	@ movhi
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->RxXferCount--;
 1668              		.loc 1 1042 0
 1669 00f8 A36B     		ldr	r3, [r4, #56]
 1670 00fa 0233     		adds	r3, r3, #2
 1671 00fc A363     		str	r3, [r4, #56]
1043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 1672              		.loc 1 1043 0
 1673 00fe E38F     		ldrh	r3, [r4, #62]
 1674 0100 9BB2     		uxth	r3, r3
 1675 0102 013B     		subs	r3, r3, #1
 1676 0104 9BB2     		uxth	r3, r3
 1677 0106 E387     		strh	r3, [r4, #62]	@ movhi
 1678 0108 08E0     		b	.L127
 1679              	.L133:
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 1680              		.loc 1 1048 0
 1681 010a FFF7FEFF 		bl	HAL_GetTick
 1682              	.LVL117:
 1683 010e 801B     		subs	r0, r0, r6
 1684 0110 8542     		cmp	r5, r0
 1685 0112 02D8     		bhi	.L135
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 1686              		.loc 1 1048 0 is_stmt 0 discriminator 1
 1687 0114 B5F1FF3F 		cmp	r5, #-1
 1688 0118 1AD1     		bne	.L144
 1689              	.L135:
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 1690              		.loc 1 1048 0 discriminator 3
 1691 011a DDB1     		cbz	r5, .L145
 1692              	.L127:
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 1693              		.loc 1 1036 0 is_stmt 1
 1694 011c E38F     		ldrh	r3, [r4, #62]
 1695 011e 9BB2     		uxth	r3, r3
 1696 0120 002B     		cmp	r3, #0
 1697 0122 E1D1     		bne	.L136
 1698              	.L132:
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1699              		.loc 1 1099 0
 1700 0124 3246     		mov	r2, r6
 1701 0126 2946     		mov	r1, r5
 1702 0128 2046     		mov	r0, r4
 1703 012a FFF7FEFF 		bl	SPI_EndRxTransaction
 1704              	.LVL118:
 1705 012e 08B1     		cbz	r0, .L137
1101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 1706              		.loc 1 1101 0
 1707 0130 2023     		movs	r3, #32
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 104


 1708 0132 6365     		str	r3, [r4, #84]
 1709              	.L137:
1113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1710              		.loc 1 1113 0
 1711 0134 636D     		ldr	r3, [r4, #84]
 1712 0136 7BB9     		cbnz	r3, .L146
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1713              		.loc 1 942 0
 1714 0138 0020     		movs	r0, #0
 1715 013a 0EE0     		b	.L123
 1716              	.LVL119:
 1717              	.L139:
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 1718              		.loc 1 959 0
 1719 013c 0220     		movs	r0, #2
 1720              	.LVL120:
 1721 013e 0CE0     		b	.L123
 1722              	.LVL121:
 1723              	.L140:
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 1724              		.loc 1 965 0
 1725 0140 0120     		movs	r0, #1
 1726              	.LVL122:
 1727 0142 0AE0     		b	.L123
 1728              	.LVL123:
 1729              	.L141:
 1730 0144 0120     		movs	r0, #1
 1731              	.LVL124:
 1732 0146 08E0     		b	.L123
 1733              	.L142:
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           goto error;
 1734              		.loc 1 1027 0
 1735 0148 0320     		movs	r0, #3
 1736 014a 06E0     		b	.L123
 1737              	.L143:
 1738 014c 0320     		movs	r0, #3
 1739 014e 04E0     		b	.L123
 1740              	.L144:
1050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           goto error;
 1741              		.loc 1 1050 0
 1742 0150 0320     		movs	r0, #3
 1743 0152 02E0     		b	.L123
 1744              	.L145:
 1745 0154 0320     		movs	r0, #3
 1746 0156 00E0     		b	.L123
 1747              	.L146:
1115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 1748              		.loc 1 1115 0
 1749 0158 0120     		movs	r0, #1
 1750              	.L123:
 1751              	.LVL125:
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_UNLOCK(hspi);
 1752              		.loc 1 1119 0
 1753 015a 0123     		movs	r3, #1
 1754 015c 84F85130 		strb	r3, [r4, #81]
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 1755              		.loc 1 1120 0
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 105


 1756 0160 0023     		movs	r3, #0
 1757 0162 84F85030 		strb	r3, [r4, #80]
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 1758              		.loc 1 1121 0
 1759 0166 00E0     		b	.L122
 1760              	.LVL126:
 1761              	.L138:
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1762              		.loc 1 952 0
 1763 0168 0220     		movs	r0, #2
 1764              	.LVL127:
 1765              	.L122:
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1766              		.loc 1 1122 0
 1767 016a 02B0     		add	sp, sp, #8
 1768              	.LCFI23:
 1769              		.cfi_def_cfa_offset 24
 1770              		@ sp needed
 1771 016c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1772              		.cfi_endproc
 1773              	.LFE135:
 1775              		.section	.text.HAL_SPI_Transmit_IT,"ax",%progbits
 1776              		.align	2
 1777              		.global	HAL_SPI_Transmit_IT
 1778              		.thumb
 1779              		.thumb_func
 1781              	HAL_SPI_Transmit_IT:
 1782              	.LFB137:
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 1783              		.loc 1 1359 0
 1784              		.cfi_startproc
 1785              		@ args = 0, pretend = 0, frame = 0
 1786              		@ frame_needed = 0, uses_anonymous_args = 0
 1787              		@ link register save eliminated.
 1788              	.LVL128:
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1789              		.loc 1 1366 0
 1790 0000 90F85030 		ldrb	r3, [r0, #80]	@ zero_extendqisi2
 1791 0004 012B     		cmp	r3, #1
 1792 0006 48D0     		beq	.L154
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1793              		.loc 1 1366 0 is_stmt 0 discriminator 2
 1794 0008 0123     		movs	r3, #1
 1795 000a 80F85030 		strb	r3, [r0, #80]
1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1796              		.loc 1 1368 0 is_stmt 1 discriminator 2
 1797 000e 0029     		cmp	r1, #0
 1798 0010 37D0     		beq	.L155
1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1799              		.loc 1 1368 0 is_stmt 0 discriminator 1
 1800 0012 002A     		cmp	r2, #0
 1801 0014 37D0     		beq	.L156
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1802              		.loc 1 1374 0 is_stmt 1
 1803 0016 90F85130 		ldrb	r3, [r0, #81]	@ zero_extendqisi2
 1804 001a DBB2     		uxtb	r3, r3
 1805 001c 012B     		cmp	r3, #1
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 106


 1806 001e 34D1     		bne	.L157
1381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 1807              		.loc 1 1381 0
 1808 0020 0323     		movs	r3, #3
 1809 0022 80F85130 		strb	r3, [r0, #81]
1382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 1810              		.loc 1 1382 0
 1811 0026 0023     		movs	r3, #0
 1812 0028 4365     		str	r3, [r0, #84]
1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 1813              		.loc 1 1383 0
 1814 002a 0163     		str	r1, [r0, #48]
1384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 1815              		.loc 1 1384 0
 1816 002c 8286     		strh	r2, [r0, #52]	@ movhi
1385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1817              		.loc 1 1385 0
 1818 002e C286     		strh	r2, [r0, #54]	@ movhi
1388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 1819              		.loc 1 1388 0
 1820 0030 8363     		str	r3, [r0, #56]
1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 1821              		.loc 1 1389 0
 1822 0032 8387     		strh	r3, [r0, #60]	@ movhi
1390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 1823              		.loc 1 1390 0
 1824 0034 C387     		strh	r3, [r0, #62]	@ movhi
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1825              		.loc 1 1391 0
 1826 0036 0364     		str	r3, [r0, #64]
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1827              		.loc 1 1394 0
 1828 0038 C368     		ldr	r3, [r0, #12]
 1829 003a 13B1     		cbz	r3, .L151
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 1830              		.loc 1 1396 0
 1831 003c 184B     		ldr	r3, .L159
 1832 003e 4364     		str	r3, [r0, #68]
 1833 0040 01E0     		b	.L152
 1834              	.L151:
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 1835              		.loc 1 1400 0
 1836 0042 184B     		ldr	r3, .L159+4
 1837 0044 4364     		str	r3, [r0, #68]
 1838              	.L152:
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1839              		.loc 1 1404 0
 1840 0046 8368     		ldr	r3, [r0, #8]
 1841 0048 B3F5004F 		cmp	r3, #32768
 1842 004c 09D1     		bne	.L153
1407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 1843              		.loc 1 1407 0
 1844 004e 0268     		ldr	r2, [r0]
 1845              	.LVL129:
 1846 0050 1368     		ldr	r3, [r2]
 1847 0052 23F04003 		bic	r3, r3, #64
 1848 0056 1360     		str	r3, [r2]
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 107


 1849              	.LVL130:
1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 1850              		.loc 1 1408 0
 1851 0058 0268     		ldr	r2, [r0]
 1852 005a 1368     		ldr	r3, [r2]
 1853 005c 43F48043 		orr	r3, r3, #16384
 1854 0060 1360     		str	r3, [r2]
 1855              	.L153:
1420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1856              		.loc 1 1420 0
 1857 0062 0268     		ldr	r2, [r0]
 1858 0064 5368     		ldr	r3, [r2, #4]
 1859 0066 43F0A003 		orr	r3, r3, #160
 1860 006a 5360     		str	r3, [r2, #4]
1424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1861              		.loc 1 1424 0
 1862 006c 0368     		ldr	r3, [r0]
 1863 006e 1A68     		ldr	r2, [r3]
 1864 0070 12F0400F 		tst	r2, #64
 1865 0074 0BD1     		bne	.L158
1427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 1866              		.loc 1 1427 0
 1867 0076 1A68     		ldr	r2, [r3]
 1868 0078 42F04002 		orr	r2, r2, #64
 1869 007c 1A60     		str	r2, [r3]
1360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1870              		.loc 1 1360 0
 1871 007e 0023     		movs	r3, #0
 1872 0080 06E0     		b	.L150
 1873              	.LVL131:
 1874              	.L155:
1370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 1875              		.loc 1 1370 0
 1876 0082 0123     		movs	r3, #1
 1877 0084 04E0     		b	.L150
 1878              	.L156:
 1879 0086 0123     		movs	r3, #1
 1880 0088 02E0     		b	.L150
 1881              	.L157:
1376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 1882              		.loc 1 1376 0
 1883 008a 0223     		movs	r3, #2
 1884 008c 00E0     		b	.L150
 1885              	.LVL132:
 1886              	.L158:
1360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1887              		.loc 1 1360 0
 1888 008e 0023     		movs	r3, #0
 1889              	.L150:
 1890              	.LVL133:
1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 1891              		.loc 1 1431 0
 1892 0090 0022     		movs	r2, #0
 1893 0092 80F85020 		strb	r2, [r0, #80]
1432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 1894              		.loc 1 1432 0
 1895 0096 1846     		mov	r0, r3
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 108


 1896              	.LVL134:
 1897 0098 7047     		bx	lr
 1898              	.LVL135:
 1899              	.L154:
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1900              		.loc 1 1366 0
 1901 009a 0220     		movs	r0, #2
 1902              	.LVL136:
1433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1903              		.loc 1 1433 0
 1904 009c 7047     		bx	lr
 1905              	.L160:
 1906 009e 00BF     		.align	2
 1907              	.L159:
 1908 00a0 00000000 		.word	SPI_TxISR_16BIT
 1909 00a4 00000000 		.word	SPI_TxISR_8BIT
 1910              		.cfi_endproc
 1911              	.LFE137:
 1913              		.section	.text.HAL_SPI_TransmitReceive_IT,"ax",%progbits
 1914              		.align	2
 1915              		.global	HAL_SPI_TransmitReceive_IT
 1916              		.thumb
 1917              		.thumb_func
 1919              	HAL_SPI_TransmitReceive_IT:
 1920              	.LFB139:
1538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t             tmp_mode;
 1921              		.loc 1 1538 0
 1922              		.cfi_startproc
 1923              		@ args = 0, pretend = 0, frame = 0
 1924              		@ frame_needed = 0, uses_anonymous_args = 0
 1925              		@ link register save eliminated.
 1926              	.LVL137:
 1927 0000 30B4     		push	{r4, r5}
 1928              	.LCFI24:
 1929              		.cfi_def_cfa_offset 8
 1930              		.cfi_offset 4, -8
 1931              		.cfi_offset 5, -4
 1932              	.LVL138:
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1933              		.loc 1 1547 0
 1934 0002 90F85040 		ldrb	r4, [r0, #80]	@ zero_extendqisi2
 1935 0006 012C     		cmp	r4, #1
 1936 0008 53D0     		beq	.L168
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1937              		.loc 1 1547 0 is_stmt 0 discriminator 2
 1938 000a 0124     		movs	r4, #1
 1939 000c 80F85040 		strb	r4, [r0, #80]
1550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 1940              		.loc 1 1550 0 is_stmt 1 discriminator 2
 1941 0010 90F85140 		ldrb	r4, [r0, #81]	@ zero_extendqisi2
 1942 0014 E4B2     		uxtb	r4, r4
 1943              	.LVL139:
1551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1944              		.loc 1 1551 0 discriminator 2
 1945 0016 4568     		ldr	r5, [r0, #4]
 1946              	.LVL140:
1553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 109


 1947              		.loc 1 1553 0 discriminator 2
 1948 0018 012C     		cmp	r4, #1
 1949 001a 07D0     		beq	.L163
1553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
 1950              		.loc 1 1553 0 is_stmt 0 discriminator 1
 1951 001c B5F5827F 		cmp	r5, #260
 1952 0020 35D1     		bne	.L169
1554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1953              		.loc 1 1554 0 is_stmt 1
 1954 0022 8568     		ldr	r5, [r0, #8]
 1955              	.LVL141:
 1956 0024 002D     		cmp	r5, #0
 1957 0026 34D1     		bne	.L170
1554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1958              		.loc 1 1554 0 is_stmt 0 discriminator 1
 1959 0028 042C     		cmp	r4, #4
 1960 002a 34D1     		bne	.L171
 1961              	.L163:
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1962              		.loc 1 1560 0 is_stmt 1
 1963 002c 0029     		cmp	r1, #0
 1964 002e 34D0     		beq	.L172
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1965              		.loc 1 1560 0 is_stmt 0 discriminator 1
 1966 0030 002A     		cmp	r2, #0
 1967 0032 34D0     		beq	.L173
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1968              		.loc 1 1560 0 discriminator 2
 1969 0034 002B     		cmp	r3, #0
 1970 0036 34D0     		beq	.L174
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1971              		.loc 1 1567 0 is_stmt 1
 1972 0038 90F85140 		ldrb	r4, [r0, #81]	@ zero_extendqisi2
 1973              	.LVL142:
 1974 003c E4B2     		uxtb	r4, r4
 1975 003e 042C     		cmp	r4, #4
 1976 0040 02D0     		beq	.L165
1569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 1977              		.loc 1 1569 0
 1978 0042 0524     		movs	r4, #5
 1979 0044 80F85140 		strb	r4, [r0, #81]
 1980              	.L165:
1573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
 1981              		.loc 1 1573 0
 1982 0048 0024     		movs	r4, #0
 1983 004a 4465     		str	r4, [r0, #84]
1574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 1984              		.loc 1 1574 0
 1985 004c 0163     		str	r1, [r0, #48]
1575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 1986              		.loc 1 1575 0
 1987 004e 8386     		strh	r3, [r0, #52]	@ movhi
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 1988              		.loc 1 1576 0
 1989 0050 C386     		strh	r3, [r0, #54]	@ movhi
1577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 1990              		.loc 1 1577 0
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 110


 1991 0052 8263     		str	r2, [r0, #56]
1578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 1992              		.loc 1 1578 0
 1993 0054 8387     		strh	r3, [r0, #60]	@ movhi
1579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 1994              		.loc 1 1579 0
 1995 0056 C387     		strh	r3, [r0, #62]	@ movhi
1582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 1996              		.loc 1 1582 0
 1997 0058 C368     		ldr	r3, [r0, #12]
 1998              	.LVL143:
 1999 005a 23B1     		cbz	r3, .L166
1584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_16BIT;
 2000              		.loc 1 1584 0
 2001 005c 164B     		ldr	r3, .L177
 2002 005e 0364     		str	r3, [r0, #64]
1585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2003              		.loc 1 1585 0
 2004 0060 164B     		ldr	r3, .L177+4
 2005 0062 4364     		str	r3, [r0, #68]
 2006 0064 03E0     		b	.L167
 2007              	.L166:
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxISR     = SPI_2linesTxISR_8BIT;
 2008              		.loc 1 1589 0
 2009 0066 164B     		ldr	r3, .L177+8
 2010 0068 0364     		str	r3, [r0, #64]
1590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2011              		.loc 1 1590 0
 2012 006a 164B     		ldr	r3, .L177+12
 2013 006c 4364     		str	r3, [r0, #68]
 2014              	.L167:
1602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2015              		.loc 1 1602 0
 2016 006e 0268     		ldr	r2, [r0]
 2017              	.LVL144:
 2018 0070 5368     		ldr	r3, [r2, #4]
 2019 0072 43F0E003 		orr	r3, r3, #224
 2020 0076 5360     		str	r3, [r2, #4]
 2021              	.LVL145:
1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2022              		.loc 1 1605 0
 2023 0078 0368     		ldr	r3, [r0]
 2024 007a 1A68     		ldr	r2, [r3]
 2025 007c 12F0400F 		tst	r2, #64
 2026 0080 11D1     		bne	.L175
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2027              		.loc 1 1608 0
 2028 0082 1A68     		ldr	r2, [r3]
 2029 0084 42F04002 		orr	r2, r2, #64
 2030 0088 1A60     		str	r2, [r3]
1541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2031              		.loc 1 1541 0
 2032 008a 0023     		movs	r3, #0
 2033 008c 0CE0     		b	.L164
 2034              	.LVL146:
 2035              	.L169:
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 111


 2036              		.loc 1 1556 0
 2037 008e 0223     		movs	r3, #2
 2038              	.LVL147:
 2039 0090 0AE0     		b	.L164
 2040              	.LVL148:
 2041              	.L170:
 2042 0092 0223     		movs	r3, #2
 2043              	.LVL149:
 2044 0094 08E0     		b	.L164
 2045              	.LVL150:
 2046              	.L171:
 2047 0096 0223     		movs	r3, #2
 2048              	.LVL151:
 2049 0098 06E0     		b	.L164
 2050              	.LVL152:
 2051              	.L172:
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2052              		.loc 1 1562 0
 2053 009a 0123     		movs	r3, #1
 2054              	.LVL153:
 2055 009c 04E0     		b	.L164
 2056              	.LVL154:
 2057              	.L173:
 2058 009e 0123     		movs	r3, #1
 2059              	.LVL155:
 2060 00a0 02E0     		b	.L164
 2061              	.LVL156:
 2062              	.L174:
 2063 00a2 0123     		movs	r3, #1
 2064              	.LVL157:
 2065 00a4 00E0     		b	.L164
 2066              	.LVL158:
 2067              	.L175:
1541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2068              		.loc 1 1541 0
 2069 00a6 0023     		movs	r3, #0
 2070              	.L164:
 2071              	.LVL159:
1613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 2072              		.loc 1 1613 0
 2073 00a8 0022     		movs	r2, #0
 2074 00aa 80F85020 		strb	r2, [r0, #80]
1614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 2075              		.loc 1 1614 0
 2076 00ae 1846     		mov	r0, r3
 2077              	.LVL160:
 2078 00b0 00E0     		b	.L162
 2079              	.LVL161:
 2080              	.L168:
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2081              		.loc 1 1547 0
 2082 00b2 0220     		movs	r0, #2
 2083              	.LVL162:
 2084              	.L162:
1615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2085              		.loc 1 1615 0
 2086 00b4 30BC     		pop	{r4, r5}
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 112


 2087              	.LCFI25:
 2088              		.cfi_restore 5
 2089              		.cfi_restore 4
 2090              		.cfi_def_cfa_offset 0
 2091 00b6 7047     		bx	lr
 2092              	.L178:
 2093              		.align	2
 2094              	.L177:
 2095 00b8 00000000 		.word	SPI_2linesRxISR_16BIT
 2096 00bc 00000000 		.word	SPI_2linesTxISR_16BIT
 2097 00c0 00000000 		.word	SPI_2linesRxISR_8BIT
 2098 00c4 00000000 		.word	SPI_2linesTxISR_8BIT
 2099              		.cfi_endproc
 2100              	.LFE139:
 2102              		.section	.text.HAL_SPI_Receive_IT,"ax",%progbits
 2103              		.align	2
 2104              		.global	HAL_SPI_Receive_IT
 2105              		.thumb
 2106              		.thumb_func
 2108              	HAL_SPI_Receive_IT:
 2109              	.LFB138:
1444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 2110              		.loc 1 1444 0
 2111              		.cfi_startproc
 2112              		@ args = 0, pretend = 0, frame = 0
 2113              		@ frame_needed = 0, uses_anonymous_args = 0
 2114              	.LVL163:
 2115 0000 38B5     		push	{r3, r4, r5, lr}
 2116              	.LCFI26:
 2117              		.cfi_def_cfa_offset 16
 2118              		.cfi_offset 3, -16
 2119              		.cfi_offset 4, -12
 2120              		.cfi_offset 5, -8
 2121              		.cfi_offset 14, -4
 2122              	.LVL164:
1447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2123              		.loc 1 1447 0
 2124 0002 8568     		ldr	r5, [r0, #8]
 2125 0004 5DB9     		cbnz	r5, .L180
1447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2126              		.loc 1 1447 0 is_stmt 0 discriminator 1
 2127 0006 4368     		ldr	r3, [r0, #4]
 2128 0008 B3F5827F 		cmp	r3, #260
 2129 000c 07D1     		bne	.L180
 2130 000e 1346     		mov	r3, r2
1449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Call transmit-receive function to send Dummy data on Tx line and generate clock on CLK line 
 2131              		.loc 1 1449 0 is_stmt 1
 2132 0010 0422     		movs	r2, #4
 2133              	.LVL165:
 2134 0012 80F85120 		strb	r2, [r0, #81]
1451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2135              		.loc 1 1451 0
 2136 0016 0A46     		mov	r2, r1
 2137 0018 FFF7FEFF 		bl	HAL_SPI_TransmitReceive_IT
 2138              	.LVL166:
 2139 001c 38BD     		pop	{r3, r4, r5, pc}
 2140              	.LVL167:
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 113


 2141              	.L180:
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2142              		.loc 1 1455 0
 2143 001e 90F85040 		ldrb	r4, [r0, #80]	@ zero_extendqisi2
 2144 0022 012C     		cmp	r4, #1
 2145 0024 47D0     		beq	.L186
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2146              		.loc 1 1455 0 is_stmt 0 discriminator 2
 2147 0026 0123     		movs	r3, #1
 2148 0028 80F85030 		strb	r3, [r0, #80]
1457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2149              		.loc 1 1457 0 is_stmt 1 discriminator 2
 2150 002c 90F85140 		ldrb	r4, [r0, #81]	@ zero_extendqisi2
 2151 0030 E4B2     		uxtb	r4, r4
 2152 0032 9C42     		cmp	r4, r3
 2153 0034 33D1     		bne	.L187
1463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2154              		.loc 1 1463 0
 2155 0036 0029     		cmp	r1, #0
 2156 0038 33D0     		beq	.L188
1463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2157              		.loc 1 1463 0 is_stmt 0 discriminator 1
 2158 003a 002A     		cmp	r2, #0
 2159 003c 33D0     		beq	.L189
1470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2160              		.loc 1 1470 0 is_stmt 1
 2161 003e 0423     		movs	r3, #4
 2162 0040 80F85130 		strb	r3, [r0, #81]
1471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 2163              		.loc 1 1471 0
 2164 0044 0023     		movs	r3, #0
 2165 0046 4365     		str	r3, [r0, #84]
1472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2166              		.loc 1 1472 0
 2167 0048 8163     		str	r1, [r0, #56]
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2168              		.loc 1 1473 0
 2169 004a 8287     		strh	r2, [r0, #60]	@ movhi
1474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2170              		.loc 1 1474 0
 2171 004c C287     		strh	r2, [r0, #62]	@ movhi
1477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 2172              		.loc 1 1477 0
 2173 004e 0363     		str	r3, [r0, #48]
1478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 2174              		.loc 1 1478 0
 2175 0050 8386     		strh	r3, [r0, #52]	@ movhi
1479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2176              		.loc 1 1479 0
 2177 0052 C386     		strh	r3, [r0, #54]	@ movhi
1480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2178              		.loc 1 1480 0
 2179 0054 4364     		str	r3, [r0, #68]
1483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2180              		.loc 1 1483 0
 2181 0056 C368     		ldr	r3, [r0, #12]
 2182 0058 13B1     		cbz	r3, .L183
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 114


1485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2183              		.loc 1 1485 0
 2184 005a 184B     		ldr	r3, .L192
 2185 005c 0364     		str	r3, [r0, #64]
 2186 005e 01E0     		b	.L184
 2187              	.L183:
1489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2188              		.loc 1 1489 0
 2189 0060 174B     		ldr	r3, .L192+4
 2190 0062 0364     		str	r3, [r0, #64]
 2191              	.L184:
1493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2192              		.loc 1 1493 0
 2193 0064 B5F5004F 		cmp	r5, #32768
 2194 0068 09D1     		bne	.L185
1496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 2195              		.loc 1 1496 0
 2196 006a 0268     		ldr	r2, [r0]
 2197              	.LVL168:
 2198 006c 1368     		ldr	r3, [r2]
 2199 006e 23F04003 		bic	r3, r3, #64
 2200 0072 1360     		str	r3, [r2]
 2201              	.LVL169:
1497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2202              		.loc 1 1497 0
 2203 0074 0268     		ldr	r2, [r0]
 2204 0076 1368     		ldr	r3, [r2]
 2205 0078 23F48043 		bic	r3, r3, #16384
 2206 007c 1360     		str	r3, [r2]
 2207              	.L185:
1509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2208              		.loc 1 1509 0
 2209 007e 0268     		ldr	r2, [r0]
 2210 0080 5368     		ldr	r3, [r2, #4]
 2211 0082 43F06003 		orr	r3, r3, #96
 2212 0086 5360     		str	r3, [r2, #4]
1516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2213              		.loc 1 1516 0
 2214 0088 0368     		ldr	r3, [r0]
 2215 008a 1A68     		ldr	r2, [r3]
 2216 008c 12F0400F 		tst	r2, #64
 2217 0090 0BD1     		bne	.L190
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2218              		.loc 1 1519 0
 2219 0092 1A68     		ldr	r2, [r3]
 2220 0094 42F04002 		orr	r2, r2, #64
 2221 0098 1A60     		str	r2, [r3]
1445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2222              		.loc 1 1445 0
 2223 009a 0023     		movs	r3, #0
 2224 009c 06E0     		b	.L182
 2225              	.LVL170:
 2226              	.L187:
1459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2227              		.loc 1 1459 0
 2228 009e 0223     		movs	r3, #2
 2229 00a0 04E0     		b	.L182
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 115


 2230              	.L188:
1465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2231              		.loc 1 1465 0
 2232 00a2 0123     		movs	r3, #1
 2233 00a4 02E0     		b	.L182
 2234              	.L189:
 2235 00a6 0123     		movs	r3, #1
 2236 00a8 00E0     		b	.L182
 2237              	.LVL171:
 2238              	.L190:
1445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2239              		.loc 1 1445 0
 2240 00aa 0023     		movs	r3, #0
 2241              	.L182:
 2242              	.LVL172:
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 2243              		.loc 1 1524 0
 2244 00ac 0022     		movs	r2, #0
 2245 00ae 80F85020 		strb	r2, [r0, #80]
1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 2246              		.loc 1 1525 0
 2247 00b2 1846     		mov	r0, r3
 2248              	.LVL173:
 2249 00b4 38BD     		pop	{r3, r4, r5, pc}
 2250              	.LVL174:
 2251              	.L186:
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2252              		.loc 1 1455 0
 2253 00b6 0220     		movs	r0, #2
 2254              	.LVL175:
1526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2255              		.loc 1 1526 0
 2256 00b8 38BD     		pop	{r3, r4, r5, pc}
 2257              	.L193:
 2258 00ba 00BF     		.align	2
 2259              	.L192:
 2260 00bc 00000000 		.word	SPI_RxISR_16BIT
 2261 00c0 00000000 		.word	SPI_RxISR_8BIT
 2262              		.cfi_endproc
 2263              	.LFE138:
 2265              		.section	.text.HAL_SPI_Transmit_DMA,"ax",%progbits
 2266              		.align	2
 2267              		.global	HAL_SPI_Transmit_DMA
 2268              		.thumb
 2269              		.thumb_func
 2271              	HAL_SPI_Transmit_DMA:
 2272              	.LFB140:
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 2273              		.loc 1 1626 0
 2274              		.cfi_startproc
 2275              		@ args = 0, pretend = 0, frame = 0
 2276              		@ frame_needed = 0, uses_anonymous_args = 0
 2277              	.LVL176:
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2278              		.loc 1 1636 0
 2279 0000 90F85030 		ldrb	r3, [r0, #80]	@ zero_extendqisi2
 2280 0004 012B     		cmp	r3, #1
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 116


 2281 0006 63D0     		beq	.L200
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 2282              		.loc 1 1626 0 discriminator 2
 2283 0008 10B5     		push	{r4, lr}
 2284              	.LCFI27:
 2285              		.cfi_def_cfa_offset 8
 2286              		.cfi_offset 4, -8
 2287              		.cfi_offset 14, -4
 2288 000a 0446     		mov	r4, r0
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2289              		.loc 1 1636 0 discriminator 2
 2290 000c 0123     		movs	r3, #1
 2291 000e 80F85030 		strb	r3, [r0, #80]
1638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2292              		.loc 1 1638 0 discriminator 2
 2293 0012 90F85130 		ldrb	r3, [r0, #81]	@ zero_extendqisi2
 2294 0016 DBB2     		uxtb	r3, r3
 2295 0018 012B     		cmp	r3, #1
 2296 001a 50D1     		bne	.L201
1644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2297              		.loc 1 1644 0
 2298 001c 0029     		cmp	r1, #0
 2299 001e 50D0     		beq	.L202
1644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2300              		.loc 1 1644 0 is_stmt 0 discriminator 1
 2301 0020 002A     		cmp	r2, #0
 2302 0022 50D0     		beq	.L203
1651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2303              		.loc 1 1651 0 is_stmt 1
 2304 0024 0323     		movs	r3, #3
 2305 0026 80F85130 		strb	r3, [r0, #81]
1652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pData;
 2306              		.loc 1 1652 0
 2307 002a 0023     		movs	r3, #0
 2308 002c 4365     		str	r3, [r0, #84]
1653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2309              		.loc 1 1653 0
 2310 002e 0163     		str	r1, [r0, #48]
1654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2311              		.loc 1 1654 0
 2312 0030 8286     		strh	r2, [r0, #52]	@ movhi
1655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2313              		.loc 1 1655 0
 2314 0032 C286     		strh	r2, [r0, #54]	@ movhi
1658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2315              		.loc 1 1658 0
 2316 0034 8363     		str	r3, [r0, #56]
1659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxISR       = NULL;
 2317              		.loc 1 1659 0
 2318 0036 4364     		str	r3, [r0, #68]
1660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = 0U;
 2319              		.loc 1 1660 0
 2320 0038 0364     		str	r3, [r0, #64]
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 2321              		.loc 1 1661 0
 2322 003a 8387     		strh	r3, [r0, #60]	@ movhi
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 117


 2323              		.loc 1 1662 0
 2324 003c C387     		strh	r3, [r0, #62]	@ movhi
1665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2325              		.loc 1 1665 0
 2326 003e 8368     		ldr	r3, [r0, #8]
 2327 0040 B3F5004F 		cmp	r3, #32768
 2328 0044 09D1     		bne	.L197
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_1LINE_TX(hspi);
 2329              		.loc 1 1668 0
 2330 0046 0268     		ldr	r2, [r0]
 2331              	.LVL177:
 2332 0048 1368     		ldr	r3, [r2]
 2333 004a 23F04003 		bic	r3, r3, #64
 2334 004e 1360     		str	r3, [r2]
 2335              	.LVL178:
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2336              		.loc 1 1669 0
 2337 0050 0268     		ldr	r2, [r0]
 2338 0052 1368     		ldr	r3, [r2]
 2339 0054 43F48043 		orr	r3, r3, #16384
 2340 0058 1360     		str	r3, [r2]
 2341              	.L197:
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2342              		.loc 1 1681 0
 2343 005a A36C     		ldr	r3, [r4, #72]
 2344 005c 1D4A     		ldr	r2, .L206
 2345 005e 1A64     		str	r2, [r3, #64]
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2346              		.loc 1 1684 0
 2347 0060 A36C     		ldr	r3, [r4, #72]
 2348 0062 1D4A     		ldr	r2, .L206+4
 2349 0064 DA63     		str	r2, [r3, #60]
1687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2350              		.loc 1 1687 0
 2351 0066 A36C     		ldr	r3, [r4, #72]
 2352 0068 1C4A     		ldr	r2, .L206+8
 2353 006a DA64     		str	r2, [r3, #76]
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2354              		.loc 1 1690 0
 2355 006c A36C     		ldr	r3, [r4, #72]
 2356 006e 0022     		movs	r2, #0
 2357 0070 1A65     		str	r2, [r3, #80]
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                  hspi->TxXferCount))
 2358              		.loc 1 1693 0
 2359 0072 2268     		ldr	r2, [r4]
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2360              		.loc 1 1694 0
 2361 0074 E38E     		ldrh	r3, [r4, #54]
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                  hspi->TxXferCount))
 2362              		.loc 1 1693 0
 2363 0076 9BB2     		uxth	r3, r3
 2364 0078 0C32     		adds	r2, r2, #12
 2365 007a 216B     		ldr	r1, [r4, #48]
 2366              	.LVL179:
 2367 007c A06C     		ldr	r0, [r4, #72]
 2368              	.LVL180:
 2369 007e FFF7FEFF 		bl	HAL_DMA_Start_IT
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 118


 2370              	.LVL181:
 2371 0082 38B1     		cbz	r0, .L198
1697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 2372              		.loc 1 1697 0
 2373 0084 636D     		ldr	r3, [r4, #84]
 2374 0086 43F01003 		orr	r3, r3, #16
 2375 008a 6365     		str	r3, [r4, #84]
 2376              	.LVL182:
1700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2377              		.loc 1 1700 0
 2378 008c 0120     		movs	r0, #1
 2379 008e 84F85100 		strb	r0, [r4, #81]
1701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2380              		.loc 1 1701 0
 2381 0092 19E0     		b	.L196
 2382              	.LVL183:
 2383              	.L198:
1705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2384              		.loc 1 1705 0
 2385 0094 2368     		ldr	r3, [r4]
 2386 0096 1A68     		ldr	r2, [r3]
 2387 0098 12F0400F 		tst	r2, #64
 2388 009c 03D1     		bne	.L199
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2389              		.loc 1 1708 0
 2390 009e 1A68     		ldr	r2, [r3]
 2391 00a0 42F04002 		orr	r2, r2, #64
 2392 00a4 1A60     		str	r2, [r3]
 2393              	.L199:
1712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2394              		.loc 1 1712 0
 2395 00a6 2268     		ldr	r2, [r4]
 2396 00a8 5368     		ldr	r3, [r2, #4]
 2397 00aa 43F02003 		orr	r3, r3, #32
 2398 00ae 5360     		str	r3, [r2, #4]
1715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2399              		.loc 1 1715 0
 2400 00b0 2268     		ldr	r2, [r4]
 2401 00b2 5368     		ldr	r3, [r2, #4]
 2402 00b4 43F00203 		orr	r3, r3, #2
 2403 00b8 5360     		str	r3, [r2, #4]
1627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2404              		.loc 1 1627 0
 2405 00ba 0020     		movs	r0, #0
 2406 00bc 04E0     		b	.L196
 2407              	.LVL184:
 2408              	.L201:
1640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2409              		.loc 1 1640 0
 2410 00be 0220     		movs	r0, #2
 2411              	.LVL185:
 2412 00c0 02E0     		b	.L196
 2413              	.LVL186:
 2414              	.L202:
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2415              		.loc 1 1646 0
 2416 00c2 0120     		movs	r0, #1
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 119


 2417              	.LVL187:
 2418 00c4 00E0     		b	.L196
 2419              	.LVL188:
 2420              	.L203:
 2421 00c6 0120     		movs	r0, #1
 2422              	.LVL189:
 2423              	.L196:
1719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 2424              		.loc 1 1719 0
 2425 00c8 0023     		movs	r3, #0
 2426 00ca 84F85030 		strb	r3, [r4, #80]
1720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 2427              		.loc 1 1720 0
 2428 00ce 10BD     		pop	{r4, pc}
 2429              	.LVL190:
 2430              	.L200:
 2431              	.LCFI28:
 2432              		.cfi_def_cfa_offset 0
 2433              		.cfi_restore 4
 2434              		.cfi_restore 14
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2435              		.loc 1 1636 0
 2436 00d0 0220     		movs	r0, #2
 2437              	.LVL191:
 2438 00d2 7047     		bx	lr
 2439              	.L207:
 2440              		.align	2
 2441              	.L206:
 2442 00d4 00000000 		.word	SPI_DMAHalfTransmitCplt
 2443 00d8 00000000 		.word	SPI_DMATransmitCplt
 2444 00dc 00000000 		.word	SPI_DMAError
 2445              		.cfi_endproc
 2446              	.LFE140:
 2448              		.section	.text.HAL_SPI_TransmitReceive_DMA,"ax",%progbits
 2449              		.align	2
 2450              		.global	HAL_SPI_TransmitReceive_DMA
 2451              		.thumb
 2452              		.thumb_func
 2454              	HAL_SPI_TransmitReceive_DMA:
 2455              	.LFB142:
1850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t             tmp_mode;
 2456              		.loc 1 1850 0
 2457              		.cfi_startproc
 2458              		@ args = 0, pretend = 0, frame = 0
 2459              		@ frame_needed = 0, uses_anonymous_args = 0
 2460              	.LVL192:
 2461 0000 38B5     		push	{r3, r4, r5, lr}
 2462              	.LCFI29:
 2463              		.cfi_def_cfa_offset 16
 2464              		.cfi_offset 3, -16
 2465              		.cfi_offset 4, -12
 2466              		.cfi_offset 5, -8
 2467              		.cfi_offset 14, -4
 2468              	.LVL193:
1863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2469              		.loc 1 1863 0
 2470 0002 90F85040 		ldrb	r4, [r0, #80]	@ zero_extendqisi2
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 120


 2471 0006 012C     		cmp	r4, #1
 2472 0008 00F09680 		beq	.L218
 2473 000c 0446     		mov	r4, r0
1863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2474              		.loc 1 1863 0 is_stmt 0 discriminator 2
 2475 000e 0120     		movs	r0, #1
 2476              	.LVL194:
 2477 0010 84F85000 		strb	r0, [r4, #80]
1866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   tmp_mode            = hspi->Init.Mode;
 2478              		.loc 1 1866 0 is_stmt 1 discriminator 2
 2479 0014 94F85100 		ldrb	r0, [r4, #81]	@ zero_extendqisi2
 2480 0018 C0B2     		uxtb	r0, r0
 2481              	.LVL195:
1867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2482              		.loc 1 1867 0 discriminator 2
 2483 001a 6568     		ldr	r5, [r4, #4]
 2484              	.LVL196:
1869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
 2485              		.loc 1 1869 0 discriminator 2
 2486 001c 0128     		cmp	r0, #1
 2487 001e 07D0     		beq	.L210
1869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         ((tmp_mode == SPI_MODE_MASTER) && (hspi->Init.Direction == SPI_DIRECTION_2LINES) && (tmp_st
 2488              		.loc 1 1869 0 is_stmt 0 discriminator 1
 2489 0020 B5F5827F 		cmp	r5, #260
 2490 0024 79D1     		bne	.L219
1870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2491              		.loc 1 1870 0 is_stmt 1
 2492 0026 A568     		ldr	r5, [r4, #8]
 2493              	.LVL197:
 2494 0028 002D     		cmp	r5, #0
 2495 002a 78D1     		bne	.L220
1870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2496              		.loc 1 1870 0 is_stmt 0 discriminator 1
 2497 002c 0428     		cmp	r0, #4
 2498 002e 78D1     		bne	.L221
 2499              	.L210:
1876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2500              		.loc 1 1876 0 is_stmt 1
 2501 0030 0029     		cmp	r1, #0
 2502 0032 78D0     		beq	.L222
1876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2503              		.loc 1 1876 0 is_stmt 0 discriminator 1
 2504 0034 002A     		cmp	r2, #0
 2505 0036 78D0     		beq	.L223
1876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2506              		.loc 1 1876 0 discriminator 2
 2507 0038 002B     		cmp	r3, #0
 2508 003a 78D0     		beq	.L224
1883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2509              		.loc 1 1883 0 is_stmt 1
 2510 003c 94F85100 		ldrb	r0, [r4, #81]	@ zero_extendqisi2
 2511              	.LVL198:
 2512 0040 C0B2     		uxtb	r0, r0
 2513 0042 0428     		cmp	r0, #4
 2514 0044 02D0     		beq	.L212
1885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2515              		.loc 1 1885 0
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 121


 2516 0046 0520     		movs	r0, #5
 2517 0048 84F85100 		strb	r0, [r4, #81]
 2518              	.L212:
1889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr  = (uint8_t *)pTxData;
 2519              		.loc 1 1889 0
 2520 004c 0020     		movs	r0, #0
 2521 004e 6065     		str	r0, [r4, #84]
1890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = Size;
 2522              		.loc 1 1890 0
 2523 0050 2163     		str	r1, [r4, #48]
1891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = Size;
 2524              		.loc 1 1891 0
 2525 0052 A386     		strh	r3, [r4, #52]	@ movhi
1892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pRxData;
 2526              		.loc 1 1892 0
 2527 0054 E386     		strh	r3, [r4, #54]	@ movhi
1893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2528              		.loc 1 1893 0
 2529 0056 A263     		str	r2, [r4, #56]
1894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2530              		.loc 1 1894 0
 2531 0058 A387     		strh	r3, [r4, #60]	@ movhi
1895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2532              		.loc 1 1895 0
 2533 005a E387     		strh	r3, [r4, #62]	@ movhi
1898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2534              		.loc 1 1898 0
 2535 005c 2064     		str	r0, [r4, #64]
1899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2536              		.loc 1 1899 0
 2537 005e 6064     		str	r0, [r4, #68]
1910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2538              		.loc 1 1910 0
 2539 0060 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 2540              	.LVL199:
 2541 0064 DBB2     		uxtb	r3, r3
 2542 0066 042B     		cmp	r3, #4
 2543 0068 06D1     		bne	.L213
1913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMAReceiveCplt;
 2544              		.loc 1 1913 0
 2545 006a E36C     		ldr	r3, [r4, #76]
 2546 006c 334A     		ldr	r2, .L226
 2547              	.LVL200:
 2548 006e 1A64     		str	r2, [r3, #64]
 2549              	.LVL201:
1914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2550              		.loc 1 1914 0
 2551 0070 E36C     		ldr	r3, [r4, #76]
 2552 0072 334A     		ldr	r2, .L226+4
 2553 0074 DA63     		str	r2, [r3, #60]
 2554 0076 05E0     		b	.L214
 2555              	.LVL202:
 2556              	.L213:
1919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->hdmarx->XferCpltCallback     = SPI_DMATransmitReceiveCplt;
 2557              		.loc 1 1919 0
 2558 0078 E36C     		ldr	r3, [r4, #76]
 2559 007a 324A     		ldr	r2, .L226+8
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 122


 2560              	.LVL203:
 2561 007c 1A64     		str	r2, [r3, #64]
 2562              	.LVL204:
1920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2563              		.loc 1 1920 0
 2564 007e E36C     		ldr	r3, [r4, #76]
 2565 0080 314A     		ldr	r2, .L226+12
 2566 0082 DA63     		str	r2, [r3, #60]
 2567              	.L214:
1924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2568              		.loc 1 1924 0
 2569 0084 E36C     		ldr	r3, [r4, #76]
 2570 0086 314A     		ldr	r2, .L226+16
 2571 0088 DA64     		str	r2, [r3, #76]
1927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2572              		.loc 1 1927 0
 2573 008a E36C     		ldr	r3, [r4, #76]
 2574 008c 0022     		movs	r2, #0
 2575 008e 1A65     		str	r2, [r3, #80]
1930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                  hspi->RxXferCount))
 2576              		.loc 1 1930 0
 2577 0090 2168     		ldr	r1, [r4]
 2578              	.LVL205:
1931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2579              		.loc 1 1931 0
 2580 0092 E38F     		ldrh	r3, [r4, #62]
1930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                  hspi->RxXferCount))
 2581              		.loc 1 1930 0
 2582 0094 9BB2     		uxth	r3, r3
 2583 0096 A26B     		ldr	r2, [r4, #56]
 2584 0098 0C31     		adds	r1, r1, #12
 2585 009a E06C     		ldr	r0, [r4, #76]
 2586 009c FFF7FEFF 		bl	HAL_DMA_Start_IT
 2587              	.LVL206:
 2588 00a0 38B1     		cbz	r0, .L215
1934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 2589              		.loc 1 1934 0
 2590 00a2 636D     		ldr	r3, [r4, #84]
 2591 00a4 43F01003 		orr	r3, r3, #16
 2592 00a8 6365     		str	r3, [r4, #84]
 2593              	.LVL207:
1937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2594              		.loc 1 1937 0
 2595 00aa 0120     		movs	r0, #1
 2596 00ac 84F85100 		strb	r0, [r4, #81]
1938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2597              		.loc 1 1938 0
 2598 00b0 3EE0     		b	.L211
 2599              	.LVL208:
 2600              	.L215:
1942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2601              		.loc 1 1942 0
 2602 00b2 2268     		ldr	r2, [r4]
 2603 00b4 5368     		ldr	r3, [r2, #4]
 2604 00b6 43F00103 		orr	r3, r3, #1
 2605 00ba 5360     		str	r3, [r2, #4]
1946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferCpltCallback     = NULL;
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 123


 2606              		.loc 1 1946 0
 2607 00bc A26C     		ldr	r2, [r4, #72]
 2608 00be 0023     		movs	r3, #0
 2609 00c0 1364     		str	r3, [r2, #64]
1947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferErrorCallback    = NULL;
 2610              		.loc 1 1947 0
 2611 00c2 A26C     		ldr	r2, [r4, #72]
 2612 00c4 D363     		str	r3, [r2, #60]
1948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->hdmatx->XferAbortCallback    = NULL;
 2613              		.loc 1 1948 0
 2614 00c6 A26C     		ldr	r2, [r4, #72]
 2615 00c8 D364     		str	r3, [r2, #76]
1949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2616              		.loc 1 1949 0
 2617 00ca A26C     		ldr	r2, [r4, #72]
 2618 00cc 1365     		str	r3, [r2, #80]
1952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                  hspi->TxXferCount))
 2619              		.loc 1 1952 0
 2620 00ce 2268     		ldr	r2, [r4]
1953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2621              		.loc 1 1953 0
 2622 00d0 E38E     		ldrh	r3, [r4, #54]
1952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                  hspi->TxXferCount))
 2623              		.loc 1 1952 0
 2624 00d2 9BB2     		uxth	r3, r3
 2625 00d4 0C32     		adds	r2, r2, #12
 2626 00d6 216B     		ldr	r1, [r4, #48]
 2627 00d8 A06C     		ldr	r0, [r4, #72]
 2628 00da FFF7FEFF 		bl	HAL_DMA_Start_IT
 2629              	.LVL209:
 2630 00de 38B1     		cbz	r0, .L216
1956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 2631              		.loc 1 1956 0
 2632 00e0 636D     		ldr	r3, [r4, #84]
 2633 00e2 43F01003 		orr	r3, r3, #16
 2634 00e6 6365     		str	r3, [r4, #84]
 2635              	.LVL210:
1959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2636              		.loc 1 1959 0
 2637 00e8 0120     		movs	r0, #1
 2638 00ea 84F85100 		strb	r0, [r4, #81]
1960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2639              		.loc 1 1960 0
 2640 00ee 1FE0     		b	.L211
 2641              	.LVL211:
 2642              	.L216:
1964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2643              		.loc 1 1964 0
 2644 00f0 2368     		ldr	r3, [r4]
 2645 00f2 1A68     		ldr	r2, [r3]
 2646 00f4 12F0400F 		tst	r2, #64
 2647 00f8 03D1     		bne	.L217
1967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2648              		.loc 1 1967 0
 2649 00fa 1A68     		ldr	r2, [r3]
 2650 00fc 42F04002 		orr	r2, r2, #64
 2651 0100 1A60     		str	r2, [r3]
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 124


 2652              	.L217:
1970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2653              		.loc 1 1970 0
 2654 0102 2268     		ldr	r2, [r4]
 2655 0104 5368     		ldr	r3, [r2, #4]
 2656 0106 43F02003 		orr	r3, r3, #32
 2657 010a 5360     		str	r3, [r2, #4]
1973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2658              		.loc 1 1973 0
 2659 010c 2268     		ldr	r2, [r4]
 2660 010e 5368     		ldr	r3, [r2, #4]
 2661 0110 43F00203 		orr	r3, r3, #2
 2662 0114 5360     		str	r3, [r2, #4]
1853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2663              		.loc 1 1853 0
 2664 0116 0020     		movs	r0, #0
 2665 0118 0AE0     		b	.L211
 2666              	.LVL212:
 2667              	.L219:
1872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2668              		.loc 1 1872 0
 2669 011a 0220     		movs	r0, #2
 2670              	.LVL213:
 2671 011c 08E0     		b	.L211
 2672              	.LVL214:
 2673              	.L220:
 2674 011e 0220     		movs	r0, #2
 2675              	.LVL215:
 2676 0120 06E0     		b	.L211
 2677              	.LVL216:
 2678              	.L221:
 2679 0122 0220     		movs	r0, #2
 2680              	.LVL217:
 2681 0124 04E0     		b	.L211
 2682              	.LVL218:
 2683              	.L222:
1878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2684              		.loc 1 1878 0
 2685 0126 0120     		movs	r0, #1
 2686              	.LVL219:
 2687 0128 02E0     		b	.L211
 2688              	.LVL220:
 2689              	.L223:
 2690 012a 0120     		movs	r0, #1
 2691              	.LVL221:
 2692 012c 00E0     		b	.L211
 2693              	.LVL222:
 2694              	.L224:
 2695 012e 0120     		movs	r0, #1
 2696              	.LVL223:
 2697              	.L211:
1977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 2698              		.loc 1 1977 0
 2699 0130 0023     		movs	r3, #0
 2700 0132 84F85030 		strb	r3, [r4, #80]
1978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 2701              		.loc 1 1978 0
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 125


 2702 0136 38BD     		pop	{r3, r4, r5, pc}
 2703              	.LVL224:
 2704              	.L218:
1863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2705              		.loc 1 1863 0
 2706 0138 0220     		movs	r0, #2
 2707              	.LVL225:
1979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2708              		.loc 1 1979 0
 2709 013a 38BD     		pop	{r3, r4, r5, pc}
 2710              	.LVL226:
 2711              	.L227:
 2712              		.align	2
 2713              	.L226:
 2714 013c 00000000 		.word	SPI_DMAHalfReceiveCplt
 2715 0140 00000000 		.word	SPI_DMAReceiveCplt
 2716 0144 00000000 		.word	SPI_DMAHalfTransmitReceiveCplt
 2717 0148 00000000 		.word	SPI_DMATransmitReceiveCplt
 2718 014c 00000000 		.word	SPI_DMAError
 2719              		.cfi_endproc
 2720              	.LFE142:
 2722              		.section	.text.HAL_SPI_Receive_DMA,"ax",%progbits
 2723              		.align	2
 2724              		.global	HAL_SPI_Receive_DMA
 2725              		.thumb
 2726              		.thumb_func
 2728              	HAL_SPI_Receive_DMA:
 2729              	.LFB141:
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 2730              		.loc 1 1734 0
 2731              		.cfi_startproc
 2732              		@ args = 0, pretend = 0, frame = 0
 2733              		@ frame_needed = 0, uses_anonymous_args = 0
 2734              	.LVL227:
 2735 0000 38B5     		push	{r3, r4, r5, lr}
 2736              	.LCFI30:
 2737              		.cfi_def_cfa_offset 16
 2738              		.cfi_offset 3, -16
 2739              		.cfi_offset 4, -12
 2740              		.cfi_offset 5, -8
 2741              		.cfi_offset 14, -4
 2742 0002 0446     		mov	r4, r0
 2743              	.LVL228:
1740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2744              		.loc 1 1740 0
 2745 0004 8568     		ldr	r5, [r0, #8]
 2746 0006 5DB9     		cbnz	r5, .L229
1740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2747              		.loc 1 1740 0 is_stmt 0 discriminator 1
 2748 0008 4368     		ldr	r3, [r0, #4]
 2749 000a B3F5827F 		cmp	r3, #260
 2750 000e 07D1     		bne	.L229
1742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2751              		.loc 1 1742 0 is_stmt 1
 2752 0010 0423     		movs	r3, #4
 2753 0012 80F85130 		strb	r3, [r0, #81]
1748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 126


 2754              		.loc 1 1748 0
 2755 0016 1346     		mov	r3, r2
 2756 0018 0A46     		mov	r2, r1
 2757              	.LVL229:
 2758 001a FFF7FEFF 		bl	HAL_SPI_TransmitReceive_DMA
 2759              	.LVL230:
 2760 001e 38BD     		pop	{r3, r4, r5, pc}
 2761              	.LVL231:
 2762              	.L229:
1752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2763              		.loc 1 1752 0
 2764 0020 94F85000 		ldrb	r0, [r4, #80]	@ zero_extendqisi2
 2765              	.LVL232:
 2766 0024 0128     		cmp	r0, #1
 2767 0026 5FD0     		beq	.L235
1752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2768              		.loc 1 1752 0 is_stmt 0 discriminator 2
 2769 0028 0123     		movs	r3, #1
 2770 002a 84F85030 		strb	r3, [r4, #80]
1754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2771              		.loc 1 1754 0 is_stmt 1 discriminator 2
 2772 002e 94F85100 		ldrb	r0, [r4, #81]	@ zero_extendqisi2
 2773 0032 C0B2     		uxtb	r0, r0
 2774 0034 9842     		cmp	r0, r3
 2775 0036 4ED1     		bne	.L236
1760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2776              		.loc 1 1760 0
 2777 0038 0029     		cmp	r1, #0
 2778 003a 4ED0     		beq	.L237
1760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2779              		.loc 1 1760 0 is_stmt 0 discriminator 1
 2780 003c 002A     		cmp	r2, #0
 2781 003e 4ED0     		beq	.L238
1767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->ErrorCode   = HAL_SPI_ERROR_NONE;
 2782              		.loc 1 1767 0 is_stmt 1
 2783 0040 0423     		movs	r3, #4
 2784 0042 84F85130 		strb	r3, [r4, #81]
1768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr  = (uint8_t *)pData;
 2785              		.loc 1 1768 0
 2786 0046 0023     		movs	r3, #0
 2787 0048 6365     		str	r3, [r4, #84]
1769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferSize  = Size;
 2788              		.loc 1 1769 0
 2789 004a A163     		str	r1, [r4, #56]
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = Size;
 2790              		.loc 1 1770 0
 2791 004c A287     		strh	r2, [r4, #60]	@ movhi
1771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2792              		.loc 1 1771 0
 2793 004e E287     		strh	r2, [r4, #62]	@ movhi
1774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxISR       = NULL;
 2794              		.loc 1 1774 0
 2795 0050 2364     		str	r3, [r4, #64]
1775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferSize  = 0U;
 2796              		.loc 1 1775 0
 2797 0052 6364     		str	r3, [r4, #68]
1776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 127


 2798              		.loc 1 1776 0
 2799 0054 A386     		strh	r3, [r4, #52]	@ movhi
1777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2800              		.loc 1 1777 0
 2801 0056 E386     		strh	r3, [r4, #54]	@ movhi
1780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2802              		.loc 1 1780 0
 2803 0058 B5F5004F 		cmp	r5, #32768
 2804 005c 09D1     		bne	.L232
1783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     SPI_1LINE_RX(hspi);
 2805              		.loc 1 1783 0
 2806 005e 2268     		ldr	r2, [r4]
 2807              	.LVL233:
 2808 0060 1368     		ldr	r3, [r2]
 2809 0062 23F04003 		bic	r3, r3, #64
 2810 0066 1360     		str	r3, [r2]
 2811              	.LVL234:
1784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2812              		.loc 1 1784 0
 2813 0068 2268     		ldr	r2, [r4]
 2814 006a 1368     		ldr	r3, [r2]
 2815 006c 23F48043 		bic	r3, r3, #16384
 2816 0070 1360     		str	r3, [r2]
 2817              	.L232:
1796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2818              		.loc 1 1796 0
 2819 0072 E36C     		ldr	r3, [r4, #76]
 2820 0074 1D4A     		ldr	r2, .L240
 2821 0076 1A64     		str	r2, [r3, #64]
1799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2822              		.loc 1 1799 0
 2823 0078 E36C     		ldr	r3, [r4, #76]
 2824 007a 1D4A     		ldr	r2, .L240+4
 2825 007c DA63     		str	r2, [r3, #60]
1802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2826              		.loc 1 1802 0
 2827 007e E36C     		ldr	r3, [r4, #76]
 2828 0080 1C4A     		ldr	r2, .L240+8
 2829 0082 DA64     		str	r2, [r3, #76]
1805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2830              		.loc 1 1805 0
 2831 0084 E36C     		ldr	r3, [r4, #76]
 2832 0086 0022     		movs	r2, #0
 2833 0088 1A65     		str	r2, [r3, #80]
1808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                  hspi->RxXferCount))
 2834              		.loc 1 1808 0
 2835 008a 2168     		ldr	r1, [r4]
 2836              	.LVL235:
1809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2837              		.loc 1 1809 0
 2838 008c E38F     		ldrh	r3, [r4, #62]
1808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****                                  hspi->RxXferCount))
 2839              		.loc 1 1808 0
 2840 008e 9BB2     		uxth	r3, r3
 2841 0090 A26B     		ldr	r2, [r4, #56]
 2842 0092 0C31     		adds	r1, r1, #12
 2843 0094 E06C     		ldr	r0, [r4, #76]
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 128


 2844 0096 FFF7FEFF 		bl	HAL_DMA_Start_IT
 2845              	.LVL236:
 2846 009a 38B1     		cbz	r0, .L233
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     errorcode = HAL_ERROR;
 2847              		.loc 1 1812 0
 2848 009c 636D     		ldr	r3, [r4, #84]
 2849 009e 43F01003 		orr	r3, r3, #16
 2850 00a2 6365     		str	r3, [r4, #84]
 2851              	.LVL237:
1815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2852              		.loc 1 1815 0
 2853 00a4 0120     		movs	r0, #1
 2854 00a6 84F85100 		strb	r0, [r4, #81]
1816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2855              		.loc 1 1816 0
 2856 00aa 19E0     		b	.L231
 2857              	.LVL238:
 2858              	.L233:
1820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2859              		.loc 1 1820 0
 2860 00ac 2368     		ldr	r3, [r4]
 2861 00ae 1A68     		ldr	r2, [r3]
 2862 00b0 12F0400F 		tst	r2, #64
 2863 00b4 03D1     		bne	.L234
1823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2864              		.loc 1 1823 0
 2865 00b6 1A68     		ldr	r2, [r3]
 2866 00b8 42F04002 		orr	r2, r2, #64
 2867 00bc 1A60     		str	r2, [r3]
 2868              	.L234:
1827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2869              		.loc 1 1827 0
 2870 00be 2268     		ldr	r2, [r4]
 2871 00c0 5368     		ldr	r3, [r2, #4]
 2872 00c2 43F02003 		orr	r3, r3, #32
 2873 00c6 5360     		str	r3, [r2, #4]
1830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2874              		.loc 1 1830 0
 2875 00c8 2268     		ldr	r2, [r4]
 2876 00ca 5368     		ldr	r3, [r2, #4]
 2877 00cc 43F00103 		orr	r3, r3, #1
 2878 00d0 5360     		str	r3, [r2, #4]
1735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2879              		.loc 1 1735 0
 2880 00d2 0020     		movs	r0, #0
 2881 00d4 04E0     		b	.L231
 2882              	.LVL239:
 2883              	.L236:
1756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2884              		.loc 1 1756 0
 2885 00d6 0220     		movs	r0, #2
 2886 00d8 02E0     		b	.L231
 2887              	.L237:
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     goto error;
 2888              		.loc 1 1762 0
 2889 00da 0120     		movs	r0, #1
 2890 00dc 00E0     		b	.L231
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 129


 2891              	.L238:
 2892 00de 0120     		movs	r0, #1
 2893              	.LVL240:
 2894              	.L231:
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 2895              		.loc 1 1834 0
 2896 00e0 0023     		movs	r3, #0
 2897 00e2 84F85030 		strb	r3, [r4, #80]
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 2898              		.loc 1 1835 0
 2899 00e6 38BD     		pop	{r3, r4, r5, pc}
 2900              	.LVL241:
 2901              	.L235:
1752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2902              		.loc 1 1752 0
 2903 00e8 0220     		movs	r0, #2
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2904              		.loc 1 1836 0
 2905 00ea 38BD     		pop	{r3, r4, r5, pc}
 2906              	.LVL242:
 2907              	.L241:
 2908              		.align	2
 2909              	.L240:
 2910 00ec 00000000 		.word	SPI_DMAHalfReceiveCplt
 2911 00f0 00000000 		.word	SPI_DMAReceiveCplt
 2912 00f4 00000000 		.word	SPI_DMAError
 2913              		.cfi_endproc
 2914              	.LFE141:
 2916              		.section	.text.HAL_SPI_Abort,"ax",%progbits
 2917              		.align	2
 2918              		.global	HAL_SPI_Abort
 2919              		.thumb
 2920              		.thumb_func
 2922              	HAL_SPI_Abort:
 2923              	.LFB143:
1995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
 2924              		.loc 1 1995 0
 2925              		.cfi_startproc
 2926              		@ args = 0, pretend = 0, frame = 16
 2927              		@ frame_needed = 0, uses_anonymous_args = 0
 2928              	.LVL243:
 2929 0000 10B5     		push	{r4, lr}
 2930              	.LCFI31:
 2931              		.cfi_def_cfa_offset 8
 2932              		.cfi_offset 4, -8
 2933              		.cfi_offset 14, -4
 2934 0002 84B0     		sub	sp, sp, #16
 2935              	.LCFI32:
 2936              		.cfi_def_cfa_offset 24
 2937 0004 0446     		mov	r4, r0
 2938              	.LVL244:
2002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   count = resetcount;
 2939              		.loc 1 2002 0
 2940 0006 4B4B     		ldr	r3, .L260
 2941 0008 1B68     		ldr	r3, [r3]
 2942 000a 4B4A     		ldr	r2, .L260+4
 2943 000c A2FB0323 		umull	r2, r3, r2, r3
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 130


 2944 0010 5B0A     		lsrs	r3, r3, #9
 2945 0012 6422     		movs	r2, #100
 2946 0014 02FB03F3 		mul	r3, r2, r3
 2947 0018 0293     		str	r3, [sp, #8]
2003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2948              		.loc 1 2003 0
 2949 001a 029B     		ldr	r3, [sp, #8]
 2950 001c 0393     		str	r3, [sp, #12]
2006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 2951              		.loc 1 2006 0
 2952 001e 0268     		ldr	r2, [r0]
 2953 0020 5368     		ldr	r3, [r2, #4]
 2954 0022 23F02003 		bic	r3, r3, #32
 2955 0026 5360     		str	r3, [r2, #4]
2009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2956              		.loc 1 2009 0
 2957 0028 0268     		ldr	r2, [r0]
 2958 002a 5368     		ldr	r3, [r2, #4]
 2959 002c 13F0800F 		tst	r3, #128
 2960 0030 12D0     		beq	.L243
2011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 2961              		.loc 1 2011 0
 2962 0032 424B     		ldr	r3, .L260+8
 2963 0034 4364     		str	r3, [r0, #68]
 2964              	.L246:
2015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 2965              		.loc 1 2015 0
 2966 0036 039B     		ldr	r3, [sp, #12]
 2967 0038 23B9     		cbnz	r3, .L244
2017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 2968              		.loc 1 2017 0
 2969 003a 636D     		ldr	r3, [r4, #84]
 2970 003c 43F04003 		orr	r3, r3, #64
 2971 0040 6365     		str	r3, [r4, #84]
2018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 2972              		.loc 1 2018 0
 2973 0042 07E0     		b	.L245
 2974              	.L244:
2020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 2975              		.loc 1 2020 0
 2976 0044 039B     		ldr	r3, [sp, #12]
 2977 0046 013B     		subs	r3, r3, #1
 2978 0048 0393     		str	r3, [sp, #12]
2021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset Timeout Counter */
 2979              		.loc 1 2021 0
 2980 004a 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 2981 004e DBB2     		uxtb	r3, r3
 2982 0050 072B     		cmp	r3, #7
 2983 0052 F0D1     		bne	.L246
 2984              	.L245:
2023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 2985              		.loc 1 2023 0
 2986 0054 029B     		ldr	r3, [sp, #8]
 2987 0056 0393     		str	r3, [sp, #12]
 2988              	.L243:
2026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 2989              		.loc 1 2026 0
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 131


 2990 0058 5368     		ldr	r3, [r2, #4]
 2991 005a 13F0400F 		tst	r3, #64
 2992 005e 12D0     		beq	.L247
2028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 2993              		.loc 1 2028 0
 2994 0060 374B     		ldr	r3, .L260+12
 2995 0062 2364     		str	r3, [r4, #64]
 2996              	.L250:
2032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 2997              		.loc 1 2032 0
 2998 0064 039B     		ldr	r3, [sp, #12]
 2999 0066 23B9     		cbnz	r3, .L248
2034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 3000              		.loc 1 2034 0
 3001 0068 636D     		ldr	r3, [r4, #84]
 3002 006a 43F04003 		orr	r3, r3, #64
 3003 006e 6365     		str	r3, [r4, #84]
2035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 3004              		.loc 1 2035 0
 3005 0070 07E0     		b	.L249
 3006              	.L248:
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 3007              		.loc 1 2037 0
 3008 0072 039B     		ldr	r3, [sp, #12]
 3009 0074 013B     		subs	r3, r3, #1
 3010 0076 0393     		str	r3, [sp, #12]
2038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset Timeout Counter */
 3011              		.loc 1 2038 0
 3012 0078 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 3013 007c DBB2     		uxtb	r3, r3
 3014 007e 072B     		cmp	r3, #7
 3015 0080 F0D1     		bne	.L250
 3016              	.L249:
2040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 3017              		.loc 1 2040 0
 3018 0082 029B     		ldr	r3, [sp, #8]
 3019 0084 0393     		str	r3, [sp, #12]
 3020              	.L247:
2044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 3021              		.loc 1 2044 0
 3022 0086 5368     		ldr	r3, [r2, #4]
 3023 0088 13F0020F 		tst	r3, #2
 3024 008c 1DD0     		beq	.L251
2047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 3025              		.loc 1 2047 0
 3026 008e A36C     		ldr	r3, [r4, #72]
 3027 0090 DBB1     		cbz	r3, .L251
2051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3028              		.loc 1 2051 0
 3029 0092 0022     		movs	r2, #0
 3030 0094 1A65     		str	r2, [r3, #80]
2054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 3031              		.loc 1 2054 0
 3032 0096 A06C     		ldr	r0, [r4, #72]
 3033              	.LVL245:
 3034 0098 FFF7FEFF 		bl	HAL_DMA_Abort
 3035              	.LVL246:
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 132


 3036 009c 08B1     		cbz	r0, .L252
2056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 3037              		.loc 1 2056 0
 3038 009e 4023     		movs	r3, #64
 3039 00a0 6365     		str	r3, [r4, #84]
 3040              	.L252:
2060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3041              		.loc 1 2060 0
 3042 00a2 2268     		ldr	r2, [r4]
 3043 00a4 5368     		ldr	r3, [r2, #4]
 3044 00a6 23F00203 		bic	r3, r3, #2
 3045 00aa 5360     		str	r3, [r2, #4]
 3046              	.L254:
2065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 3047              		.loc 1 2065 0
 3048 00ac 039B     		ldr	r3, [sp, #12]
 3049 00ae 23B9     		cbnz	r3, .L253
2067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           break;
 3050              		.loc 1 2067 0
 3051 00b0 636D     		ldr	r3, [r4, #84]
 3052 00b2 43F04003 		orr	r3, r3, #64
 3053 00b6 6365     		str	r3, [r4, #84]
2068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         }
 3054              		.loc 1 2068 0
 3055 00b8 07E0     		b	.L251
 3056              	.L253:
2070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 3057              		.loc 1 2070 0
 3058 00ba 039B     		ldr	r3, [sp, #12]
 3059 00bc 013B     		subs	r3, r3, #1
 3060 00be 0393     		str	r3, [sp, #12]
2071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 3061              		.loc 1 2071 0
 3062 00c0 2368     		ldr	r3, [r4]
 3063 00c2 9B68     		ldr	r3, [r3, #8]
 3064 00c4 13F0020F 		tst	r3, #2
 3065 00c8 F0D0     		beq	.L254
 3066              	.L251:
2076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 3067              		.loc 1 2076 0
 3068 00ca 2368     		ldr	r3, [r4]
 3069 00cc 5B68     		ldr	r3, [r3, #4]
 3070 00ce 13F0010F 		tst	r3, #1
 3071 00d2 13D0     		beq	.L255
2079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 3072              		.loc 1 2079 0
 3073 00d4 E36C     		ldr	r3, [r4, #76]
 3074 00d6 8BB1     		cbz	r3, .L255
2083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3075              		.loc 1 2083 0
 3076 00d8 0022     		movs	r2, #0
 3077 00da 1A65     		str	r2, [r3, #80]
2086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 3078              		.loc 1 2086 0
 3079 00dc E06C     		ldr	r0, [r4, #76]
 3080 00de FFF7FEFF 		bl	HAL_DMA_Abort
 3081              	.LVL247:
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 133


 3082 00e2 08B1     		cbz	r0, .L256
2088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 3083              		.loc 1 2088 0
 3084 00e4 4023     		movs	r3, #64
 3085 00e6 6365     		str	r3, [r4, #84]
 3086              	.L256:
2092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3087              		.loc 1 2092 0
 3088 00e8 2268     		ldr	r2, [r4]
 3089 00ea 1368     		ldr	r3, [r2]
 3090 00ec 23F04003 		bic	r3, r3, #64
 3091 00f0 1360     		str	r3, [r2]
2095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 3092              		.loc 1 2095 0
 3093 00f2 2268     		ldr	r2, [r4]
 3094 00f4 5368     		ldr	r3, [r2, #4]
 3095 00f6 23F00103 		bic	r3, r3, #1
 3096 00fa 5360     		str	r3, [r2, #4]
 3097              	.L255:
2099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 3098              		.loc 1 2099 0
 3099 00fc 0023     		movs	r3, #0
 3100 00fe E387     		strh	r3, [r4, #62]	@ movhi
2100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3101              		.loc 1 2100 0
 3102 0100 E386     		strh	r3, [r4, #54]	@ movhi
2103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 3103              		.loc 1 2103 0
 3104 0102 636D     		ldr	r3, [r4, #84]
 3105 0104 402B     		cmp	r3, #64
 3106 0106 02D0     		beq	.L258
2111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 3107              		.loc 1 2111 0
 3108 0108 0020     		movs	r0, #0
 3109 010a 6065     		str	r0, [r4, #84]
 3110 010c 00E0     		b	.L257
 3111              	.L258:
2106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 3112              		.loc 1 2106 0
 3113 010e 0120     		movs	r0, #1
 3114              	.L257:
 3115              	.LVL248:
 3116              	.LBB4:
2115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 3117              		.loc 1 2115 0
 3118 0110 0022     		movs	r2, #0
 3119 0112 0092     		str	r2, [sp]
 3120 0114 2368     		ldr	r3, [r4]
 3121 0116 D968     		ldr	r1, [r3, #12]
 3122 0118 0091     		str	r1, [sp]
 3123 011a 9968     		ldr	r1, [r3, #8]
 3124 011c 0091     		str	r1, [sp]
 3125 011e 0099     		ldr	r1, [sp]
 3126              	.LBE4:
 3127              	.LBB5:
2116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3128              		.loc 1 2116 0
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 134


 3129 0120 0192     		str	r2, [sp, #4]
 3130 0122 9B68     		ldr	r3, [r3, #8]
 3131 0124 0193     		str	r3, [sp, #4]
 3132 0126 019B     		ldr	r3, [sp, #4]
 3133              	.LBE5:
2119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3134              		.loc 1 2119 0
 3135 0128 0123     		movs	r3, #1
 3136 012a 84F85130 		strb	r3, [r4, #81]
2122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3137              		.loc 1 2122 0
 3138 012e 04B0     		add	sp, sp, #16
 3139              	.LCFI33:
 3140              		.cfi_def_cfa_offset 8
 3141              		@ sp needed
 3142 0130 10BD     		pop	{r4, pc}
 3143              	.LVL249:
 3144              	.L261:
 3145 0132 00BF     		.align	2
 3146              	.L260:
 3147 0134 00000000 		.word	SystemCoreClock
 3148 0138 F1197605 		.word	91625969
 3149 013c 00000000 		.word	SPI_AbortTx_ISR
 3150 0140 00000000 		.word	SPI_AbortRx_ISR
 3151              		.cfi_endproc
 3152              	.LFE143:
 3154              		.section	.text.HAL_SPI_DMAPause,"ax",%progbits
 3155              		.align	2
 3156              		.global	HAL_SPI_DMAPause
 3157              		.thumb
 3158              		.thumb_func
 3160              	HAL_SPI_DMAPause:
 3161              	.LFB145:
2301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
 3162              		.loc 1 2301 0
 3163              		.cfi_startproc
 3164              		@ args = 0, pretend = 0, frame = 0
 3165              		@ frame_needed = 0, uses_anonymous_args = 0
 3166              		@ link register save eliminated.
 3167              	.LVL250:
2303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3168              		.loc 1 2303 0
 3169 0000 90F85030 		ldrb	r3, [r0, #80]	@ zero_extendqisi2
 3170 0004 012B     		cmp	r3, #1
 3171 0006 0CD0     		beq	.L264
2303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3172              		.loc 1 2303 0 is_stmt 0 discriminator 2
 3173 0008 0123     		movs	r3, #1
 3174 000a 80F85030 		strb	r3, [r0, #80]
2306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3175              		.loc 1 2306 0 is_stmt 1 discriminator 2
 3176 000e 0268     		ldr	r2, [r0]
 3177 0010 5368     		ldr	r3, [r2, #4]
 3178 0012 23F00303 		bic	r3, r3, #3
 3179 0016 5360     		str	r3, [r2, #4]
2309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3180              		.loc 1 2309 0 discriminator 2
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 135


 3181 0018 0023     		movs	r3, #0
 3182 001a 80F85030 		strb	r3, [r0, #80]
2311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 3183              		.loc 1 2311 0 discriminator 2
 3184 001e 1846     		mov	r0, r3
 3185              	.LVL251:
 3186 0020 7047     		bx	lr
 3187              	.LVL252:
 3188              	.L264:
2303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3189              		.loc 1 2303 0
 3190 0022 0220     		movs	r0, #2
 3191              	.LVL253:
2312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3192              		.loc 1 2312 0
 3193 0024 7047     		bx	lr
 3194              		.cfi_endproc
 3195              	.LFE145:
 3197 0026 00BF     		.section	.text.HAL_SPI_DMAResume,"ax",%progbits
 3198              		.align	2
 3199              		.global	HAL_SPI_DMAResume
 3200              		.thumb
 3201              		.thumb_func
 3203              	HAL_SPI_DMAResume:
 3204              	.LFB146:
2321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Process Locked */
 3205              		.loc 1 2321 0
 3206              		.cfi_startproc
 3207              		@ args = 0, pretend = 0, frame = 0
 3208              		@ frame_needed = 0, uses_anonymous_args = 0
 3209              		@ link register save eliminated.
 3210              	.LVL254:
2323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3211              		.loc 1 2323 0
 3212 0000 90F85030 		ldrb	r3, [r0, #80]	@ zero_extendqisi2
 3213 0004 012B     		cmp	r3, #1
 3214 0006 0CD0     		beq	.L267
2323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3215              		.loc 1 2323 0 is_stmt 0 discriminator 2
 3216 0008 0123     		movs	r3, #1
 3217 000a 80F85030 		strb	r3, [r0, #80]
2326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3218              		.loc 1 2326 0 is_stmt 1 discriminator 2
 3219 000e 0268     		ldr	r2, [r0]
 3220 0010 5368     		ldr	r3, [r2, #4]
 3221 0012 43F00303 		orr	r3, r3, #3
 3222 0016 5360     		str	r3, [r2, #4]
2329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3223              		.loc 1 2329 0 discriminator 2
 3224 0018 0023     		movs	r3, #0
 3225 001a 80F85030 		strb	r3, [r0, #80]
2331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 3226              		.loc 1 2331 0 discriminator 2
 3227 001e 1846     		mov	r0, r3
 3228              	.LVL255:
 3229 0020 7047     		bx	lr
 3230              	.LVL256:
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 136


 3231              	.L267:
2323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3232              		.loc 1 2323 0
 3233 0022 0220     		movs	r0, #2
 3234              	.LVL257:
2332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3235              		.loc 1 2332 0
 3236 0024 7047     		bx	lr
 3237              		.cfi_endproc
 3238              	.LFE146:
 3240 0026 00BF     		.section	.text.HAL_SPI_DMAStop,"ax",%progbits
 3241              		.align	2
 3242              		.global	HAL_SPI_DMAStop
 3243              		.thumb
 3244              		.thumb_func
 3246              	HAL_SPI_DMAStop:
 3247              	.LFB147:
2341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode = HAL_OK;
 3248              		.loc 1 2341 0
 3249              		.cfi_startproc
 3250              		@ args = 0, pretend = 0, frame = 0
 3251              		@ frame_needed = 0, uses_anonymous_args = 0
 3252              	.LVL258:
 3253 0000 38B5     		push	{r3, r4, r5, lr}
 3254              	.LCFI34:
 3255              		.cfi_def_cfa_offset 16
 3256              		.cfi_offset 3, -16
 3257              		.cfi_offset 4, -12
 3258              		.cfi_offset 5, -8
 3259              		.cfi_offset 14, -4
 3260 0002 0446     		mov	r4, r0
 3261              	.LVL259:
2350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 3262              		.loc 1 2350 0
 3263 0004 806C     		ldr	r0, [r0, #72]
 3264              	.LVL260:
 3265 0006 40B1     		cbz	r0, .L271
2352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 3266              		.loc 1 2352 0
 3267 0008 FFF7FEFF 		bl	HAL_DMA_Abort
 3268              	.LVL261:
 3269 000c 38B1     		cbz	r0, .L272
2354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       errorcode = HAL_ERROR;
 3270              		.loc 1 2354 0
 3271 000e 636D     		ldr	r3, [r4, #84]
 3272 0010 43F01003 		orr	r3, r3, #16
 3273 0014 6365     		str	r3, [r4, #84]
 3274              	.LVL262:
2355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 3275              		.loc 1 2355 0
 3276 0016 0125     		movs	r5, #1
 3277 0018 02E0     		b	.L269
 3278              	.LVL263:
 3279              	.L271:
2342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* The Lock is not implemented on this API to allow the user application
 3280              		.loc 1 2342 0
 3281 001a 0025     		movs	r5, #0
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 137


 3282 001c 00E0     		b	.L269
 3283              	.L272:
 3284 001e 0025     		movs	r5, #0
 3285              	.LVL264:
 3286              	.L269:
2359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 3287              		.loc 1 2359 0
 3288 0020 E06C     		ldr	r0, [r4, #76]
 3289 0022 38B1     		cbz	r0, .L270
2361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 3290              		.loc 1 2361 0
 3291 0024 FFF7FEFF 		bl	HAL_DMA_Abort
 3292              	.LVL265:
 3293 0028 20B1     		cbz	r0, .L270
2363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       errorcode = HAL_ERROR;
 3294              		.loc 1 2363 0
 3295 002a 636D     		ldr	r3, [r4, #84]
 3296 002c 43F01003 		orr	r3, r3, #16
 3297 0030 6365     		str	r3, [r4, #84]
 3298              	.LVL266:
2364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 3299              		.loc 1 2364 0
 3300 0032 0125     		movs	r5, #1
 3301              	.LVL267:
 3302              	.L270:
2369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 3303              		.loc 1 2369 0
 3304 0034 2268     		ldr	r2, [r4]
 3305 0036 5368     		ldr	r3, [r2, #4]
 3306 0038 23F00303 		bic	r3, r3, #3
 3307 003c 5360     		str	r3, [r2, #4]
2370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   return errorcode;
 3308              		.loc 1 2370 0
 3309 003e 0123     		movs	r3, #1
 3310 0040 84F85130 		strb	r3, [r4, #81]
2372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3311              		.loc 1 2372 0
 3312 0044 2846     		mov	r0, r5
 3313 0046 38BD     		pop	{r3, r4, r5, pc}
 3314              		.cfi_endproc
 3315              	.LFE147:
 3317              		.section	.text.HAL_SPI_TxCpltCallback,"ax",%progbits
 3318              		.align	2
 3319              		.weak	HAL_SPI_TxCpltCallback
 3320              		.thumb
 3321              		.thumb_func
 3323              	HAL_SPI_TxCpltCallback:
 3324              	.LFB149:
2488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 3325              		.loc 1 2488 0
 3326              		.cfi_startproc
 3327              		@ args = 0, pretend = 0, frame = 0
 3328              		@ frame_needed = 0, uses_anonymous_args = 0
 3329              		@ link register save eliminated.
 3330              	.LVL268:
 3331 0000 7047     		bx	lr
 3332              		.cfi_endproc
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 138


 3333              	.LFE149:
 3335 0002 00BF     		.section	.text.HAL_SPI_RxCpltCallback,"ax",%progbits
 3336              		.align	2
 3337              		.weak	HAL_SPI_RxCpltCallback
 3338              		.thumb
 3339              		.thumb_func
 3341              	HAL_SPI_RxCpltCallback:
 3342              	.LFB150:
2504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 3343              		.loc 1 2504 0
 3344              		.cfi_startproc
 3345              		@ args = 0, pretend = 0, frame = 0
 3346              		@ frame_needed = 0, uses_anonymous_args = 0
 3347              		@ link register save eliminated.
 3348              	.LVL269:
 3349 0000 7047     		bx	lr
 3350              		.cfi_endproc
 3351              	.LFE150:
 3353 0002 00BF     		.section	.text.HAL_SPI_TxRxCpltCallback,"ax",%progbits
 3354              		.align	2
 3355              		.weak	HAL_SPI_TxRxCpltCallback
 3356              		.thumb
 3357              		.thumb_func
 3359              	HAL_SPI_TxRxCpltCallback:
 3360              	.LFB151:
2520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 3361              		.loc 1 2520 0
 3362              		.cfi_startproc
 3363              		@ args = 0, pretend = 0, frame = 0
 3364              		@ frame_needed = 0, uses_anonymous_args = 0
 3365              		@ link register save eliminated.
 3366              	.LVL270:
 3367 0000 7047     		bx	lr
 3368              		.cfi_endproc
 3369              	.LFE151:
 3371 0002 00BF     		.section	.text.HAL_SPI_TxHalfCpltCallback,"ax",%progbits
 3372              		.align	2
 3373              		.weak	HAL_SPI_TxHalfCpltCallback
 3374              		.thumb
 3375              		.thumb_func
 3377              	HAL_SPI_TxHalfCpltCallback:
 3378              	.LFB152:
2536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 3379              		.loc 1 2536 0
 3380              		.cfi_startproc
 3381              		@ args = 0, pretend = 0, frame = 0
 3382              		@ frame_needed = 0, uses_anonymous_args = 0
 3383              		@ link register save eliminated.
 3384              	.LVL271:
 3385 0000 7047     		bx	lr
 3386              		.cfi_endproc
 3387              	.LFE152:
 3389 0002 00BF     		.section	.text.SPI_DMAHalfTransmitCplt,"ax",%progbits
 3390              		.align	2
 3391              		.thumb
 3392              		.thumb_func
 3394              	SPI_DMAHalfTransmitCplt:
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 139


 3395              	.LFB162:
2900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 3396              		.loc 1 2900 0
 3397              		.cfi_startproc
 3398              		@ args = 0, pretend = 0, frame = 0
 3399              		@ frame_needed = 0, uses_anonymous_args = 0
 3400              	.LVL272:
2900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 3401              		.loc 1 2900 0
 3402 0000 08B5     		push	{r3, lr}
 3403              	.LCFI35:
 3404              		.cfi_def_cfa_offset 8
 3405              		.cfi_offset 3, -8
 3406              		.cfi_offset 14, -4
 3407              	.LVL273:
2907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 3408              		.loc 1 2907 0
 3409 0002 806B     		ldr	r0, [r0, #56]
 3410              	.LVL274:
 3411 0004 FFF7FEFF 		bl	HAL_SPI_TxHalfCpltCallback
 3412              	.LVL275:
 3413 0008 08BD     		pop	{r3, pc}
 3414              		.cfi_endproc
 3415              	.LFE162:
 3417 000a 00BF     		.section	.text.HAL_SPI_RxHalfCpltCallback,"ax",%progbits
 3418              		.align	2
 3419              		.weak	HAL_SPI_RxHalfCpltCallback
 3420              		.thumb
 3421              		.thumb_func
 3423              	HAL_SPI_RxHalfCpltCallback:
 3424              	.LFB153:
2552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 3425              		.loc 1 2552 0
 3426              		.cfi_startproc
 3427              		@ args = 0, pretend = 0, frame = 0
 3428              		@ frame_needed = 0, uses_anonymous_args = 0
 3429              		@ link register save eliminated.
 3430              	.LVL276:
 3431 0000 7047     		bx	lr
 3432              		.cfi_endproc
 3433              	.LFE153:
 3435 0002 00BF     		.section	.text.SPI_DMAHalfReceiveCplt,"ax",%progbits
 3436              		.align	2
 3437              		.thumb
 3438              		.thumb_func
 3440              	SPI_DMAHalfReceiveCplt:
 3441              	.LFB163:
2918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 3442              		.loc 1 2918 0
 3443              		.cfi_startproc
 3444              		@ args = 0, pretend = 0, frame = 0
 3445              		@ frame_needed = 0, uses_anonymous_args = 0
 3446              	.LVL277:
2918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 3447              		.loc 1 2918 0
 3448 0000 08B5     		push	{r3, lr}
 3449              	.LCFI36:
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 140


 3450              		.cfi_def_cfa_offset 8
 3451              		.cfi_offset 3, -8
 3452              		.cfi_offset 14, -4
 3453              	.LVL278:
2925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 3454              		.loc 1 2925 0
 3455 0002 806B     		ldr	r0, [r0, #56]
 3456              	.LVL279:
 3457 0004 FFF7FEFF 		bl	HAL_SPI_RxHalfCpltCallback
 3458              	.LVL280:
 3459 0008 08BD     		pop	{r3, pc}
 3460              		.cfi_endproc
 3461              	.LFE163:
 3463 000a 00BF     		.section	.text.HAL_SPI_TxRxHalfCpltCallback,"ax",%progbits
 3464              		.align	2
 3465              		.weak	HAL_SPI_TxRxHalfCpltCallback
 3466              		.thumb
 3467              		.thumb_func
 3469              	HAL_SPI_TxRxHalfCpltCallback:
 3470              	.LFB154:
2568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 3471              		.loc 1 2568 0
 3472              		.cfi_startproc
 3473              		@ args = 0, pretend = 0, frame = 0
 3474              		@ frame_needed = 0, uses_anonymous_args = 0
 3475              		@ link register save eliminated.
 3476              	.LVL281:
 3477 0000 7047     		bx	lr
 3478              		.cfi_endproc
 3479              	.LFE154:
 3481 0002 00BF     		.section	.text.SPI_DMAHalfTransmitReceiveCplt,"ax",%progbits
 3482              		.align	2
 3483              		.thumb
 3484              		.thumb_func
 3486              	SPI_DMAHalfTransmitReceiveCplt:
 3487              	.LFB164:
2936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 3488              		.loc 1 2936 0
 3489              		.cfi_startproc
 3490              		@ args = 0, pretend = 0, frame = 0
 3491              		@ frame_needed = 0, uses_anonymous_args = 0
 3492              	.LVL282:
2936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 3493              		.loc 1 2936 0
 3494 0000 08B5     		push	{r3, lr}
 3495              	.LCFI37:
 3496              		.cfi_def_cfa_offset 8
 3497              		.cfi_offset 3, -8
 3498              		.cfi_offset 14, -4
 3499              	.LVL283:
2943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 3500              		.loc 1 2943 0
 3501 0002 806B     		ldr	r0, [r0, #56]
 3502              	.LVL284:
 3503 0004 FFF7FEFF 		bl	HAL_SPI_TxRxHalfCpltCallback
 3504              	.LVL285:
 3505 0008 08BD     		pop	{r3, pc}
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 141


 3506              		.cfi_endproc
 3507              	.LFE164:
 3509 000a 00BF     		.section	.text.HAL_SPI_ErrorCallback,"ax",%progbits
 3510              		.align	2
 3511              		.weak	HAL_SPI_ErrorCallback
 3512              		.thumb
 3513              		.thumb_func
 3515              	HAL_SPI_ErrorCallback:
 3516              	.LFB155:
2584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 3517              		.loc 1 2584 0
 3518              		.cfi_startproc
 3519              		@ args = 0, pretend = 0, frame = 0
 3520              		@ frame_needed = 0, uses_anonymous_args = 0
 3521              		@ link register save eliminated.
 3522              	.LVL286:
 3523 0000 7047     		bx	lr
 3524              		.cfi_endproc
 3525              	.LFE155:
 3527 0002 00BF     		.section	.text.SPI_CloseTx_ISR,"ax",%progbits
 3528              		.align	2
 3529              		.thumb
 3530              		.thumb_func
 3532              	SPI_CloseTx_ISR:
 3533              	.LFB182:
3797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart;
 3534              		.loc 1 3797 0
 3535              		.cfi_startproc
 3536              		@ args = 0, pretend = 0, frame = 8
 3537              		@ frame_needed = 0, uses_anonymous_args = 0
 3538              	.LVL287:
3797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart;
 3539              		.loc 1 3797 0
 3540 0000 10B5     		push	{r4, lr}
 3541              	.LCFI38:
 3542              		.cfi_def_cfa_offset 8
 3543              		.cfi_offset 4, -8
 3544              		.cfi_offset 14, -4
 3545 0002 82B0     		sub	sp, sp, #8
 3546              	.LCFI39:
 3547              		.cfi_def_cfa_offset 16
 3548 0004 0446     		mov	r4, r0
3799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3549              		.loc 1 3799 0
 3550 0006 204B     		ldr	r3, .L296
 3551 0008 1B68     		ldr	r3, [r3]
 3552 000a 204A     		ldr	r2, .L296+4
 3553 000c A2FB0323 		umull	r2, r3, r2, r3
 3554 0010 5B0A     		lsrs	r3, r3, #9
 3555 0012 6422     		movs	r2, #100
 3556 0014 02FB03F3 		mul	r3, r2, r3
 3557 0018 0193     		str	r3, [sp, #4]
3802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3558              		.loc 1 3802 0
 3559 001a FFF7FEFF 		bl	HAL_GetTick
 3560              	.LVL288:
 3561 001e 0246     		mov	r2, r0
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 142


 3562              	.LVL289:
 3563              	.L290:
3807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 3564              		.loc 1 3807 0
 3565 0020 019B     		ldr	r3, [sp, #4]
 3566 0022 23B9     		cbnz	r3, .L288
3809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       break;
 3567              		.loc 1 3809 0
 3568 0024 636D     		ldr	r3, [r4, #84]
 3569 0026 43F02003 		orr	r3, r3, #32
 3570 002a 6365     		str	r3, [r4, #84]
3810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 3571              		.loc 1 3810 0
 3572 002c 07E0     		b	.L289
 3573              	.L288:
3812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 3574              		.loc 1 3812 0
 3575 002e 019B     		ldr	r3, [sp, #4]
 3576 0030 013B     		subs	r3, r3, #1
 3577 0032 0193     		str	r3, [sp, #4]
3813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3578              		.loc 1 3813 0
 3579 0034 2368     		ldr	r3, [r4]
 3580 0036 9B68     		ldr	r3, [r3, #8]
 3581 0038 13F0020F 		tst	r3, #2
 3582 003c F0D0     		beq	.L290
 3583              	.L289:
3816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3584              		.loc 1 3816 0
 3585 003e 2168     		ldr	r1, [r4]
 3586 0040 4B68     		ldr	r3, [r1, #4]
 3587 0042 23F0A003 		bic	r3, r3, #160
 3588 0046 4B60     		str	r3, [r1, #4]
3819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 3589              		.loc 1 3819 0
 3590 0048 6421     		movs	r1, #100
 3591 004a 2046     		mov	r0, r4
 3592              	.LVL290:
 3593 004c FFF7FEFF 		bl	SPI_EndRxTxTransaction
 3594              	.LVL291:
 3595 0050 18B1     		cbz	r0, .L291
3821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 3596              		.loc 1 3821 0
 3597 0052 636D     		ldr	r3, [r4, #84]
 3598 0054 43F02003 		orr	r3, r3, #32
 3599 0058 6365     		str	r3, [r4, #84]
 3600              	.L291:
3825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 3601              		.loc 1 3825 0
 3602 005a A368     		ldr	r3, [r4, #8]
 3603 005c 33B9     		cbnz	r3, .L292
 3604              	.LBB6:
3827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 3605              		.loc 1 3827 0
 3606 005e 0093     		str	r3, [sp]
 3607 0060 2368     		ldr	r3, [r4]
 3608 0062 DA68     		ldr	r2, [r3, #12]
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 143


 3609 0064 0092     		str	r2, [sp]
 3610 0066 9B68     		ldr	r3, [r3, #8]
 3611 0068 0093     		str	r3, [sp]
 3612 006a 009B     		ldr	r3, [sp]
 3613              	.L292:
 3614              	.LBE6:
3830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   if (hspi->ErrorCode != HAL_SPI_ERROR_NONE)
 3615              		.loc 1 3830 0
 3616 006c 0123     		movs	r3, #1
 3617 006e 84F85130 		strb	r3, [r4, #81]
3831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 3618              		.loc 1 3831 0
 3619 0072 636D     		ldr	r3, [r4, #84]
 3620 0074 1BB1     		cbz	r3, .L293
3837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 3621              		.loc 1 3837 0
 3622 0076 2046     		mov	r0, r4
 3623 0078 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 3624              	.LVL292:
 3625 007c 02E0     		b	.L287
 3626              	.L293:
3846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 3627              		.loc 1 3846 0
 3628 007e 2046     		mov	r0, r4
 3629 0080 FFF7FEFF 		bl	HAL_SPI_TxCpltCallback
 3630              	.LVL293:
 3631              	.L287:
3849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3632              		.loc 1 3849 0
 3633 0084 02B0     		add	sp, sp, #8
 3634              	.LCFI40:
 3635              		.cfi_def_cfa_offset 8
 3636              		@ sp needed
 3637 0086 10BD     		pop	{r4, pc}
 3638              	.LVL294:
 3639              	.L297:
 3640              		.align	2
 3641              	.L296:
 3642 0088 00000000 		.word	SystemCoreClock
 3643 008c F1197605 		.word	91625969
 3644              		.cfi_endproc
 3645              	.LFE182:
 3647              		.section	.text.SPI_TxISR_8BIT,"ax",%progbits
 3648              		.align	2
 3649              		.thumb
 3650              		.thumb_func
 3652              	SPI_TxISR_8BIT:
 3653              	.LFB175:
3427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr);
 3654              		.loc 1 3427 0
 3655              		.cfi_startproc
 3656              		@ args = 0, pretend = 0, frame = 0
 3657              		@ frame_needed = 0, uses_anonymous_args = 0
 3658              	.LVL295:
 3659 0000 08B5     		push	{r3, lr}
 3660              	.LCFI41:
 3661              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 144


 3662              		.cfi_offset 3, -8
 3663              		.cfi_offset 14, -4
3428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 3664              		.loc 1 3428 0
 3665 0002 0368     		ldr	r3, [r0]
 3666 0004 026B     		ldr	r2, [r0, #48]
 3667 0006 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 3668 0008 1A73     		strb	r2, [r3, #12]
3429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount--;
 3669              		.loc 1 3429 0
 3670 000a 036B     		ldr	r3, [r0, #48]
 3671 000c 0133     		adds	r3, r3, #1
 3672 000e 0363     		str	r3, [r0, #48]
3430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3673              		.loc 1 3430 0
 3674 0010 C38E     		ldrh	r3, [r0, #54]
 3675 0012 9BB2     		uxth	r3, r3
 3676 0014 013B     		subs	r3, r3, #1
 3677 0016 9BB2     		uxth	r3, r3
 3678 0018 C386     		strh	r3, [r0, #54]	@ movhi
3432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 3679              		.loc 1 3432 0
 3680 001a C38E     		ldrh	r3, [r0, #54]
 3681 001c 9BB2     		uxth	r3, r3
 3682 001e 0BB9     		cbnz	r3, .L298
3441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 3683              		.loc 1 3441 0
 3684 0020 FFF7FEFF 		bl	SPI_CloseTx_ISR
 3685              	.LVL296:
 3686              	.L298:
 3687 0024 08BD     		pop	{r3, pc}
 3688              		.cfi_endproc
 3689              	.LFE175:
 3691 0026 00BF     		.section	.text.SPI_TxISR_16BIT,"ax",%progbits
 3692              		.align	2
 3693              		.thumb
 3694              		.thumb_func
 3696              	SPI_TxISR_16BIT:
 3697              	.LFB176:
3452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 3698              		.loc 1 3452 0
 3699              		.cfi_startproc
 3700              		@ args = 0, pretend = 0, frame = 0
 3701              		@ frame_needed = 0, uses_anonymous_args = 0
 3702              	.LVL297:
 3703 0000 08B5     		push	{r3, lr}
 3704              	.LCFI42:
 3705              		.cfi_def_cfa_offset 8
 3706              		.cfi_offset 3, -8
 3707              		.cfi_offset 14, -4
3454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 3708              		.loc 1 3454 0
 3709 0002 0368     		ldr	r3, [r0]
 3710 0004 026B     		ldr	r2, [r0, #48]
 3711 0006 1288     		ldrh	r2, [r2]
 3712 0008 DA60     		str	r2, [r3, #12]
3455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount--;
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 145


 3713              		.loc 1 3455 0
 3714 000a 036B     		ldr	r3, [r0, #48]
 3715 000c 0233     		adds	r3, r3, #2
 3716 000e 0363     		str	r3, [r0, #48]
3456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3717              		.loc 1 3456 0
 3718 0010 C38E     		ldrh	r3, [r0, #54]
 3719 0012 9BB2     		uxth	r3, r3
 3720 0014 013B     		subs	r3, r3, #1
 3721 0016 9BB2     		uxth	r3, r3
 3722 0018 C386     		strh	r3, [r0, #54]	@ movhi
3458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 3723              		.loc 1 3458 0
 3724 001a C38E     		ldrh	r3, [r0, #54]
 3725 001c 9BB2     		uxth	r3, r3
 3726 001e 0BB9     		cbnz	r3, .L301
3467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 3727              		.loc 1 3467 0
 3728 0020 FFF7FEFF 		bl	SPI_CloseTx_ISR
 3729              	.LVL298:
 3730              	.L301:
 3731 0024 08BD     		pop	{r3, pc}
 3732              		.cfi_endproc
 3733              	.LFE176:
 3735 0026 00BF     		.section	.text.SPI_CloseRx_ISR,"ax",%progbits
 3736              		.align	2
 3737              		.thumb
 3738              		.thumb_func
 3740              	SPI_CloseRx_ISR:
 3741              	.LFB181:
3734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Disable RXNE and ERR interrupt */
 3742              		.loc 1 3734 0
 3743              		.cfi_startproc
 3744              		@ args = 0, pretend = 0, frame = 8
 3745              		@ frame_needed = 0, uses_anonymous_args = 0
 3746              	.LVL299:
 3747 0000 10B5     		push	{r4, lr}
 3748              	.LCFI43:
 3749              		.cfi_def_cfa_offset 8
 3750              		.cfi_offset 4, -8
 3751              		.cfi_offset 14, -4
 3752 0002 82B0     		sub	sp, sp, #8
 3753              	.LCFI44:
 3754              		.cfi_def_cfa_offset 16
 3755 0004 0446     		mov	r4, r0
3736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3756              		.loc 1 3736 0
 3757 0006 0268     		ldr	r2, [r0]
 3758 0008 5368     		ldr	r3, [r2, #4]
 3759 000a 23F06003 		bic	r3, r3, #96
 3760 000e 5360     		str	r3, [r2, #4]
3739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 3761              		.loc 1 3739 0
 3762 0010 FFF7FEFF 		bl	HAL_GetTick
 3763              	.LVL300:
 3764 0014 0246     		mov	r2, r0
 3765 0016 6421     		movs	r1, #100
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 146


 3766 0018 2046     		mov	r0, r4
 3767 001a FFF7FEFF 		bl	SPI_EndRxTransaction
 3768              	.LVL301:
 3769 001e 18B1     		cbz	r0, .L305
3741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 3770              		.loc 1 3741 0
 3771 0020 636D     		ldr	r3, [r4, #84]
 3772 0022 43F02003 		orr	r3, r3, #32
 3773 0026 6365     		str	r3, [r4, #84]
 3774              	.L305:
3745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 3775              		.loc 1 3745 0
 3776 0028 A368     		ldr	r3, [r4, #8]
 3777 002a 33B9     		cbnz	r3, .L306
 3778              	.LBB7:
3747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 3779              		.loc 1 3747 0
 3780 002c 0193     		str	r3, [sp, #4]
 3781 002e 2368     		ldr	r3, [r4]
 3782 0030 DA68     		ldr	r2, [r3, #12]
 3783 0032 0192     		str	r2, [sp, #4]
 3784 0034 9B68     		ldr	r3, [r3, #8]
 3785 0036 0193     		str	r3, [sp, #4]
 3786 0038 019B     		ldr	r3, [sp, #4]
 3787              	.L306:
 3788              	.LBE7:
3749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3789              		.loc 1 3749 0
 3790 003a 0123     		movs	r3, #1
 3791 003c 84F85130 		strb	r3, [r4, #81]
3767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 3792              		.loc 1 3767 0
 3793 0040 636D     		ldr	r3, [r4, #84]
 3794 0042 1BB9     		cbnz	r3, .L307
3773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 3795              		.loc 1 3773 0
 3796 0044 2046     		mov	r0, r4
 3797 0046 FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 3798              	.LVL302:
 3799 004a 02E0     		b	.L304
 3800              	.L307:
3782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 3801              		.loc 1 3782 0
 3802 004c 2046     		mov	r0, r4
 3803 004e FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 3804              	.LVL303:
 3805              	.L304:
3788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3806              		.loc 1 3788 0
 3807 0052 02B0     		add	sp, sp, #8
 3808              	.LCFI45:
 3809              		.cfi_def_cfa_offset 8
 3810              		@ sp needed
 3811 0054 10BD     		pop	{r4, pc}
 3812              		.cfi_endproc
 3813              	.LFE181:
 3815 0056 00BF     		.section	.text.SPI_RxISR_8BIT,"ax",%progbits
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 147


 3816              		.align	2
 3817              		.thumb
 3818              		.thumb_func
 3820              	SPI_RxISR_8BIT:
 3821              	.LFB173:
3338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *hspi->pRxBuffPtr = (*(__IO uint8_t *)&hspi->Instance->DR);
 3822              		.loc 1 3338 0
 3823              		.cfi_startproc
 3824              		@ args = 0, pretend = 0, frame = 0
 3825              		@ frame_needed = 0, uses_anonymous_args = 0
 3826              	.LVL304:
 3827 0000 08B5     		push	{r3, lr}
 3828              	.LCFI46:
 3829              		.cfi_def_cfa_offset 8
 3830              		.cfi_offset 3, -8
 3831              		.cfi_offset 14, -4
3339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 3832              		.loc 1 3339 0
 3833 0002 836B     		ldr	r3, [r0, #56]
 3834 0004 0268     		ldr	r2, [r0]
 3835 0006 127B     		ldrb	r2, [r2, #12]	@ zero_extendqisi2
 3836 0008 1A70     		strb	r2, [r3]
3340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount--;
 3837              		.loc 1 3340 0
 3838 000a 836B     		ldr	r3, [r0, #56]
 3839 000c 0133     		adds	r3, r3, #1
 3840 000e 8363     		str	r3, [r0, #56]
3341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3841              		.loc 1 3341 0
 3842 0010 C38F     		ldrh	r3, [r0, #62]
 3843 0012 9BB2     		uxth	r3, r3
 3844 0014 013B     		subs	r3, r3, #1
 3845 0016 9BB2     		uxth	r3, r3
 3846 0018 C387     		strh	r3, [r0, #62]	@ movhi
3351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 3847              		.loc 1 3351 0
 3848 001a C38F     		ldrh	r3, [r0, #62]
 3849 001c 9BB2     		uxth	r3, r3
 3850 001e 0BB9     		cbnz	r3, .L310
3360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 3851              		.loc 1 3360 0
 3852 0020 FFF7FEFF 		bl	SPI_CloseRx_ISR
 3853              	.LVL305:
 3854              	.L310:
 3855 0024 08BD     		pop	{r3, pc}
 3856              		.cfi_endproc
 3857              	.LFE173:
 3859 0026 00BF     		.section	.text.SPI_RxISR_16BIT,"ax",%progbits
 3860              		.align	2
 3861              		.thumb
 3862              		.thumb_func
 3864              	SPI_RxISR_16BIT:
 3865              	.LFB174:
3394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *((uint16_t *)hspi->pRxBuffPtr) = (uint16_t)(hspi->Instance->DR);
 3866              		.loc 1 3394 0
 3867              		.cfi_startproc
 3868              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 148


 3869              		@ frame_needed = 0, uses_anonymous_args = 0
 3870              	.LVL306:
 3871 0000 08B5     		push	{r3, lr}
 3872              	.LCFI47:
 3873              		.cfi_def_cfa_offset 8
 3874              		.cfi_offset 3, -8
 3875              		.cfi_offset 14, -4
3395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 3876              		.loc 1 3395 0
 3877 0002 836B     		ldr	r3, [r0, #56]
 3878 0004 0268     		ldr	r2, [r0]
 3879 0006 D268     		ldr	r2, [r2, #12]
 3880 0008 1A80     		strh	r2, [r3]	@ movhi
3396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount--;
 3881              		.loc 1 3396 0
 3882 000a 836B     		ldr	r3, [r0, #56]
 3883 000c 0233     		adds	r3, r3, #2
 3884 000e 8363     		str	r3, [r0, #56]
3397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3885              		.loc 1 3397 0
 3886 0010 C38F     		ldrh	r3, [r0, #62]
 3887 0012 9BB2     		uxth	r3, r3
 3888 0014 013B     		subs	r3, r3, #1
 3889 0016 9BB2     		uxth	r3, r3
 3890 0018 C387     		strh	r3, [r0, #62]	@ movhi
3407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 3891              		.loc 1 3407 0
 3892 001a C38F     		ldrh	r3, [r0, #62]
 3893 001c 9BB2     		uxth	r3, r3
 3894 001e 0BB9     		cbnz	r3, .L313
3416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 3895              		.loc 1 3416 0
 3896 0020 FFF7FEFF 		bl	SPI_CloseRx_ISR
 3897              	.LVL307:
 3898              	.L313:
 3899 0024 08BD     		pop	{r3, pc}
 3900              		.cfi_endproc
 3901              	.LFE174:
 3903 0026 00BF     		.section	.text.SPI_CloseRxTx_ISR,"ax",%progbits
 3904              		.align	2
 3905              		.thumb
 3906              		.thumb_func
 3908              	SPI_CloseRxTx_ISR:
 3909              	.LFB180:
3639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart;
 3910              		.loc 1 3639 0
 3911              		.cfi_startproc
 3912              		@ args = 0, pretend = 0, frame = 8
 3913              		@ frame_needed = 0, uses_anonymous_args = 0
 3914              	.LVL308:
 3915 0000 10B5     		push	{r4, lr}
 3916              	.LCFI48:
 3917              		.cfi_def_cfa_offset 8
 3918              		.cfi_offset 4, -8
 3919              		.cfi_offset 14, -4
 3920 0002 82B0     		sub	sp, sp, #8
 3921              	.LCFI49:
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 149


 3922              		.cfi_def_cfa_offset 16
 3923 0004 0446     		mov	r4, r0
3641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3924              		.loc 1 3641 0
 3925 0006 284B     		ldr	r3, .L326
 3926 0008 1B68     		ldr	r3, [r3]
 3927 000a 284A     		ldr	r2, .L326+4
 3928 000c A2FB0323 		umull	r2, r3, r2, r3
 3929 0010 5B0A     		lsrs	r3, r3, #9
 3930 0012 6422     		movs	r2, #100
 3931 0014 02FB03F3 		mul	r3, r2, r3
 3932 0018 0193     		str	r3, [sp, #4]
3644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3933              		.loc 1 3644 0
 3934 001a FFF7FEFF 		bl	HAL_GetTick
 3935              	.LVL309:
 3936 001e 0246     		mov	r2, r0
 3937              	.LVL310:
3647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3938              		.loc 1 3647 0
 3939 0020 2168     		ldr	r1, [r4]
 3940 0022 4B68     		ldr	r3, [r1, #4]
 3941 0024 23F02003 		bic	r3, r3, #32
 3942 0028 4B60     		str	r3, [r1, #4]
 3943              	.L319:
3652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 3944              		.loc 1 3652 0
 3945 002a 019B     		ldr	r3, [sp, #4]
 3946 002c 23B9     		cbnz	r3, .L317
3654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       break;
 3947              		.loc 1 3654 0
 3948 002e 636D     		ldr	r3, [r4, #84]
 3949 0030 43F02003 		orr	r3, r3, #32
 3950 0034 6365     		str	r3, [r4, #84]
3655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 3951              		.loc 1 3655 0
 3952 0036 07E0     		b	.L318
 3953              	.L317:
3657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 3954              		.loc 1 3657 0
 3955 0038 019B     		ldr	r3, [sp, #4]
 3956 003a 013B     		subs	r3, r3, #1
 3957 003c 0193     		str	r3, [sp, #4]
3658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 3958              		.loc 1 3658 0
 3959 003e 2368     		ldr	r3, [r4]
 3960 0040 9B68     		ldr	r3, [r3, #8]
 3961 0042 13F0020F 		tst	r3, #2
 3962 0046 F0D0     		beq	.L319
 3963              	.L318:
3661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 3964              		.loc 1 3661 0
 3965 0048 6421     		movs	r1, #100
 3966 004a 2046     		mov	r0, r4
 3967              	.LVL311:
 3968 004c FFF7FEFF 		bl	SPI_EndRxTxTransaction
 3969              	.LVL312:
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 150


 3970 0050 18B1     		cbz	r0, .L320
3663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 3971              		.loc 1 3663 0
 3972 0052 636D     		ldr	r3, [r4, #84]
 3973 0054 43F02003 		orr	r3, r3, #32
 3974 0058 6365     		str	r3, [r4, #84]
 3975              	.L320:
3667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 3976              		.loc 1 3667 0
 3977 005a A368     		ldr	r3, [r4, #8]
 3978 005c 33B9     		cbnz	r3, .L321
 3979              	.LBB8:
3669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 3980              		.loc 1 3669 0
 3981 005e 0093     		str	r3, [sp]
 3982 0060 2368     		ldr	r3, [r4]
 3983 0062 DA68     		ldr	r2, [r3, #12]
 3984 0064 0092     		str	r2, [sp]
 3985 0066 9B68     		ldr	r3, [r3, #8]
 3986 0068 0093     		str	r3, [sp]
 3987 006a 009B     		ldr	r3, [sp]
 3988              	.L321:
 3989              	.LBE8:
3689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 3990              		.loc 1 3689 0
 3991 006c 636D     		ldr	r3, [r4, #84]
 3992 006e 93B9     		cbnz	r3, .L322
3691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 3993              		.loc 1 3691 0
 3994 0070 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 3995 0074 DBB2     		uxtb	r3, r3
 3996 0076 042B     		cmp	r3, #4
 3997 0078 06D1     		bne	.L323
3693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Call user Rx complete callback */
 3998              		.loc 1 3693 0
 3999 007a 0123     		movs	r3, #1
 4000 007c 84F85130 		strb	r3, [r4, #81]
3698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4001              		.loc 1 3698 0
 4002 0080 2046     		mov	r0, r4
 4003 0082 FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 4004              	.LVL313:
 4005 0086 0CE0     		b	.L316
 4006              	.L323:
3703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         /* Call user TxRx complete callback */
 4007              		.loc 1 3703 0
 4008 0088 0123     		movs	r3, #1
 4009 008a 84F85130 		strb	r3, [r4, #81]
3708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4010              		.loc 1 3708 0
 4011 008e 2046     		mov	r0, r4
 4012 0090 FFF7FEFF 		bl	HAL_SPI_TxRxCpltCallback
 4013              	.LVL314:
 4014 0094 05E0     		b	.L316
 4015              	.L322:
3714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Call user error callback */
 4016              		.loc 1 3714 0
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 151


 4017 0096 0123     		movs	r3, #1
 4018 0098 84F85130 		strb	r3, [r4, #81]
3719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4019              		.loc 1 3719 0
 4020 009c 2046     		mov	r0, r4
 4021 009e FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 4022              	.LVL315:
 4023              	.L316:
3725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4024              		.loc 1 3725 0
 4025 00a2 02B0     		add	sp, sp, #8
 4026              	.LCFI50:
 4027              		.cfi_def_cfa_offset 8
 4028              		@ sp needed
 4029 00a4 10BD     		pop	{r4, pc}
 4030              	.LVL316:
 4031              	.L327:
 4032 00a6 00BF     		.align	2
 4033              	.L326:
 4034 00a8 00000000 		.word	SystemCoreClock
 4035 00ac F1197605 		.word	91625969
 4036              		.cfi_endproc
 4037              	.LFE180:
 4039              		.section	.text.SPI_2linesTxISR_8BIT,"ax",%progbits
 4040              		.align	2
 4041              		.thumb
 4042              		.thumb_func
 4044              	SPI_2linesTxISR_8BIT:
 4045              	.LFB170:
3186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   *(__IO uint8_t *)&hspi->Instance->DR = (*hspi->pTxBuffPtr);
 4046              		.loc 1 3186 0
 4047              		.cfi_startproc
 4048              		@ args = 0, pretend = 0, frame = 0
 4049              		@ frame_needed = 0, uses_anonymous_args = 0
 4050              	.LVL317:
 4051 0000 08B5     		push	{r3, lr}
 4052              	.LCFI51:
 4053              		.cfi_def_cfa_offset 8
 4054              		.cfi_offset 3, -8
 4055              		.cfi_offset 14, -4
3187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr++;
 4056              		.loc 1 3187 0
 4057 0002 0368     		ldr	r3, [r0]
 4058 0004 026B     		ldr	r2, [r0, #48]
 4059 0006 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 4060 0008 1A73     		strb	r2, [r3, #12]
3188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount--;
 4061              		.loc 1 3188 0
 4062 000a 036B     		ldr	r3, [r0, #48]
 4063 000c 0133     		adds	r3, r3, #1
 4064 000e 0363     		str	r3, [r0, #48]
3189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4065              		.loc 1 3189 0
 4066 0010 C38E     		ldrh	r3, [r0, #54]
 4067 0012 9BB2     		uxth	r3, r3
 4068 0014 013B     		subs	r3, r3, #1
 4069 0016 9BB2     		uxth	r3, r3
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 152


 4070 0018 C386     		strh	r3, [r0, #54]	@ movhi
3192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 4071              		.loc 1 3192 0
 4072 001a C38E     		ldrh	r3, [r0, #54]
 4073 001c 9BB2     		uxth	r3, r3
 4074 001e 4BB9     		cbnz	r3, .L328
3206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4075              		.loc 1 3206 0
 4076 0020 0268     		ldr	r2, [r0]
 4077 0022 5368     		ldr	r3, [r2, #4]
 4078 0024 23F08003 		bic	r3, r3, #128
 4079 0028 5360     		str	r3, [r2, #4]
3208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4080              		.loc 1 3208 0
 4081 002a C38F     		ldrh	r3, [r0, #62]
 4082 002c 9BB2     		uxth	r3, r3
 4083 002e 0BB9     		cbnz	r3, .L328
3210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 4084              		.loc 1 3210 0
 4085 0030 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 4086              	.LVL318:
 4087              	.L328:
 4088 0034 08BD     		pop	{r3, pc}
 4089              		.cfi_endproc
 4090              	.LFE170:
 4092 0036 00BF     		.section	.text.SPI_2linesRxISR_8BIT,"ax",%progbits
 4093              		.align	2
 4094              		.thumb
 4095              		.thumb_func
 4097              	SPI_2linesRxISR_8BIT:
 4098              	.LFB169:
3123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Receive data in 8bit mode */
 4099              		.loc 1 3123 0
 4100              		.cfi_startproc
 4101              		@ args = 0, pretend = 0, frame = 0
 4102              		@ frame_needed = 0, uses_anonymous_args = 0
 4103              	.LVL319:
 4104 0000 08B5     		push	{r3, lr}
 4105              	.LCFI52:
 4106              		.cfi_def_cfa_offset 8
 4107              		.cfi_offset 3, -8
 4108              		.cfi_offset 14, -4
3125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr++;
 4109              		.loc 1 3125 0
 4110 0002 836B     		ldr	r3, [r0, #56]
 4111 0004 0268     		ldr	r2, [r0]
 4112 0006 127B     		ldrb	r2, [r2, #12]	@ zero_extendqisi2
 4113 0008 1A70     		strb	r2, [r3]
3126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount--;
 4114              		.loc 1 3126 0
 4115 000a 836B     		ldr	r3, [r0, #56]
 4116 000c 0133     		adds	r3, r3, #1
 4117 000e 8363     		str	r3, [r0, #56]
3127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4118              		.loc 1 3127 0
 4119 0010 C38F     		ldrh	r3, [r0, #62]
 4120 0012 9BB2     		uxth	r3, r3
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 153


 4121 0014 013B     		subs	r3, r3, #1
 4122 0016 9BB2     		uxth	r3, r3
 4123 0018 C387     		strh	r3, [r0, #62]	@ movhi
3130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 4124              		.loc 1 3130 0
 4125 001a C38F     		ldrh	r3, [r0, #62]
 4126 001c 9BB2     		uxth	r3, r3
 4127 001e 4BB9     		cbnz	r3, .L331
3141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4128              		.loc 1 3141 0
 4129 0020 0268     		ldr	r2, [r0]
 4130 0022 5368     		ldr	r3, [r2, #4]
 4131 0024 23F06003 		bic	r3, r3, #96
 4132 0028 5360     		str	r3, [r2, #4]
3143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4133              		.loc 1 3143 0
 4134 002a C38E     		ldrh	r3, [r0, #54]
 4135 002c 9BB2     		uxth	r3, r3
 4136 002e 0BB9     		cbnz	r3, .L331
3145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 4137              		.loc 1 3145 0
 4138 0030 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 4139              	.LVL320:
 4140              	.L331:
 4141 0034 08BD     		pop	{r3, pc}
 4142              		.cfi_endproc
 4143              	.LFE169:
 4145 0036 00BF     		.section	.text.SPI_2linesTxISR_16BIT,"ax",%progbits
 4146              		.align	2
 4147              		.thumb
 4148              		.thumb_func
 4150              	SPI_2linesTxISR_16BIT:
 4151              	.LFB172:
3278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Transmit data in 16 Bit mode */
 4152              		.loc 1 3278 0
 4153              		.cfi_startproc
 4154              		@ args = 0, pretend = 0, frame = 0
 4155              		@ frame_needed = 0, uses_anonymous_args = 0
 4156              	.LVL321:
 4157 0000 08B5     		push	{r3, lr}
 4158              	.LCFI53:
 4159              		.cfi_def_cfa_offset 8
 4160              		.cfi_offset 3, -8
 4161              		.cfi_offset 14, -4
3280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pTxBuffPtr += sizeof(uint16_t);
 4162              		.loc 1 3280 0
 4163 0002 0368     		ldr	r3, [r0]
 4164 0004 026B     		ldr	r2, [r0, #48]
 4165 0006 1288     		ldrh	r2, [r2]
 4166 0008 DA60     		str	r2, [r3, #12]
3281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount--;
 4167              		.loc 1 3281 0
 4168 000a 036B     		ldr	r3, [r0, #48]
 4169 000c 0233     		adds	r3, r3, #2
 4170 000e 0363     		str	r3, [r0, #48]
3282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4171              		.loc 1 3282 0
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 154


 4172 0010 C38E     		ldrh	r3, [r0, #54]
 4173 0012 9BB2     		uxth	r3, r3
 4174 0014 013B     		subs	r3, r3, #1
 4175 0016 9BB2     		uxth	r3, r3
 4176 0018 C386     		strh	r3, [r0, #54]	@ movhi
3285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 4177              		.loc 1 3285 0
 4178 001a C38E     		ldrh	r3, [r0, #54]
 4179 001c 9BB2     		uxth	r3, r3
 4180 001e 4BB9     		cbnz	r3, .L334
3299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4181              		.loc 1 3299 0
 4182 0020 0268     		ldr	r2, [r0]
 4183 0022 5368     		ldr	r3, [r2, #4]
 4184 0024 23F08003 		bic	r3, r3, #128
 4185 0028 5360     		str	r3, [r2, #4]
3301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4186              		.loc 1 3301 0
 4187 002a C38F     		ldrh	r3, [r0, #62]
 4188 002c 9BB2     		uxth	r3, r3
 4189 002e 0BB9     		cbnz	r3, .L334
3303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 4190              		.loc 1 3303 0
 4191 0030 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 4192              	.LVL322:
 4193              	.L334:
 4194 0034 08BD     		pop	{r3, pc}
 4195              		.cfi_endproc
 4196              	.LFE172:
 4198 0036 00BF     		.section	.text.SPI_2linesRxISR_16BIT,"ax",%progbits
 4199              		.align	2
 4200              		.thumb
 4201              		.thumb_func
 4203              	SPI_2linesRxISR_16BIT:
 4204              	.LFB171:
3222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Receive data in 16 Bit mode */
 4205              		.loc 1 3222 0
 4206              		.cfi_startproc
 4207              		@ args = 0, pretend = 0, frame = 0
 4208              		@ frame_needed = 0, uses_anonymous_args = 0
 4209              	.LVL323:
 4210 0000 08B5     		push	{r3, lr}
 4211              	.LCFI54:
 4212              		.cfi_def_cfa_offset 8
 4213              		.cfi_offset 3, -8
 4214              		.cfi_offset 14, -4
3224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->pRxBuffPtr += sizeof(uint16_t);
 4215              		.loc 1 3224 0
 4216 0002 836B     		ldr	r3, [r0, #56]
 4217 0004 0268     		ldr	r2, [r0]
 4218 0006 D268     		ldr	r2, [r2, #12]
 4219 0008 1A80     		strh	r2, [r3]	@ movhi
3225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount--;
 4220              		.loc 1 3225 0
 4221 000a 836B     		ldr	r3, [r0, #56]
 4222 000c 0233     		adds	r3, r3, #2
 4223 000e 8363     		str	r3, [r0, #56]
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 155


3226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4224              		.loc 1 3226 0
 4225 0010 C38F     		ldrh	r3, [r0, #62]
 4226 0012 9BB2     		uxth	r3, r3
 4227 0014 013B     		subs	r3, r3, #1
 4228 0016 9BB2     		uxth	r3, r3
 4229 0018 C387     		strh	r3, [r0, #62]	@ movhi
3228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 4230              		.loc 1 3228 0
 4231 001a C38F     		ldrh	r3, [r0, #62]
 4232 001c 9BB2     		uxth	r3, r3
 4233 001e 4BB9     		cbnz	r3, .L337
3239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4234              		.loc 1 3239 0
 4235 0020 0268     		ldr	r2, [r0]
 4236 0022 5368     		ldr	r3, [r2, #4]
 4237 0024 23F04003 		bic	r3, r3, #64
 4238 0028 5360     		str	r3, [r2, #4]
3241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4239              		.loc 1 3241 0
 4240 002a C38E     		ldrh	r3, [r0, #54]
 4241 002c 9BB2     		uxth	r3, r3
 4242 002e 0BB9     		cbnz	r3, .L337
3243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 4243              		.loc 1 3243 0
 4244 0030 FFF7FEFF 		bl	SPI_CloseRxTx_ISR
 4245              	.LVL324:
 4246              	.L337:
 4247 0034 08BD     		pop	{r3, pc}
 4248              		.cfi_endproc
 4249              	.LFE171:
 4251 0036 00BF     		.section	.text.SPI_DMAError,"ax",%progbits
 4252              		.align	2
 4253              		.thumb
 4254              		.thumb_func
 4256              	SPI_DMAError:
 4257              	.LFB165:
2954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 4258              		.loc 1 2954 0
 4259              		.cfi_startproc
 4260              		@ args = 0, pretend = 0, frame = 0
 4261              		@ frame_needed = 0, uses_anonymous_args = 0
 4262              	.LVL325:
 4263 0000 08B5     		push	{r3, lr}
 4264              	.LCFI55:
 4265              		.cfi_def_cfa_offset 8
 4266              		.cfi_offset 3, -8
 4267              		.cfi_offset 14, -4
2955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4268              		.loc 1 2955 0
 4269 0002 806B     		ldr	r0, [r0, #56]
 4270              	.LVL326:
2958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4271              		.loc 1 2958 0
 4272 0004 0268     		ldr	r2, [r0]
 4273 0006 5368     		ldr	r3, [r2, #4]
 4274 0008 23F00303 		bic	r3, r3, #3
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 156


 4275 000c 5360     		str	r3, [r2, #4]
2960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->State = HAL_SPI_STATE_READY;
 4276              		.loc 1 2960 0
 4277 000e 436D     		ldr	r3, [r0, #84]
 4278 0010 43F01003 		orr	r3, r3, #16
 4279 0014 4365     		str	r3, [r0, #84]
2961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Call user error callback */
 4280              		.loc 1 2961 0
 4281 0016 0123     		movs	r3, #1
 4282 0018 80F85130 		strb	r3, [r0, #81]
2966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4283              		.loc 1 2966 0
 4284 001c FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 4285              	.LVL327:
 4286 0020 08BD     		pop	{r3, pc}
 4287              		.cfi_endproc
 4288              	.LFE165:
 4290 0022 00BF     		.section	.text.SPI_DMATransmitCplt,"ax",%progbits
 4291              		.align	2
 4292              		.thumb
 4293              		.thumb_func
 4295              	SPI_DMATransmitCplt:
 4296              	.LFB159:
2674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 4297              		.loc 1 2674 0
 4298              		.cfi_startproc
 4299              		@ args = 0, pretend = 0, frame = 8
 4300              		@ frame_needed = 0, uses_anonymous_args = 0
 4301              	.LVL328:
 4302 0000 30B5     		push	{r4, r5, lr}
 4303              	.LCFI56:
 4304              		.cfi_def_cfa_offset 12
 4305              		.cfi_offset 4, -12
 4306              		.cfi_offset 5, -8
 4307              		.cfi_offset 14, -4
 4308 0002 83B0     		sub	sp, sp, #12
 4309              	.LCFI57:
 4310              		.cfi_def_cfa_offset 24
 4311 0004 0546     		mov	r5, r0
2675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart;
 4312              		.loc 1 2675 0
 4313 0006 846B     		ldr	r4, [r0, #56]
 4314              	.LVL329:
2679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4315              		.loc 1 2679 0
 4316 0008 FFF7FEFF 		bl	HAL_GetTick
 4317              	.LVL330:
2682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 4318              		.loc 1 2682 0
 4319 000c 2B68     		ldr	r3, [r5]
 4320 000e 1B68     		ldr	r3, [r3]
 4321 0010 13F4807F 		tst	r3, #256
 4322 0014 27D1     		bne	.L343
2685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4323              		.loc 1 2685 0
 4324 0016 2268     		ldr	r2, [r4]
 4325 0018 5368     		ldr	r3, [r2, #4]
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 157


 4326 001a 23F02003 		bic	r3, r3, #32
 4327 001e 5360     		str	r3, [r2, #4]
2688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4328              		.loc 1 2688 0
 4329 0020 2268     		ldr	r2, [r4]
 4330 0022 5368     		ldr	r3, [r2, #4]
 4331 0024 23F00203 		bic	r3, r3, #2
 4332 0028 5360     		str	r3, [r2, #4]
2691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4333              		.loc 1 2691 0
 4334 002a 0246     		mov	r2, r0
 4335 002c 6421     		movs	r1, #100
 4336 002e 2046     		mov	r0, r4
 4337              	.LVL331:
 4338 0030 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 4339              	.LVL332:
 4340 0034 18B1     		cbz	r0, .L344
2693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 4341              		.loc 1 2693 0
 4342 0036 636D     		ldr	r3, [r4, #84]
 4343 0038 43F02003 		orr	r3, r3, #32
 4344 003c 6365     		str	r3, [r4, #84]
 4345              	.L344:
2697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4346              		.loc 1 2697 0
 4347 003e A368     		ldr	r3, [r4, #8]
 4348 0040 33B9     		cbnz	r3, .L345
 4349              	.LBB9:
2699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 4350              		.loc 1 2699 0
 4351 0042 0193     		str	r3, [sp, #4]
 4352 0044 2368     		ldr	r3, [r4]
 4353 0046 DA68     		ldr	r2, [r3, #12]
 4354 0048 0192     		str	r2, [sp, #4]
 4355 004a 9B68     		ldr	r3, [r3, #8]
 4356 004c 0193     		str	r3, [sp, #4]
 4357 004e 019B     		ldr	r3, [sp, #4]
 4358              	.L345:
 4359              	.LBE9:
2702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 4360              		.loc 1 2702 0
 4361 0050 0023     		movs	r3, #0
 4362 0052 E386     		strh	r3, [r4, #54]	@ movhi
2703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4363              		.loc 1 2703 0
 4364 0054 0123     		movs	r3, #1
 4365 0056 84F85130 		strb	r3, [r4, #81]
2705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4366              		.loc 1 2705 0
 4367 005a 636D     		ldr	r3, [r4, #84]
 4368 005c 1BB1     		cbz	r3, .L343
2711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4369              		.loc 1 2711 0
 4370 005e 2046     		mov	r0, r4
 4371 0060 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 4372              	.LVL333:
2713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 158


 4373              		.loc 1 2713 0
 4374 0064 02E0     		b	.L342
 4375              	.L343:
2720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4376              		.loc 1 2720 0
 4377 0066 2046     		mov	r0, r4
 4378 0068 FFF7FEFF 		bl	HAL_SPI_TxCpltCallback
 4379              	.LVL334:
 4380              	.L342:
2722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4381              		.loc 1 2722 0
 4382 006c 03B0     		add	sp, sp, #12
 4383              	.LCFI58:
 4384              		.cfi_def_cfa_offset 12
 4385              		@ sp needed
 4386 006e 30BD     		pop	{r4, r5, pc}
 4387              		.cfi_endproc
 4388              	.LFE159:
 4390              		.section	.text.SPI_DMAReceiveCplt,"ax",%progbits
 4391              		.align	2
 4392              		.thumb
 4393              		.thumb_func
 4395              	SPI_DMAReceiveCplt:
 4396              	.LFB160:
2731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 4397              		.loc 1 2731 0
 4398              		.cfi_startproc
 4399              		@ args = 0, pretend = 0, frame = 0
 4400              		@ frame_needed = 0, uses_anonymous_args = 0
 4401              	.LVL335:
 4402 0000 38B5     		push	{r3, r4, r5, lr}
 4403              	.LCFI59:
 4404              		.cfi_def_cfa_offset 16
 4405              		.cfi_offset 3, -16
 4406              		.cfi_offset 4, -12
 4407              		.cfi_offset 5, -8
 4408              		.cfi_offset 14, -4
 4409 0002 0546     		mov	r5, r0
2732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart;
 4410              		.loc 1 2732 0
 4411 0004 846B     		ldr	r4, [r0, #56]
 4412              	.LVL336:
2739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4413              		.loc 1 2739 0
 4414 0006 FFF7FEFF 		bl	HAL_GetTick
 4415              	.LVL337:
2742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 4416              		.loc 1 2742 0
 4417 000a 2B68     		ldr	r3, [r5]
 4418 000c 1B68     		ldr	r3, [r3]
 4419 000e 13F4807F 		tst	r3, #256
 4420 0012 28D1     		bne	.L349
2745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4421              		.loc 1 2745 0
 4422 0014 2168     		ldr	r1, [r4]
 4423 0016 4B68     		ldr	r3, [r1, #4]
 4424 0018 23F02003 		bic	r3, r3, #32
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 159


 4425 001c 4B60     		str	r3, [r1, #4]
2765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4426              		.loc 1 2765 0
 4427 001e A368     		ldr	r3, [r4, #8]
 4428 0020 4BB9     		cbnz	r3, .L350
2765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4429              		.loc 1 2765 0 is_stmt 0 discriminator 1
 4430 0022 6368     		ldr	r3, [r4, #4]
 4431 0024 B3F5827F 		cmp	r3, #260
 4432 0028 05D1     		bne	.L350
2768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 4433              		.loc 1 2768 0 is_stmt 1
 4434 002a 2268     		ldr	r2, [r4]
 4435 002c 5368     		ldr	r3, [r2, #4]
 4436 002e 23F00303 		bic	r3, r3, #3
 4437 0032 5360     		str	r3, [r2, #4]
 4438 0034 04E0     		b	.L351
 4439              	.L350:
2773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 4440              		.loc 1 2773 0
 4441 0036 2168     		ldr	r1, [r4]
 4442 0038 4B68     		ldr	r3, [r1, #4]
 4443 003a 23F00103 		bic	r3, r3, #1
 4444 003e 4B60     		str	r3, [r1, #4]
 4445              	.L351:
2777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4446              		.loc 1 2777 0
 4447 0040 0246     		mov	r2, r0
 4448 0042 6421     		movs	r1, #100
 4449 0044 2046     		mov	r0, r4
 4450              	.LVL338:
 4451 0046 FFF7FEFF 		bl	SPI_EndRxTransaction
 4452              	.LVL339:
 4453 004a 08B1     		cbz	r0, .L352
2779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 4454              		.loc 1 2779 0
 4455 004c 2023     		movs	r3, #32
 4456 004e 6365     		str	r3, [r4, #84]
 4457              	.L352:
2782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 4458              		.loc 1 2782 0
 4459 0050 0023     		movs	r3, #0
 4460 0052 E387     		strh	r3, [r4, #62]	@ movhi
2783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4461              		.loc 1 2783 0
 4462 0054 0123     		movs	r3, #1
 4463 0056 84F85130 		strb	r3, [r4, #81]
2794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4464              		.loc 1 2794 0
 4465 005a 636D     		ldr	r3, [r4, #84]
 4466 005c 1BB1     		cbz	r3, .L349
2800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4467              		.loc 1 2800 0
 4468 005e 2046     		mov	r0, r4
 4469 0060 FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 4470              	.LVL340:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 160


 4471              		.loc 1 2802 0
 4472 0064 38BD     		pop	{r3, r4, r5, pc}
 4473              	.LVL341:
 4474              	.L349:
2809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4475              		.loc 1 2809 0
 4476 0066 2046     		mov	r0, r4
 4477 0068 FFF7FEFF 		bl	HAL_SPI_RxCpltCallback
 4478              	.LVL342:
 4479 006c 38BD     		pop	{r3, r4, r5, pc}
 4480              		.cfi_endproc
 4481              	.LFE160:
 4483 006e 00BF     		.section	.text.SPI_DMATransmitReceiveCplt,"ax",%progbits
 4484              		.align	2
 4485              		.thumb
 4486              		.thumb_func
 4488              	SPI_DMATransmitReceiveCplt:
 4489              	.LFB161:
2820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 4490              		.loc 1 2820 0
 4491              		.cfi_startproc
 4492              		@ args = 0, pretend = 0, frame = 0
 4493              		@ frame_needed = 0, uses_anonymous_args = 0
 4494              	.LVL343:
 4495 0000 38B5     		push	{r3, r4, r5, lr}
 4496              	.LCFI60:
 4497              		.cfi_def_cfa_offset 16
 4498              		.cfi_offset 3, -16
 4499              		.cfi_offset 4, -12
 4500              		.cfi_offset 5, -8
 4501              		.cfi_offset 14, -4
 4502 0002 0546     		mov	r5, r0
2821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t tickstart;
 4503              		.loc 1 2821 0
 4504 0004 846B     		ldr	r4, [r0, #56]
 4505              	.LVL344:
2828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4506              		.loc 1 2828 0
 4507 0006 FFF7FEFF 		bl	HAL_GetTick
 4508              	.LVL345:
2831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 4509              		.loc 1 2831 0
 4510 000a 2B68     		ldr	r3, [r5]
 4511 000c 1B68     		ldr	r3, [r3]
 4512 000e 13F4807F 		tst	r3, #256
 4513 0012 1FD1     		bne	.L356
2834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4514              		.loc 1 2834 0
 4515 0014 2268     		ldr	r2, [r4]
 4516 0016 5368     		ldr	r3, [r2, #4]
 4517 0018 23F02003 		bic	r3, r3, #32
 4518 001c 5360     		str	r3, [r2, #4]
2853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4519              		.loc 1 2853 0
 4520 001e 0246     		mov	r2, r0
 4521 0020 6421     		movs	r1, #100
 4522 0022 2046     		mov	r0, r4
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 161


 4523              	.LVL346:
 4524 0024 FFF7FEFF 		bl	SPI_EndRxTxTransaction
 4525              	.LVL347:
 4526 0028 18B1     		cbz	r0, .L357
2855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 4527              		.loc 1 2855 0
 4528 002a 636D     		ldr	r3, [r4, #84]
 4529 002c 43F02003 		orr	r3, r3, #32
 4530 0030 6365     		str	r3, [r4, #84]
 4531              	.L357:
2859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4532              		.loc 1 2859 0
 4533 0032 2268     		ldr	r2, [r4]
 4534 0034 5368     		ldr	r3, [r2, #4]
 4535 0036 23F00303 		bic	r3, r3, #3
 4536 003a 5360     		str	r3, [r2, #4]
2861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->RxXferCount = 0U;
 4537              		.loc 1 2861 0
 4538 003c 0023     		movs	r3, #0
 4539 003e E386     		strh	r3, [r4, #54]	@ movhi
2862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->State = HAL_SPI_STATE_READY;
 4540              		.loc 1 2862 0
 4541 0040 E387     		strh	r3, [r4, #62]	@ movhi
2863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4542              		.loc 1 2863 0
 4543 0042 0123     		movs	r3, #1
 4544 0044 84F85130 		strb	r3, [r4, #81]
2874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4545              		.loc 1 2874 0
 4546 0048 636D     		ldr	r3, [r4, #84]
 4547 004a 1BB1     		cbz	r3, .L356
2880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4548              		.loc 1 2880 0
 4549 004c 2046     		mov	r0, r4
 4550 004e FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 4551              	.LVL348:
2882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 4552              		.loc 1 2882 0
 4553 0052 38BD     		pop	{r3, r4, r5, pc}
 4554              	.LVL349:
 4555              	.L356:
2889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4556              		.loc 1 2889 0
 4557 0054 2046     		mov	r0, r4
 4558 0056 FFF7FEFF 		bl	HAL_SPI_TxRxCpltCallback
 4559              	.LVL350:
 4560 005a 38BD     		pop	{r3, r4, r5, pc}
 4561              		.cfi_endproc
 4562              	.LFE161:
 4564              		.section	.text.HAL_SPI_IRQHandler,"ax",%progbits
 4565              		.align	2
 4566              		.global	HAL_SPI_IRQHandler
 4567              		.thumb
 4568              		.thumb_func
 4570              	HAL_SPI_IRQHandler:
 4571              	.LFB148:
2381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t itsource = hspi->Instance->CR2;
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 162


 4572              		.loc 1 2381 0
 4573              		.cfi_startproc
 4574              		@ args = 0, pretend = 0, frame = 16
 4575              		@ frame_needed = 0, uses_anonymous_args = 0
 4576              	.LVL351:
 4577 0000 10B5     		push	{r4, lr}
 4578              	.LCFI61:
 4579              		.cfi_def_cfa_offset 8
 4580              		.cfi_offset 4, -8
 4581              		.cfi_offset 14, -4
 4582 0002 84B0     		sub	sp, sp, #16
 4583              	.LCFI62:
 4584              		.cfi_def_cfa_offset 24
 4585 0004 0446     		mov	r4, r0
2382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   uint32_t itflag   = hspi->Instance->SR;
 4586              		.loc 1 2382 0
 4587 0006 0268     		ldr	r2, [r0]
 4588 0008 5168     		ldr	r1, [r2, #4]
 4589              	.LVL352:
2383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4590              		.loc 1 2383 0
 4591 000a 9368     		ldr	r3, [r2, #8]
 4592              	.LVL353:
2386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       (SPI_CHECK_FLAG(itflag, SPI_FLAG_RXNE) != RESET) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT_RXN
 4593              		.loc 1 2386 0
 4594 000c 03F04100 		and	r0, r3, #65
 4595              	.LVL354:
 4596 0010 0128     		cmp	r0, #1
 4597 0012 06D1     		bne	.L361
2387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 4598              		.loc 1 2387 0
 4599 0014 11F0400F 		tst	r1, #64
 4600 0018 03D0     		beq	.L361
2389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return;
 4601              		.loc 1 2389 0
 4602 001a 236C     		ldr	r3, [r4, #64]
 4603              	.LVL355:
 4604 001c 2046     		mov	r0, r4
 4605 001e 9847     		blx	r3
 4606              	.LVL356:
2390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 4607              		.loc 1 2390 0
 4608 0020 76E0     		b	.L360
 4609              	.LVL357:
 4610              	.L361:
2394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 4611              		.loc 1 2394 0
 4612 0022 13F0020F 		tst	r3, #2
 4613 0026 06D0     		beq	.L363
2394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 4614              		.loc 1 2394 0 is_stmt 0 discriminator 1
 4615 0028 11F0800F 		tst	r1, #128
 4616 002c 03D0     		beq	.L363
2396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     return;
 4617              		.loc 1 2396 0 is_stmt 1
 4618 002e 636C     		ldr	r3, [r4, #68]
 4619              	.LVL358:
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 163


 4620 0030 2046     		mov	r0, r4
 4621 0032 9847     		blx	r3
 4622              	.LVL359:
2397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 4623              		.loc 1 2397 0
 4624 0034 6CE0     		b	.L360
 4625              	.LVL360:
 4626              	.L363:
2401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****        || (SPI_CHECK_FLAG(itflag, SPI_FLAG_FRE) != RESET)) && (SPI_CHECK_IT_SOURCE(itsource, SPI_IT
 4627              		.loc 1 2401 0
 4628 0036 13F4B07F 		tst	r3, #352
 4629 003a 69D0     		beq	.L360
2402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 4630              		.loc 1 2402 0
 4631 003c 11F0200F 		tst	r1, #32
 4632 0040 66D0     		beq	.L360
2405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4633              		.loc 1 2405 0
 4634 0042 13F0400F 		tst	r3, #64
 4635 0046 18D0     		beq	.L364
2407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 4636              		.loc 1 2407 0
 4637 0048 94F85100 		ldrb	r0, [r4, #81]	@ zero_extendqisi2
 4638 004c C0B2     		uxtb	r0, r0
 4639 004e 0328     		cmp	r0, #3
 4640 0050 0BD0     		beq	.L365
2409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         __HAL_SPI_CLEAR_OVRFLAG(hspi);
 4641              		.loc 1 2409 0
 4642 0052 606D     		ldr	r0, [r4, #84]
 4643 0054 40F00400 		orr	r0, r0, #4
 4644 0058 6065     		str	r0, [r4, #84]
 4645              	.LBB10:
2410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 4646              		.loc 1 2410 0
 4647 005a 0020     		movs	r0, #0
 4648 005c 0090     		str	r0, [sp]
 4649 005e D068     		ldr	r0, [r2, #12]
 4650 0060 0090     		str	r0, [sp]
 4651 0062 9068     		ldr	r0, [r2, #8]
 4652 0064 0090     		str	r0, [sp]
 4653 0066 0098     		ldr	r0, [sp]
 4654              	.LBE10:
 4655 0068 07E0     		b	.L364
 4656              	.L365:
 4657              	.LBB11:
2414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         return;
 4658              		.loc 1 2414 0
 4659 006a 0023     		movs	r3, #0
 4660              	.LVL361:
 4661 006c 0193     		str	r3, [sp, #4]
 4662 006e D368     		ldr	r3, [r2, #12]
 4663 0070 0193     		str	r3, [sp, #4]
 4664 0072 9368     		ldr	r3, [r2, #8]
 4665 0074 0193     		str	r3, [sp, #4]
 4666 0076 019B     		ldr	r3, [sp, #4]
 4667              	.LBE11:
2415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 164


 4668              		.loc 1 2415 0
 4669 0078 4AE0     		b	.L360
 4670              	.LVL362:
 4671              	.L364:
2420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4672              		.loc 1 2420 0
 4673 007a 13F0200F 		tst	r3, #32
 4674 007e 0CD0     		beq	.L366
2422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_MODFFLAG(hspi);
 4675              		.loc 1 2422 0
 4676 0080 606D     		ldr	r0, [r4, #84]
 4677 0082 40F00100 		orr	r0, r0, #1
 4678 0086 6065     		str	r0, [r4, #84]
 4679              	.LBB12:
2423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 4680              		.loc 1 2423 0
 4681 0088 0020     		movs	r0, #0
 4682 008a 0290     		str	r0, [sp, #8]
 4683 008c 9068     		ldr	r0, [r2, #8]
 4684 008e 0290     		str	r0, [sp, #8]
 4685 0090 1068     		ldr	r0, [r2]
 4686 0092 20F04000 		bic	r0, r0, #64
 4687 0096 1060     		str	r0, [r2]
 4688 0098 029A     		ldr	r2, [sp, #8]
 4689              	.L366:
 4690              	.LBE12:
2427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4691              		.loc 1 2427 0
 4692 009a 13F4807F 		tst	r3, #256
 4693 009e 09D0     		beq	.L367
2429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       __HAL_SPI_CLEAR_FREFLAG(hspi);
 4694              		.loc 1 2429 0
 4695 00a0 636D     		ldr	r3, [r4, #84]
 4696              	.LVL363:
 4697 00a2 43F00803 		orr	r3, r3, #8
 4698 00a6 6365     		str	r3, [r4, #84]
 4699              	.LBB13:
2430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 4700              		.loc 1 2430 0
 4701 00a8 0023     		movs	r3, #0
 4702 00aa 0393     		str	r3, [sp, #12]
 4703 00ac 2368     		ldr	r3, [r4]
 4704 00ae 9B68     		ldr	r3, [r3, #8]
 4705 00b0 0393     		str	r3, [sp, #12]
 4706 00b2 039B     		ldr	r3, [sp, #12]
 4707              	.L367:
 4708              	.LBE13:
2433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4709              		.loc 1 2433 0
 4710 00b4 636D     		ldr	r3, [r4, #84]
 4711 00b6 5BB3     		cbz	r3, .L360
2436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4712              		.loc 1 2436 0
 4713 00b8 2268     		ldr	r2, [r4]
 4714 00ba 5368     		ldr	r3, [r2, #4]
 4715 00bc 23F0E003 		bic	r3, r3, #224
 4716 00c0 5360     		str	r3, [r2, #4]
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 165


2438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       /* Disable the SPI DMA requests if enabled */
 4717              		.loc 1 2438 0
 4718 00c2 0123     		movs	r3, #1
 4719 00c4 84F85130 		strb	r3, [r4, #81]
2440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 4720              		.loc 1 2440 0
 4721 00c8 11F0030F 		tst	r1, #3
 4722 00cc 1DD0     		beq	.L368
2442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4723              		.loc 1 2442 0
 4724 00ce 2268     		ldr	r2, [r4]
 4725 00d0 5368     		ldr	r3, [r2, #4]
 4726 00d2 23F00303 		bic	r3, r3, #3
 4727 00d6 5360     		str	r3, [r2, #4]
2445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 4728              		.loc 1 2445 0
 4729 00d8 E36C     		ldr	r3, [r4, #76]
 4730 00da 4BB1     		cbz	r3, .L369
2449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmarx))
 4731              		.loc 1 2449 0
 4732 00dc 0D4A     		ldr	r2, .L371
 4733 00de 1A65     		str	r2, [r3, #80]
2450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           {
 4734              		.loc 1 2450 0
 4735 00e0 E06C     		ldr	r0, [r4, #76]
 4736 00e2 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 4737              	.LVL364:
 4738 00e6 18B1     		cbz	r0, .L369
2452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           }
 4739              		.loc 1 2452 0
 4740 00e8 636D     		ldr	r3, [r4, #84]
 4741 00ea 43F04003 		orr	r3, r3, #64
 4742 00ee 6365     		str	r3, [r4, #84]
 4743              	.L369:
2456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         {
 4744              		.loc 1 2456 0
 4745 00f0 A36C     		ldr	r3, [r4, #72]
 4746 00f2 6BB1     		cbz	r3, .L360
2460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           if (HAL_OK != HAL_DMA_Abort_IT(hspi->hdmatx))
 4747              		.loc 1 2460 0
 4748 00f4 074A     		ldr	r2, .L371
 4749 00f6 1A65     		str	r2, [r3, #80]
2461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           {
 4750              		.loc 1 2461 0
 4751 00f8 A06C     		ldr	r0, [r4, #72]
 4752 00fa FFF7FEFF 		bl	HAL_DMA_Abort_IT
 4753              	.LVL365:
 4754 00fe 38B1     		cbz	r0, .L360
2463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****           }
 4755              		.loc 1 2463 0
 4756 0100 636D     		ldr	r3, [r4, #84]
 4757 0102 43F04003 		orr	r3, r3, #64
 4758 0106 6365     		str	r3, [r4, #84]
 4759 0108 02E0     		b	.L360
 4760              	.LVL366:
 4761              	.L368:
2473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 166


 4762              		.loc 1 2473 0
 4763 010a 2046     		mov	r0, r4
 4764 010c FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 4765              	.LVL367:
 4766              	.L360:
2479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4767              		.loc 1 2479 0
 4768 0110 04B0     		add	sp, sp, #16
 4769              	.LCFI63:
 4770              		.cfi_def_cfa_offset 8
 4771              		@ sp needed
 4772 0112 10BD     		pop	{r4, pc}
 4773              	.LVL368:
 4774              	.L372:
 4775              		.align	2
 4776              	.L371:
 4777 0114 00000000 		.word	SPI_DMAAbortOnError
 4778              		.cfi_endproc
 4779              	.LFE148:
 4781              		.section	.text.SPI_DMAAbortOnError,"ax",%progbits
 4782              		.align	2
 4783              		.thumb
 4784              		.thumb_func
 4786              	SPI_DMAAbortOnError:
 4787              	.LFB166:
2977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 4788              		.loc 1 2977 0
 4789              		.cfi_startproc
 4790              		@ args = 0, pretend = 0, frame = 0
 4791              		@ frame_needed = 0, uses_anonymous_args = 0
 4792              	.LVL369:
 4793 0000 08B5     		push	{r3, lr}
 4794              	.LCFI64:
 4795              		.cfi_def_cfa_offset 8
 4796              		.cfi_offset 3, -8
 4797              		.cfi_offset 14, -4
2978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->RxXferCount = 0U;
 4798              		.loc 1 2978 0
 4799 0002 806B     		ldr	r0, [r0, #56]
 4800              	.LVL370:
2979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 4801              		.loc 1 2979 0
 4802 0004 0023     		movs	r3, #0
 4803 0006 C387     		strh	r3, [r0, #62]	@ movhi
2980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4804              		.loc 1 2980 0
 4805 0008 C386     		strh	r3, [r0, #54]	@ movhi
2986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 4806              		.loc 1 2986 0
 4807 000a FFF7FEFF 		bl	HAL_SPI_ErrorCallback
 4808              	.LVL371:
 4809 000e 08BD     		pop	{r3, pc}
 4810              		.cfi_endproc
 4811              	.LFE166:
 4813              		.section	.text.HAL_SPI_AbortCpltCallback,"ax",%progbits
 4814              		.align	2
 4815              		.weak	HAL_SPI_AbortCpltCallback
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 167


 4816              		.thumb
 4817              		.thumb_func
 4819              	HAL_SPI_AbortCpltCallback:
 4820              	.LFB156:
2602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Prevent unused argument(s) compilation warning */
 4821              		.loc 1 2602 0
 4822              		.cfi_startproc
 4823              		@ args = 0, pretend = 0, frame = 0
 4824              		@ frame_needed = 0, uses_anonymous_args = 0
 4825              		@ link register save eliminated.
 4826              	.LVL372:
 4827 0000 7047     		bx	lr
 4828              		.cfi_endproc
 4829              	.LFE156:
 4831 0002 00BF     		.section	.text.HAL_SPI_Abort_IT,"ax",%progbits
 4832              		.align	2
 4833              		.global	HAL_SPI_Abort_IT
 4834              		.thumb
 4835              		.thumb_func
 4837              	HAL_SPI_Abort_IT:
 4838              	.LFB144:
2140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
 4839              		.loc 1 2140 0
 4840              		.cfi_startproc
 4841              		@ args = 0, pretend = 0, frame = 16
 4842              		@ frame_needed = 0, uses_anonymous_args = 0
 4843              	.LVL373:
2140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   HAL_StatusTypeDef errorcode;
 4844              		.loc 1 2140 0
 4845 0000 30B5     		push	{r4, r5, lr}
 4846              	.LCFI65:
 4847              		.cfi_def_cfa_offset 12
 4848              		.cfi_offset 4, -12
 4849              		.cfi_offset 5, -8
 4850              		.cfi_offset 14, -4
 4851 0002 85B0     		sub	sp, sp, #20
 4852              	.LCFI66:
 4853              		.cfi_def_cfa_offset 32
 4854 0004 0446     		mov	r4, r0
 4855              	.LVL374:
2149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   count = resetcount;
 4856              		.loc 1 2149 0
 4857 0006 504B     		ldr	r3, .L400
 4858 0008 1B68     		ldr	r3, [r3]
 4859 000a 504A     		ldr	r2, .L400+4
 4860 000c A2FB0323 		umull	r2, r3, r2, r3
 4861 0010 5B0A     		lsrs	r3, r3, #9
 4862 0012 6422     		movs	r2, #100
 4863 0014 02FB03F3 		mul	r3, r2, r3
 4864 0018 0293     		str	r3, [sp, #8]
2150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4865              		.loc 1 2150 0
 4866 001a 029B     		ldr	r3, [sp, #8]
 4867 001c 0393     		str	r3, [sp, #12]
2153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 4868              		.loc 1 2153 0
 4869 001e 0268     		ldr	r2, [r0]
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 168


 4870 0020 5368     		ldr	r3, [r2, #4]
 4871 0022 23F02003 		bic	r3, r3, #32
 4872 0026 5360     		str	r3, [r2, #4]
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 4873              		.loc 1 2156 0
 4874 0028 0268     		ldr	r2, [r0]
 4875 002a 5368     		ldr	r3, [r2, #4]
 4876 002c 13F0800F 		tst	r3, #128
 4877 0030 12D0     		beq	.L377
2158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 4878              		.loc 1 2158 0
 4879 0032 474B     		ldr	r3, .L400+8
 4880 0034 4364     		str	r3, [r0, #68]
 4881              	.L380:
2162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 4882              		.loc 1 2162 0
 4883 0036 039B     		ldr	r3, [sp, #12]
 4884 0038 23B9     		cbnz	r3, .L378
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 4885              		.loc 1 2164 0
 4886 003a 636D     		ldr	r3, [r4, #84]
 4887 003c 43F04003 		orr	r3, r3, #64
 4888 0040 6365     		str	r3, [r4, #84]
2165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 4889              		.loc 1 2165 0
 4890 0042 07E0     		b	.L379
 4891              	.L378:
2167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 4892              		.loc 1 2167 0
 4893 0044 039B     		ldr	r3, [sp, #12]
 4894 0046 013B     		subs	r3, r3, #1
 4895 0048 0393     		str	r3, [sp, #12]
2168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset Timeout Counter */
 4896              		.loc 1 2168 0
 4897 004a 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 4898 004e DBB2     		uxtb	r3, r3
 4899 0050 072B     		cmp	r3, #7
 4900 0052 F0D1     		bne	.L380
 4901              	.L379:
2170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 4902              		.loc 1 2170 0
 4903 0054 029B     		ldr	r3, [sp, #8]
 4904 0056 0393     		str	r3, [sp, #12]
 4905              	.L377:
2173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 4906              		.loc 1 2173 0
 4907 0058 5368     		ldr	r3, [r2, #4]
 4908 005a 13F0400F 		tst	r3, #64
 4909 005e 12D0     		beq	.L381
2175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Wait HAL_SPI_STATE_ABORT state */
 4910              		.loc 1 2175 0
 4911 0060 3C4B     		ldr	r3, .L400+12
 4912 0062 2364     		str	r3, [r4, #64]
 4913              	.L384:
2179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 4914              		.loc 1 2179 0
 4915 0064 039B     		ldr	r3, [sp, #12]
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 169


 4916 0066 23B9     		cbnz	r3, .L382
2181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         break;
 4917              		.loc 1 2181 0
 4918 0068 636D     		ldr	r3, [r4, #84]
 4919 006a 43F04003 		orr	r3, r3, #64
 4920 006e 6365     		str	r3, [r4, #84]
2182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 4921              		.loc 1 2182 0
 4922 0070 07E0     		b	.L383
 4923              	.L382:
2184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     } while (hspi->State != HAL_SPI_STATE_ABORT);
 4924              		.loc 1 2184 0
 4925 0072 039B     		ldr	r3, [sp, #12]
 4926 0074 013B     		subs	r3, r3, #1
 4927 0076 0393     		str	r3, [sp, #12]
2185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     /* Reset Timeout Counter */
 4928              		.loc 1 2185 0
 4929 0078 94F85130 		ldrb	r3, [r4, #81]	@ zero_extendqisi2
 4930 007c DBB2     		uxtb	r3, r3
 4931 007e 072B     		cmp	r3, #7
 4932 0080 F0D1     		bne	.L384
 4933              	.L383:
2187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 4934              		.loc 1 2187 0
 4935 0082 029B     		ldr	r3, [sp, #8]
 4936 0084 0393     		str	r3, [sp, #12]
 4937              	.L381:
2193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 4938              		.loc 1 2193 0
 4939 0086 A36C     		ldr	r3, [r4, #72]
 4940 0088 43B1     		cbz	r3, .L385
2197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4941              		.loc 1 2197 0
 4942 008a 5268     		ldr	r2, [r2, #4]
 4943 008c 12F0020F 		tst	r2, #2
 4944 0090 02D0     		beq	.L386
2199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 4945              		.loc 1 2199 0
 4946 0092 314A     		ldr	r2, .L400+16
 4947 0094 1A65     		str	r2, [r3, #80]
 4948 0096 01E0     		b	.L385
 4949              	.L386:
2203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 4950              		.loc 1 2203 0
 4951 0098 0022     		movs	r2, #0
 4952 009a 1A65     		str	r2, [r3, #80]
 4953              	.L385:
2207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 4954              		.loc 1 2207 0
 4955 009c E36C     		ldr	r3, [r4, #76]
 4956 009e 4BB1     		cbz	r3, .L387
2211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4957              		.loc 1 2211 0
 4958 00a0 2268     		ldr	r2, [r4]
 4959 00a2 5268     		ldr	r2, [r2, #4]
 4960 00a4 12F0010F 		tst	r2, #1
 4961 00a8 02D0     		beq	.L388
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 170


2213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 4962              		.loc 1 2213 0
 4963 00aa 2C4A     		ldr	r2, .L400+20
 4964 00ac 1A65     		str	r2, [r3, #80]
 4965 00ae 01E0     		b	.L387
 4966              	.L388:
2217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 4967              		.loc 1 2217 0
 4968 00b0 0022     		movs	r2, #0
 4969 00b2 1A65     		str	r2, [r3, #80]
 4970              	.L387:
2222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 4971              		.loc 1 2222 0
 4972 00b4 2368     		ldr	r3, [r4]
 4973 00b6 5B68     		ldr	r3, [r3, #4]
 4974 00b8 13F0020F 		tst	r3, #2
 4975 00bc 0BD0     		beq	.L393
2225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 4976              		.loc 1 2225 0
 4977 00be A06C     		ldr	r0, [r4, #72]
 4978              	.LVL375:
 4979 00c0 58B1     		cbz	r0, .L394
2228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 4980              		.loc 1 2228 0
 4981 00c2 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 4982              	.LVL376:
 4983 00c6 50B1     		cbz	r0, .L395
2230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 4984              		.loc 1 2230 0
 4985 00c8 A36C     		ldr	r3, [r4, #72]
 4986 00ca 0022     		movs	r2, #0
 4987 00cc 1A65     		str	r2, [r3, #80]
2231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 4988              		.loc 1 2231 0
 4989 00ce 4023     		movs	r3, #64
 4990 00d0 6365     		str	r3, [r4, #84]
2148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   resetcount = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 4991              		.loc 1 2148 0
 4992 00d2 0125     		movs	r5, #1
 4993 00d4 04E0     		b	.L389
 4994              	.LVL377:
 4995              	.L393:
 4996 00d6 0125     		movs	r5, #1
 4997 00d8 02E0     		b	.L389
 4998              	.LVL378:
 4999              	.L394:
 5000 00da 0125     		movs	r5, #1
 5001 00dc 00E0     		b	.L389
 5002              	.L395:
2235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 5003              		.loc 1 2235 0
 5004 00de 0025     		movs	r5, #0
 5005              	.L389:
 5006              	.LVL379:
2240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 5007              		.loc 1 2240 0
 5008 00e0 2368     		ldr	r3, [r4]
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 171


 5009 00e2 5B68     		ldr	r3, [r3, #4]
 5010 00e4 13F0010F 		tst	r3, #1
 5011 00e8 0BD0     		beq	.L390
2243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 5012              		.loc 1 2243 0
 5013 00ea E06C     		ldr	r0, [r4, #76]
 5014 00ec 48B1     		cbz	r0, .L390
2246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       {
 5015              		.loc 1 2246 0
 5016 00ee FFF7FEFF 		bl	HAL_DMA_Abort_IT
 5017              	.LVL380:
 5018 00f2 28B1     		cbz	r0, .L396
2248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****         hspi->ErrorCode = HAL_SPI_ERROR_ABORT;
 5019              		.loc 1 2248 0
 5020 00f4 E36C     		ldr	r3, [r4, #76]
 5021 00f6 0022     		movs	r2, #0
 5022 00f8 1A65     		str	r2, [r3, #80]
2249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 5023              		.loc 1 2249 0
 5024 00fa 4023     		movs	r3, #64
 5025 00fc 6365     		str	r3, [r4, #84]
 5026 00fe 00E0     		b	.L390
 5027              	.L396:
2253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       }
 5028              		.loc 1 2253 0
 5029 0100 0025     		movs	r5, #0
 5030              	.LVL381:
 5031              	.L390:
2258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 5032              		.loc 1 2258 0
 5033 0102 E5B1     		cbz	r5, .L397
2261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     hspi->TxXferCount = 0U;
 5034              		.loc 1 2261 0
 5035 0104 0023     		movs	r3, #0
 5036 0106 E387     		strh	r3, [r4, #62]	@ movhi
2262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5037              		.loc 1 2262 0
 5038 0108 E386     		strh	r3, [r4, #54]	@ movhi
2265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 5039              		.loc 1 2265 0
 5040 010a 636D     		ldr	r3, [r4, #84]
 5041 010c 402B     		cmp	r3, #64
 5042 010e 02D0     		beq	.L398
2273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 5043              		.loc 1 2273 0
 5044 0110 0025     		movs	r5, #0
 5045              	.LVL382:
 5046 0112 6565     		str	r5, [r4, #84]
 5047 0114 00E0     		b	.L392
 5048              	.LVL383:
 5049              	.L398:
2268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 5050              		.loc 1 2268 0
 5051 0116 0125     		movs	r5, #1
 5052              	.LVL384:
 5053              	.L392:
 5054              	.LBB14:
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 172


2277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     __HAL_SPI_CLEAR_FREFLAG(hspi);
 5055              		.loc 1 2277 0
 5056 0118 0022     		movs	r2, #0
 5057 011a 0092     		str	r2, [sp]
 5058 011c 2368     		ldr	r3, [r4]
 5059 011e D968     		ldr	r1, [r3, #12]
 5060 0120 0091     		str	r1, [sp]
 5061 0122 9968     		ldr	r1, [r3, #8]
 5062 0124 0091     		str	r1, [sp]
 5063 0126 0099     		ldr	r1, [sp]
 5064              	.LBE14:
 5065              	.LBB15:
2278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5066              		.loc 1 2278 0
 5067 0128 0192     		str	r2, [sp, #4]
 5068 012a 9B68     		ldr	r3, [r3, #8]
 5069 012c 0193     		str	r3, [sp, #4]
 5070 012e 019B     		ldr	r3, [sp, #4]
 5071              	.LBE15:
2281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5072              		.loc 1 2281 0
 5073 0130 0123     		movs	r3, #1
 5074 0132 84F85130 		strb	r3, [r4, #81]
2287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5075              		.loc 1 2287 0
 5076 0136 2046     		mov	r0, r4
 5077 0138 FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 5078              	.LVL385:
 5079 013c 00E0     		b	.L391
 5080              	.LVL386:
 5081              	.L397:
2147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   abortcplt = 1U;
 5082              		.loc 1 2147 0
 5083 013e 0025     		movs	r5, #0
 5084              	.LVL387:
 5085              	.L391:
2292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5086              		.loc 1 2292 0
 5087 0140 2846     		mov	r0, r5
 5088 0142 05B0     		add	sp, sp, #20
 5089              	.LCFI67:
 5090              		.cfi_def_cfa_offset 12
 5091              		@ sp needed
 5092 0144 30BD     		pop	{r4, r5, pc}
 5093              	.LVL388:
 5094              	.L401:
 5095 0146 00BF     		.align	2
 5096              	.L400:
 5097 0148 00000000 		.word	SystemCoreClock
 5098 014c F1197605 		.word	91625969
 5099 0150 00000000 		.word	SPI_AbortTx_ISR
 5100 0154 00000000 		.word	SPI_AbortRx_ISR
 5101 0158 00000000 		.word	SPI_DMATxAbortCallback
 5102 015c 00000000 		.word	SPI_DMARxAbortCallback
 5103              		.cfi_endproc
 5104              	.LFE144:
 5106              		.section	.text.SPI_DMARxAbortCallback,"ax",%progbits
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 173


 5107              		.align	2
 5108              		.thumb
 5109              		.thumb_func
 5111              	SPI_DMARxAbortCallback:
 5112              	.LFB168:
3064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 5113              		.loc 1 3064 0
 5114              		.cfi_startproc
 5115              		@ args = 0, pretend = 0, frame = 8
 5116              		@ frame_needed = 0, uses_anonymous_args = 0
 5117              	.LVL389:
 5118 0000 10B5     		push	{r4, lr}
 5119              	.LCFI68:
 5120              		.cfi_def_cfa_offset 8
 5121              		.cfi_offset 4, -8
 5122              		.cfi_offset 14, -4
 5123 0002 82B0     		sub	sp, sp, #8
 5124              	.LCFI69:
 5125              		.cfi_def_cfa_offset 16
3065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5126              		.loc 1 3065 0
 5127 0004 846B     		ldr	r4, [r0, #56]
 5128              	.LVL390:
3068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5129              		.loc 1 3068 0
 5130 0006 2268     		ldr	r2, [r4]
 5131 0008 1368     		ldr	r3, [r2]
 5132 000a 23F04003 		bic	r3, r3, #64
 5133 000e 1360     		str	r3, [r2]
3070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5134              		.loc 1 3070 0
 5135 0010 E36C     		ldr	r3, [r4, #76]
 5136 0012 0022     		movs	r2, #0
 5137 0014 1A65     		str	r2, [r3, #80]
3073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5138              		.loc 1 3073 0
 5139 0016 2268     		ldr	r2, [r4]
 5140 0018 5368     		ldr	r3, [r2, #4]
 5141 001a 23F00103 		bic	r3, r3, #1
 5142 001e 5360     		str	r3, [r2, #4]
3076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 5143              		.loc 1 3076 0
 5144 0020 FFF7FEFF 		bl	HAL_GetTick
 5145              	.LVL391:
 5146 0024 0246     		mov	r2, r0
 5147 0026 6421     		movs	r1, #100
 5148 0028 2046     		mov	r0, r4
 5149 002a FFF7FEFF 		bl	SPI_EndRxTxTransaction
 5150              	.LVL392:
 5151 002e 18B1     		cbz	r0, .L403
3078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 5152              		.loc 1 3078 0
 5153 0030 636D     		ldr	r3, [r4, #84]
 5154 0032 43F04003 		orr	r3, r3, #64
 5155 0036 6365     		str	r3, [r4, #84]
 5156              	.L403:
3082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 174


 5157              		.loc 1 3082 0
 5158 0038 A36C     		ldr	r3, [r4, #72]
 5159 003a 0BB1     		cbz	r3, .L404
3084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 5160              		.loc 1 3084 0
 5161 003c 1B6D     		ldr	r3, [r3, #80]
 5162 003e CBB9     		cbnz	r3, .L402
 5163              	.L404:
3091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 5164              		.loc 1 3091 0
 5165 0040 0023     		movs	r3, #0
 5166 0042 E387     		strh	r3, [r4, #62]	@ movhi
3092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5167              		.loc 1 3092 0
 5168 0044 E386     		strh	r3, [r4, #54]	@ movhi
3095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 5169              		.loc 1 3095 0
 5170 0046 636D     		ldr	r3, [r4, #84]
 5171 0048 402B     		cmp	r3, #64
 5172 004a 01D0     		beq	.L406
3098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 5173              		.loc 1 3098 0
 5174 004c 0023     		movs	r3, #0
 5175 004e 6365     		str	r3, [r4, #84]
 5176              	.L406:
 5177              	.LBB16:
3102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 5178              		.loc 1 3102 0
 5179 0050 0022     		movs	r2, #0
 5180 0052 0092     		str	r2, [sp]
 5181 0054 2368     		ldr	r3, [r4]
 5182 0056 D968     		ldr	r1, [r3, #12]
 5183 0058 0091     		str	r1, [sp]
 5184 005a 9968     		ldr	r1, [r3, #8]
 5185 005c 0091     		str	r1, [sp]
 5186 005e 0099     		ldr	r1, [sp]
 5187              	.LBE16:
 5188              	.LBB17:
3103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5189              		.loc 1 3103 0
 5190 0060 0192     		str	r2, [sp, #4]
 5191 0062 9B68     		ldr	r3, [r3, #8]
 5192 0064 0193     		str	r3, [sp, #4]
 5193 0066 019B     		ldr	r3, [sp, #4]
 5194              	.LBE17:
3106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5195              		.loc 1 3106 0
 5196 0068 0123     		movs	r3, #1
 5197 006a 84F85130 		strb	r3, [r4, #81]
3112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5198              		.loc 1 3112 0
 5199 006e 2046     		mov	r0, r4
 5200 0070 FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 5201              	.LVL393:
 5202              	.L402:
3114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5203              		.loc 1 3114 0
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 175


 5204 0074 02B0     		add	sp, sp, #8
 5205              	.LCFI70:
 5206              		.cfi_def_cfa_offset 8
 5207              		@ sp needed
 5208 0076 10BD     		pop	{r4, pc}
 5209              		.cfi_endproc
 5210              	.LFE168:
 5212              		.section	.text.SPI_DMATxAbortCallback,"ax",%progbits
 5213              		.align	2
 5214              		.thumb
 5215              		.thumb_func
 5217              	SPI_DMATxAbortCallback:
 5218              	.LFB167:
2999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   SPI_HandleTypeDef *hspi = (SPI_HandleTypeDef *)(((DMA_HandleTypeDef *)hdma)->Parent); /* Derogati
 5219              		.loc 1 2999 0
 5220              		.cfi_startproc
 5221              		@ args = 0, pretend = 0, frame = 16
 5222              		@ frame_needed = 0, uses_anonymous_args = 0
 5223              	.LVL394:
 5224 0000 00B5     		push	{lr}
 5225              	.LCFI71:
 5226              		.cfi_def_cfa_offset 4
 5227              		.cfi_offset 14, -4
 5228 0002 85B0     		sub	sp, sp, #20
 5229              	.LCFI72:
 5230              		.cfi_def_cfa_offset 24
3000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __IO uint32_t count;
 5231              		.loc 1 3000 0
 5232 0004 806B     		ldr	r0, [r0, #56]
 5233              	.LVL395:
3003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   count = SPI_DEFAULT_TIMEOUT * (SystemCoreClock / 24U / 1000U);
 5234              		.loc 1 3003 0
 5235 0006 836C     		ldr	r3, [r0, #72]
 5236 0008 0022     		movs	r2, #0
 5237 000a 1A65     		str	r2, [r3, #80]
3004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5238              		.loc 1 3004 0
 5239 000c 1E4B     		ldr	r3, .L416
 5240 000e 1B68     		ldr	r3, [r3]
 5241 0010 1E4A     		ldr	r2, .L416+4
 5242 0012 A2FB0323 		umull	r2, r3, r2, r3
 5243 0016 5B0A     		lsrs	r3, r3, #9
 5244 0018 6422     		movs	r2, #100
 5245 001a 02FB03F3 		mul	r3, r2, r3
 5246 001e 0393     		str	r3, [sp, #12]
3007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5247              		.loc 1 3007 0
 5248 0020 0268     		ldr	r2, [r0]
 5249 0022 5368     		ldr	r3, [r2, #4]
 5250 0024 23F00203 		bic	r3, r3, #2
 5251 0028 5360     		str	r3, [r2, #4]
 5252              	.L411:
3012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 5253              		.loc 1 3012 0
 5254 002a 039B     		ldr	r3, [sp, #12]
 5255 002c 23B9     		cbnz	r3, .L409
3014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****       break;
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 176


 5256              		.loc 1 3014 0
 5257 002e 436D     		ldr	r3, [r0, #84]
 5258 0030 43F04003 		orr	r3, r3, #64
 5259 0034 4365     		str	r3, [r0, #84]
3015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     }
 5260              		.loc 1 3015 0
 5261 0036 07E0     		b	.L410
 5262              	.L409:
3017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   } while ((hspi->Instance->SR & SPI_FLAG_TXE) == RESET);
 5263              		.loc 1 3017 0
 5264 0038 039B     		ldr	r3, [sp, #12]
 5265 003a 013B     		subs	r3, r3, #1
 5266 003c 0393     		str	r3, [sp, #12]
3018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5267              		.loc 1 3018 0
 5268 003e 0368     		ldr	r3, [r0]
 5269 0040 9B68     		ldr	r3, [r3, #8]
 5270 0042 13F0020F 		tst	r3, #2
 5271 0046 F0D0     		beq	.L411
 5272              	.L410:
3021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 5273              		.loc 1 3021 0
 5274 0048 C36C     		ldr	r3, [r0, #76]
 5275 004a 0BB1     		cbz	r3, .L412
3023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****     {
 5276              		.loc 1 3023 0
 5277 004c 1B6D     		ldr	r3, [r3, #80]
 5278 004e C3B9     		cbnz	r3, .L408
 5279              	.L412:
3030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   hspi->TxXferCount = 0U;
 5280              		.loc 1 3030 0
 5281 0050 0023     		movs	r3, #0
 5282 0052 C387     		strh	r3, [r0, #62]	@ movhi
3031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5283              		.loc 1 3031 0
 5284 0054 C386     		strh	r3, [r0, #54]	@ movhi
3034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   {
 5285              		.loc 1 3034 0
 5286 0056 436D     		ldr	r3, [r0, #84]
 5287 0058 402B     		cmp	r3, #64
 5288 005a 01D0     		beq	.L414
3037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   }
 5289              		.loc 1 3037 0
 5290 005c 0023     		movs	r3, #0
 5291 005e 4365     		str	r3, [r0, #84]
 5292              	.L414:
 5293              	.LBB18:
3041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   __HAL_SPI_CLEAR_FREFLAG(hspi);
 5294              		.loc 1 3041 0
 5295 0060 0022     		movs	r2, #0
 5296 0062 0192     		str	r2, [sp, #4]
 5297 0064 0368     		ldr	r3, [r0]
 5298 0066 D968     		ldr	r1, [r3, #12]
 5299 0068 0191     		str	r1, [sp, #4]
 5300 006a 9968     		ldr	r1, [r3, #8]
 5301 006c 0191     		str	r1, [sp, #4]
 5302 006e 0199     		ldr	r1, [sp, #4]
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 177


 5303              	.LBE18:
 5304              	.LBB19:
3042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5305              		.loc 1 3042 0
 5306 0070 0292     		str	r2, [sp, #8]
 5307 0072 9B68     		ldr	r3, [r3, #8]
 5308 0074 0293     		str	r3, [sp, #8]
 5309 0076 029B     		ldr	r3, [sp, #8]
 5310              	.LBE19:
3045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5311              		.loc 1 3045 0
 5312 0078 0123     		movs	r3, #1
 5313 007a 80F85130 		strb	r3, [r0, #81]
3051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** #endif /* USE_HAL_SPI_REGISTER_CALLBACKS */
 5314              		.loc 1 3051 0
 5315 007e FFF7FEFF 		bl	HAL_SPI_AbortCpltCallback
 5316              	.LVL396:
 5317              	.L408:
3053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5318              		.loc 1 3053 0
 5319 0082 05B0     		add	sp, sp, #20
 5320              	.LCFI73:
 5321              		.cfi_def_cfa_offset 4
 5322              		@ sp needed
 5323 0084 5DF804FB 		ldr	pc, [sp], #4
 5324              	.L417:
 5325              		.align	2
 5326              	.L416:
 5327 0088 00000000 		.word	SystemCoreClock
 5328 008c F1197605 		.word	91625969
 5329              		.cfi_endproc
 5330              	.LFE167:
 5332              		.section	.text.HAL_SPI_GetState,"ax",%progbits
 5333              		.align	2
 5334              		.global	HAL_SPI_GetState
 5335              		.thumb
 5336              		.thumb_func
 5338              	HAL_SPI_GetState:
 5339              	.LFB157:
2637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Return SPI handle state */
 5340              		.loc 1 2637 0
 5341              		.cfi_startproc
 5342              		@ args = 0, pretend = 0, frame = 0
 5343              		@ frame_needed = 0, uses_anonymous_args = 0
 5344              		@ link register save eliminated.
 5345              	.LVL397:
2639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 5346              		.loc 1 2639 0
 5347 0000 90F85100 		ldrb	r0, [r0, #81]	@ zero_extendqisi2
 5348              	.LVL398:
2640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5349              		.loc 1 2640 0
 5350 0004 7047     		bx	lr
 5351              		.cfi_endproc
 5352              	.LFE157:
 5354 0006 00BF     		.section	.text.HAL_SPI_GetError,"ax",%progbits
 5355              		.align	2
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 178


 5356              		.global	HAL_SPI_GetError
 5357              		.thumb
 5358              		.thumb_func
 5360              	HAL_SPI_GetError:
 5361              	.LFB158:
2649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c ****   /* Return SPI ErrorCode */
 5362              		.loc 1 2649 0
 5363              		.cfi_startproc
 5364              		@ args = 0, pretend = 0, frame = 0
 5365              		@ frame_needed = 0, uses_anonymous_args = 0
 5366              		@ link register save eliminated.
 5367              	.LVL399:
2651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** }
 5368              		.loc 1 2651 0
 5369 0000 406D     		ldr	r0, [r0, #84]
 5370              	.LVL400:
2652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_spi.c **** 
 5371              		.loc 1 2652 0
 5372 0002 7047     		bx	lr
 5373              		.cfi_endproc
 5374              	.LFE158:
 5376              		.text
 5377              	.Letext0:
 5378              		.file 2 "c:\\program files (x86)\\gnu tools arm embedded\\5.4 2016q3\\arm-none-eabi\\include\\mach
 5379              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\5.4 2016q3\\arm-none-eabi\\include\\sys\
 5380              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xc.h"
 5381              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 5382              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 5383              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 5384              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 5385              		.file 9 "Drivers/CMSIS/Include/core_cm4.h"
 5386              		.file 10 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 5387              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 179


DEFINED SYMBOLS
                            *ABS*:00000000 stm32f4xx_hal_spi.c
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:22     .text.SPI_AbortRx_ISR:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:26     .text.SPI_AbortRx_ISR:00000000 SPI_AbortRx_ISR
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:99     .text.SPI_AbortRx_ISR:00000060 $d
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:105    .text.SPI_AbortTx_ISR:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:109    .text.SPI_AbortTx_ISR:00000000 SPI_AbortTx_ISR
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:135    .text.SPI_WaitFlagStateUntilTimeout:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:139    .text.SPI_WaitFlagStateUntilTimeout:00000000 SPI_WaitFlagStateUntilTimeout
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:279    .text.SPI_WaitFlagStateUntilTimeout:000000c8 $d
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:284    .text.SPI_EndRxTxTransaction:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:288    .text.SPI_EndRxTxTransaction:00000000 SPI_EndRxTxTransaction
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:367    .text.SPI_EndRxTxTransaction:00000060 $d
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:373    .text.SPI_EndRxTransaction:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:377    .text.SPI_EndRxTransaction:00000000 SPI_EndRxTransaction
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:492    .text.HAL_SPI_MspInit:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:497    .text.HAL_SPI_MspInit:00000000 HAL_SPI_MspInit
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:510    .text.HAL_SPI_Init:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:515    .text.HAL_SPI_Init:00000000 HAL_SPI_Init
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:642    .text.HAL_SPI_MspDeInit:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:647    .text.HAL_SPI_MspDeInit:00000000 HAL_SPI_MspDeInit
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:660    .text.HAL_SPI_DeInit:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:665    .text.HAL_SPI_DeInit:00000000 HAL_SPI_DeInit
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:715    .text.HAL_SPI_Transmit:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:720    .text.HAL_SPI_Transmit:00000000 HAL_SPI_Transmit
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:1043   .text.HAL_SPI_TransmitReceive:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:1048   .text.HAL_SPI_TransmitReceive:00000000 HAL_SPI_TransmitReceive
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:1491   .text.HAL_SPI_Receive:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:1496   .text.HAL_SPI_Receive:00000000 HAL_SPI_Receive
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:1776   .text.HAL_SPI_Transmit_IT:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:1781   .text.HAL_SPI_Transmit_IT:00000000 HAL_SPI_Transmit_IT
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:1908   .text.HAL_SPI_Transmit_IT:000000a0 $d
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3696   .text.SPI_TxISR_16BIT:00000000 SPI_TxISR_16BIT
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3652   .text.SPI_TxISR_8BIT:00000000 SPI_TxISR_8BIT
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:1914   .text.HAL_SPI_TransmitReceive_IT:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:1919   .text.HAL_SPI_TransmitReceive_IT:00000000 HAL_SPI_TransmitReceive_IT
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:2095   .text.HAL_SPI_TransmitReceive_IT:000000b8 $d
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4203   .text.SPI_2linesRxISR_16BIT:00000000 SPI_2linesRxISR_16BIT
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4150   .text.SPI_2linesTxISR_16BIT:00000000 SPI_2linesTxISR_16BIT
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4097   .text.SPI_2linesRxISR_8BIT:00000000 SPI_2linesRxISR_8BIT
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4044   .text.SPI_2linesTxISR_8BIT:00000000 SPI_2linesTxISR_8BIT
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:2103   .text.HAL_SPI_Receive_IT:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:2108   .text.HAL_SPI_Receive_IT:00000000 HAL_SPI_Receive_IT
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:2260   .text.HAL_SPI_Receive_IT:000000bc $d
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3864   .text.SPI_RxISR_16BIT:00000000 SPI_RxISR_16BIT
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3820   .text.SPI_RxISR_8BIT:00000000 SPI_RxISR_8BIT
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:2266   .text.HAL_SPI_Transmit_DMA:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:2271   .text.HAL_SPI_Transmit_DMA:00000000 HAL_SPI_Transmit_DMA
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:2442   .text.HAL_SPI_Transmit_DMA:000000d4 $d
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3394   .text.SPI_DMAHalfTransmitCplt:00000000 SPI_DMAHalfTransmitCplt
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4295   .text.SPI_DMATransmitCplt:00000000 SPI_DMATransmitCplt
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4256   .text.SPI_DMAError:00000000 SPI_DMAError
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:2449   .text.HAL_SPI_TransmitReceive_DMA:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:2454   .text.HAL_SPI_TransmitReceive_DMA:00000000 HAL_SPI_TransmitReceive_DMA
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:2714   .text.HAL_SPI_TransmitReceive_DMA:0000013c $d
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3440   .text.SPI_DMAHalfReceiveCplt:00000000 SPI_DMAHalfReceiveCplt
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4395   .text.SPI_DMAReceiveCplt:00000000 SPI_DMAReceiveCplt
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 180


C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3486   .text.SPI_DMAHalfTransmitReceiveCplt:00000000 SPI_DMAHalfTransmitReceiveCplt
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4488   .text.SPI_DMATransmitReceiveCplt:00000000 SPI_DMATransmitReceiveCplt
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:2723   .text.HAL_SPI_Receive_DMA:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:2728   .text.HAL_SPI_Receive_DMA:00000000 HAL_SPI_Receive_DMA
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:2910   .text.HAL_SPI_Receive_DMA:000000ec $d
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:2917   .text.HAL_SPI_Abort:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:2922   .text.HAL_SPI_Abort:00000000 HAL_SPI_Abort
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3147   .text.HAL_SPI_Abort:00000134 $d
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3155   .text.HAL_SPI_DMAPause:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3160   .text.HAL_SPI_DMAPause:00000000 HAL_SPI_DMAPause
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3198   .text.HAL_SPI_DMAResume:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3203   .text.HAL_SPI_DMAResume:00000000 HAL_SPI_DMAResume
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3241   .text.HAL_SPI_DMAStop:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3246   .text.HAL_SPI_DMAStop:00000000 HAL_SPI_DMAStop
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3318   .text.HAL_SPI_TxCpltCallback:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3323   .text.HAL_SPI_TxCpltCallback:00000000 HAL_SPI_TxCpltCallback
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3336   .text.HAL_SPI_RxCpltCallback:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3341   .text.HAL_SPI_RxCpltCallback:00000000 HAL_SPI_RxCpltCallback
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3354   .text.HAL_SPI_TxRxCpltCallback:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3359   .text.HAL_SPI_TxRxCpltCallback:00000000 HAL_SPI_TxRxCpltCallback
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3372   .text.HAL_SPI_TxHalfCpltCallback:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3377   .text.HAL_SPI_TxHalfCpltCallback:00000000 HAL_SPI_TxHalfCpltCallback
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3390   .text.SPI_DMAHalfTransmitCplt:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3418   .text.HAL_SPI_RxHalfCpltCallback:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3423   .text.HAL_SPI_RxHalfCpltCallback:00000000 HAL_SPI_RxHalfCpltCallback
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3436   .text.SPI_DMAHalfReceiveCplt:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3464   .text.HAL_SPI_TxRxHalfCpltCallback:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3469   .text.HAL_SPI_TxRxHalfCpltCallback:00000000 HAL_SPI_TxRxHalfCpltCallback
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3482   .text.SPI_DMAHalfTransmitReceiveCplt:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3510   .text.HAL_SPI_ErrorCallback:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3515   .text.HAL_SPI_ErrorCallback:00000000 HAL_SPI_ErrorCallback
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3528   .text.SPI_CloseTx_ISR:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3532   .text.SPI_CloseTx_ISR:00000000 SPI_CloseTx_ISR
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3642   .text.SPI_CloseTx_ISR:00000088 $d
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3648   .text.SPI_TxISR_8BIT:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3692   .text.SPI_TxISR_16BIT:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3736   .text.SPI_CloseRx_ISR:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3740   .text.SPI_CloseRx_ISR:00000000 SPI_CloseRx_ISR
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3816   .text.SPI_RxISR_8BIT:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3860   .text.SPI_RxISR_16BIT:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3904   .text.SPI_CloseRxTx_ISR:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:3908   .text.SPI_CloseRxTx_ISR:00000000 SPI_CloseRxTx_ISR
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4034   .text.SPI_CloseRxTx_ISR:000000a8 $d
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4040   .text.SPI_2linesTxISR_8BIT:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4093   .text.SPI_2linesRxISR_8BIT:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4146   .text.SPI_2linesTxISR_16BIT:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4199   .text.SPI_2linesRxISR_16BIT:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4252   .text.SPI_DMAError:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4291   .text.SPI_DMATransmitCplt:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4391   .text.SPI_DMAReceiveCplt:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4484   .text.SPI_DMATransmitReceiveCplt:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4565   .text.HAL_SPI_IRQHandler:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4570   .text.HAL_SPI_IRQHandler:00000000 HAL_SPI_IRQHandler
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4777   .text.HAL_SPI_IRQHandler:00000114 $d
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4786   .text.SPI_DMAAbortOnError:00000000 SPI_DMAAbortOnError
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4782   .text.SPI_DMAAbortOnError:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4814   .text.HAL_SPI_AbortCpltCallback:00000000 $t
ARM GAS  C:\Users\master\AppData\Local\Temp\cclX3Jfa.s 			page 181


C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4819   .text.HAL_SPI_AbortCpltCallback:00000000 HAL_SPI_AbortCpltCallback
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4832   .text.HAL_SPI_Abort_IT:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:4837   .text.HAL_SPI_Abort_IT:00000000 HAL_SPI_Abort_IT
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:5097   .text.HAL_SPI_Abort_IT:00000148 $d
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:5217   .text.SPI_DMATxAbortCallback:00000000 SPI_DMATxAbortCallback
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:5111   .text.SPI_DMARxAbortCallback:00000000 SPI_DMARxAbortCallback
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:5107   .text.SPI_DMARxAbortCallback:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:5213   .text.SPI_DMATxAbortCallback:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:5327   .text.SPI_DMATxAbortCallback:00000088 $d
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:5333   .text.HAL_SPI_GetState:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:5338   .text.HAL_SPI_GetState:00000000 HAL_SPI_GetState
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:5355   .text.HAL_SPI_GetError:00000000 $t
C:\Users\master\AppData\Local\Temp\cclX3Jfa.s:5360   .text.HAL_SPI_GetError:00000000 HAL_SPI_GetError
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
SystemCoreClock
HAL_GetTick
HAL_DMA_Start_IT
HAL_DMA_Abort
HAL_DMA_Abort_IT
